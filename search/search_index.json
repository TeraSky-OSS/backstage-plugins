{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"Welcome to TeraSky's Backstage Plugin Collection! \ud83d\ude80","text":"<p>Welcome to our comprehensive collection of Backstage plugins! We've created these plugins to enhance your Backstage experience and make your development workflow more efficient and enjoyable. All our plugins are thoroughly tested and compatible with Backstage version 1.48.0.</p>"},{"location":"#our-plugin-categories","title":"\ud83d\udd27 Our Plugin Categories","text":""},{"location":"#kubernetes","title":"Kubernetes","text":"<ol> <li>Kubernetes Ingestor  - Automatically create catalog entities from Kubernetes resources, with support for custom GVKs, Crossplane claims, and KRO resources. It also create GitOps friendly Software Templates for Crossplane Claims/Composites, CRDs, and KRO Instances.</li> <li>API Docs Module - CRD  - Interactive CRD documentation with doc.crds.dev-style visualization, multi-version support, and example YAML generation.</li> <li>Crossplane Suite  - Complete Crossplane integration for cloud resource management.</li> <li>KRO Suite  - Complete KRO integration for Kubernetes resource orchestration.</li> <li>Kyverno Policy Reports  - Policy compliance monitoring for Kubernetes.</li> <li>Kubernetes Resources  - Visual graph representation of Kubernetes resources and their dependencies with simple Backstage permission and RBAC management.</li> <li>SpectroCloud Suite  - Complete SpectroCloud Palette integration with catalog ingestion, frontend visualization, Kubernetes cluster discovery, OIDC authentication for single sign-on and user-level cluster access, and MCP actions for AI agents.</li> </ol>"},{"location":"#infrastructure-as-code","title":"Infrastructure As Code","text":"<ol> <li>GitOps Manifest Updater  - Update GitOps manifests and create PRs with ease.</li> <li>Terraform Scaffolder  - Generate Input forms in software templates for terraform module variables.</li> </ol>"},{"location":"#training-education","title":"Training &amp; Education","text":"<ol> <li>Educates Platform  - Complete training platform with workshop management.</li> </ol>"},{"location":"#development-tools","title":"Development Tools","text":"<ol> <li>DevPod Plugin  - Quick development environment setup with IDE integration.</li> <li>Spring Initializer  - Create Spring Boot applications with smart dependency filtering, version compatibility checking, and admin-configurable defaults.</li> </ol>"},{"location":"#resource-and-cost-optimization","title":"Resource And Cost Optimization","text":"<ol> <li>ScaleOps Suite  - Complete ScaleOps integration for cost optimization with AI-powered automation through MCP actions.</li> </ol>"},{"location":"#cloud-infrastructure","title":"Cloud Infrastructure","text":"<ol> <li>VCF Automation Suite  - Comprehensive VMware Cloud Foundation Automation integration.</li> <li>VCF Operations Suite  - Comprehensive VMware Cloud Foundation Operations observability integration.</li> </ol>"},{"location":"#ai","title":"AI","text":"<ol> <li>AI Coding Rules  - Comprehensive visualization and management of AI coding rules from Cursor, GitHub Copilot, and Cline.</li> <li>Scaffolder MCP Backend  - MCP actions for AI agents to discover, inspect, and execute software templates programmatically.</li> <li>RBAC MCP Backend  - MCP actions for AI agents to manage roles, permissions, and access policies programmatically.</li> <li>Catalog MCP Backend  - MCP actions for AI agents to query and discover catalog entities programmatically.</li> </ol>"},{"location":"#general-utilities","title":"General Utilities","text":"<ol> <li>Scaffolder Actions  - Powerful actions for automation:  <ul> <li>Crossplane claim template creation  </li> <li>CRD template creation  </li> <li>Catalog info cleaning  </li> </ul> </li> <li>Entity Scaffolder Plugin  - Embbed scaffolder templates in component pages.</li> <li>Template Builder  - Visual WYSIWYG editor for creating Backstage Software Templates with drag-and-drop workflow canvas, intelligent YAML autocomplete, and automatic field extension discovery.</li> <li>Global Sign-In Page  - Configuration-driven sign-in page supporting all core authentication providers through YAML config.</li> </ol>"},{"location":"#getting-started","title":"\ud83d\udca1 Getting Started","text":"<p>Each plugin includes comprehensive documentation with:</p> <ul> <li>Detailed installation instructions  </li> <li>Configuration examples  </li> <li>Best practices  </li> <li>Troubleshooting guides  </li> </ul>"},{"location":"#need-help","title":"\ud83d\udd0d Need Help?","text":"<ul> <li>Check each plugin's documentation for specific guides  </li> <li>Look for examples in the installation guides  </li> <li>Review the troubleshooting sections  </li> <li>Contact our support team for assistance  </li> </ul>"},{"location":"#latest-releases","title":"\ud83d\udce6 Latest Releases","text":"<p>All our plugins are actively maintained and regularly updated. Check the npm badge on each plugin for the latest version information.</p> <p>Built with \u2764\ufe0f by TeraSky for the Backstage Community</p>"},{"location":"plugins/ai-rules-plugin/overview/","title":"AI Coding Rules Plugin","text":"<p>The AI Coding Rules plugin for Backstage provides comprehensive visualization and management of AI coding rules from various sources like Cursor, GitHub Copilot, Cline, and Claude Code. It enables teams to discover, view, and manage their AI coding guidelines directly within the Backstage interface with clickable links to open rule files in their git repositories.</p>"},{"location":"plugins/ai-rules-plugin/overview/#plugin-components","title":"Plugin Components","text":""},{"location":"plugins/ai-rules-plugin/overview/#frontend-plugin","title":"Frontend Plugin","text":"<p>The frontend plugin provides two main components:</p>"},{"location":"plugins/ai-rules-plugin/overview/#aiinstructionscomponent-top-level-component","title":"AiInstructionsComponent (Top-Level Component)","text":"<p>A tabbed interface that integrates both AI rules and MCP server functionality: - \"Agent Rules\" tab for AI coding rules management - \"MCP Servers\" tab for MCP server configuration visualization - Unified navigation between both features - Configurable title prop</p>"},{"location":"plugins/ai-rules-plugin/overview/#airulescomponent","title":"AIRulesComponent","text":"<p>Provides visualization and management of AI coding rules: - Visualizing Cursor rules from <code>.mdc</code> files in <code>.cursor/rules/</code> directories - Displaying GitHub Copilot rules from <code>.github/copilot-instructions.md</code> and <code>*.instructions.md</code> files - Showing Cline rules from <code>.clinerules/*.md</code> files - Displaying Claude Code rules from <code>CLAUDE.md</code> files - Manual filtering with configurable default rule types - Clickable links to open rule files directly in git repositories - Viewing rule metadata and content in expandable cards - Statistics and overview of rule counts - Apply Filter functionality for controlled rule searches</p>"},{"location":"plugins/ai-rules-plugin/overview/#mcpserverscomponent","title":"MCPServersComponent","text":"<p>Dedicated interface for MCP server configuration management: - Groups servers by source (Cursor, VSCode, Claude) - Displays server counts per source - Shows server type (local/remote) and command information - Expandable view of environment variables - Raw configuration display with syntax highlighting - Support for both local (stdio) and remote server configurations</p> <p>Learn more about the frontend plugin</p>"},{"location":"plugins/ai-rules-plugin/overview/#backend-plugin","title":"Backend Plugin","text":"<p>The backend plugin handles:</p> <ul> <li>Integration with Backstage SCM integrations</li> <li>Fetching rules from Git repositories with retry logic and exponential backoff</li> <li>Parsing frontmatter metadata in rule files</li> <li>API endpoints for rule data retrieval</li> <li>Support for multiple rule types and formats</li> <li>Rate limiting protection for large repositories</li> <li>Multi-provider git support (GitHub, GitLab, etc.)</li> <li>Discovery and parsing of MCP server configurations from multiple sources:</li> <li>Cursor MCP configs from <code>.cursor/mcp.json</code></li> <li>VSCode MCP configs from <code>.vscode/mcp.json</code></li> <li>Claude MCP configs from <code>.mcp.json</code></li> <li>Support for both local (stdio) and remote MCP servers</li> </ul> <p>Learn more about the backend plugin</p>"},{"location":"plugins/ai-rules-plugin/overview/#features","title":"Features","text":"<ul> <li>Multi-Source Support: Support for Cursor, GitHub Copilot, Cline, and Claude Code rules</li> <li>Modern UI: Clean and intuitive interface with manual filtering and Apply Filter controls</li> <li>Clickable Git Links: Direct links to open rule files in git repositories in new tabs</li> <li>Rule Discovery: Automatic detection of rule files in repositories</li> <li>Configurable Defaults: Separate configuration for allowed and default rule types</li> <li>Manual Filtering: Users control when to search with Apply Filter functionality</li> <li>Metadata Parsing: Extract and display rule metadata from frontmatter</li> <li>Repository Integration: Seamless integration with all Backstage SCM integrations</li> <li>Rate Limiting Protection: Retry logic with exponential backoff for large repositories</li> <li>Multi-Provider Support: Works with GitHub, GitLab, and other git providers</li> <li>MCP Server Discovery: Automatic detection of MCP configurations from Cursor, VSCode, and Claude</li> <li>Flexible Server Support: Support for both local (stdio) and remote MCP server configurations</li> <li>Configuration Visualization: Display and inspect MCP server configurations with syntax highlighting</li> </ul>"},{"location":"plugins/ai-rules-plugin/overview/#screenshots","title":"Screenshots","text":""},{"location":"plugins/ai-rules-plugin/overview/#ai-rules-overview","title":"AI Rules Overview","text":"<p> AI Rules component showing no rule types selected</p> <p> AI Rules component showing rule statistics and filtering options</p> <p> Detailed view of AI coding rules from cursor with expandable cards</p> <p> Detailed view of AI coding rules from Claude Code project rules</p> <p> Detailed view of AI coding rules from copilot project rules</p> <p> Detailed view of AI coding rules from cline with expandable cards</p>"},{"location":"plugins/ai-rules-plugin/overview/#documentation-structure","title":"Documentation Structure","text":"<p>Frontend Plugin - About - Installation - Configuration </p> <p>Backend Plugin - About - Installation - Configuration </p>"},{"location":"plugins/ai-rules-plugin/overview/#supported-rule-types","title":"Supported Rule Types","text":"<p>The plugin supports the following AI coding rule sources:</p> <ul> <li>Cursor Rules: <code>.mdc</code> files in <code>.cursor/rules/</code> directories with frontmatter metadata support</li> <li>GitHub Copilot Rules: <code>.github/copilot-instructions.md</code> files with automatic section splitting</li> <li>Cline Rules: <code>.md</code> files in <code>.clinerules/</code> directories with markdown section extraction</li> <li>Claude Code Rules: <code>CLAUDE.md</code> files in repository root with markdown content and title extraction</li> </ul>"},{"location":"plugins/ai-rules-plugin/overview/#mcp-actions-integration","title":"MCP Actions Integration","text":"<p>The plugin provides MCP (Model Control Protocol) actions that can be used to interact with AI coding rules and MCP servers. To enable these actions:</p> <ol> <li> <p>First, ensure you have the MCP actions backend plugin installed and configured. See the MCP Actions Backend Plugin documentation for setup instructions.</p> </li> <li> <p>Add the plugin to your actions configuration in <code>app-config.yaml</code>:</p> </li> </ol> <pre><code>backend:\n  actions:\n    pluginSources:\n      - 'catalog'\n      - 'ai-rules'\n      # ... other action sources\n</code></pre>"},{"location":"plugins/ai-rules-plugin/overview/#available-mcp-actions","title":"Available MCP Actions","text":"<p>The plugin provides the following MCP actions:</p> <ul> <li><code>get_ai_rules</code>: Fetch AI coding rules from a Git repository</li> <li>Input: Git repository URL and rule types to fetch (cursor, copilot, cline, claude-code)</li> <li> <p>Output: List of rules with metadata, content, and file locations</p> </li> <li> <p><code>get_mcp_servers</code>: Get configured MCP servers from a Git repository</p> </li> <li>Input: Git repository URL</li> <li>Output: List of MCP server configurations with their settings and metadata</li> </ul>"},{"location":"plugins/ai-rules-plugin/overview/#getting-started","title":"Getting Started","text":"<p>To get started with the AI Coding Rules plugin:</p> <ol> <li>Install and configure the backend plugin</li> <li>Set up the frontend components</li> <li>Configure rule types in your app-config.yaml</li> <li>Configure MCP actions in your app-config.yaml</li> <li>Add the component to entity pages</li> <li>Start discovering and managing AI coding rules</li> </ol> <p>For detailed installation and configuration instructions, refer to the individual plugin documentation linked above.</p>"},{"location":"plugins/ai-rules-plugin/backend/about/","title":"AI Coding Rules Backend Plugin","text":""},{"location":"plugins/ai-rules-plugin/backend/about/#overview","title":"Overview","text":"<p>The AI Coding Rules backend plugin provides the server-side functionality required to fetch and parse AI coding rules from Git repositories. It handles integration with Backstage's SCM integrations, parses various rule file formats, includes retry logic with exponential backoff for rate limiting protection, and exposes REST API endpoints for the frontend plugin to consume.</p>"},{"location":"plugins/ai-rules-plugin/backend/about/#features","title":"Features","text":""},{"location":"plugins/ai-rules-plugin/backend/about/#repository-integration","title":"Repository Integration","text":"<ul> <li>Seamless integration with all Backstage SCM integrations</li> <li>Support for GitHub, GitLab, Bitbucket, and Azure DevOps</li> <li>Handles both public and private repositories</li> <li>Retry logic with exponential backoff for rate limiting</li> <li>Efficient file fetching with network resilience</li> </ul>"},{"location":"plugins/ai-rules-plugin/backend/about/#rule-type-support","title":"Rule Type Support","text":"<ul> <li>Cursor Rules: Parse <code>.mdc</code> files from <code>.cursor/rules/</code> directories</li> <li>GitHub Copilot Rules: Process <code>.github/copilot-instructions.md</code> files  </li> <li>Cline Rules: Extract content from <code>.clinerules/*.md</code> files</li> <li>Claude Code Rules: Process <code>CLAUDE.md</code> files from repository root</li> <li>Configurable rule type filtering</li> <li>Support for all rule types by default</li> </ul>"},{"location":"plugins/ai-rules-plugin/backend/about/#content-processing","title":"Content Processing","text":"<ul> <li>Frontmatter metadata parsing for Cursor rules</li> <li>Automatic section splitting for Copilot instructions</li> <li>Markdown section extraction for Cline rules</li> <li>Content validation and error handling</li> </ul>"},{"location":"plugins/ai-rules-plugin/backend/about/#rate-limiting-and-resilience","title":"Rate Limiting and Resilience","text":"<ul> <li>Automatic retry logic with exponential backoff</li> <li>Protection against GitLab and other provider rate limits</li> <li>Jitter to prevent thundering herd problems</li> <li>Graceful handling of network failures and timeouts</li> <li>Detailed logging for debugging rate limit issues</li> </ul>"},{"location":"plugins/ai-rules-plugin/backend/about/#api-endpoints","title":"API Endpoints","text":"<ul> <li>RESTful API for rule data retrieval</li> <li>Entity-based rule fetching</li> <li>Configurable rule type filtering</li> <li>Structured JSON responses with git URLs</li> </ul>"},{"location":"plugins/ai-rules-plugin/backend/about/#technical-details","title":"Technical Details","text":""},{"location":"plugins/ai-rules-plugin/backend/about/#integration-points","title":"Integration Points","text":"<ul> <li>Backstage SCM integrations</li> <li>Catalog client for entity resolution</li> <li>Configuration service for rule type settings</li> <li>Logging service for debugging and monitoring</li> </ul>"},{"location":"plugins/ai-rules-plugin/backend/about/#supported-file-patterns","title":"Supported File Patterns","text":"<ul> <li>Cursor: <code>.cursor/rules/*.mdc</code> with frontmatter support</li> <li>Copilot: <code>.github/copilot-instructions.md</code> with automatic parsing</li> <li>Cline: <code>.clinerules/*.md</code> with section extraction</li> <li>Claude Code: <code>CLAUDE.md</code> in repository root with title extraction</li> </ul>"},{"location":"plugins/ai-rules-plugin/backend/about/#content-parsing","title":"Content Parsing","text":""},{"location":"plugins/ai-rules-plugin/backend/about/#cursor-rules","title":"Cursor Rules","text":"<p>Parses frontmatter metadata including: <pre><code>---\ndescription: \"Rule description\"\nglobs: [\"*.ts\", \"*.tsx\"]\nalwaysApply: true\n---\n</code></pre></p>"},{"location":"plugins/ai-rules-plugin/backend/about/#copilot-rules","title":"Copilot Rules","text":"<p>Automatically splits content by empty lines to create logical sections</p>"},{"location":"plugins/ai-rules-plugin/backend/about/#cline-rules","title":"Cline Rules","text":"<p>Extracts markdown sections and headers for organized rule presentation</p>"},{"location":"plugins/ai-rules-plugin/backend/about/#api-reference","title":"API Reference","text":""},{"location":"plugins/ai-rules-plugin/backend/about/#get-apiai-rulesrules","title":"GET /api/ai-rules/rules","text":"<p>Fetches AI rules for a given entity.</p>"},{"location":"plugins/ai-rules-plugin/backend/about/#query-parameters","title":"Query Parameters","text":"<ul> <li><code>entityRef</code> (required): Entity reference in format <code>kind:namespace/name</code></li> <li><code>ruleTypes</code> (optional): Comma-separated list of rule types to fetch</li> </ul>"},{"location":"plugins/ai-rules-plugin/backend/about/#response-format","title":"Response Format","text":"<pre><code>{\n  \"rules\": [\n    {\n      \"type\": \"cursor\",\n      \"id\": \"cursor-rule-1\", \n      \"filePath\": \".cursor/rules/typescript.mdc\",\n      \"fileName\": \"typescript\",\n      \"content\": \"TypeScript coding standards...\",\n      \"description\": \"TypeScript rules\",\n      \"globs\": [\"*.ts\", \"*.tsx\"],\n      \"alwaysApply\": true\n    },\n    {\n      \"type\": \"copilot\",\n      \"id\": \"copilot-rule-1\",\n      \"filePath\": \".github/copilot-instructions.md\",\n      \"fileName\": \"copilot-instructions\",\n      \"content\": \"Use functional components...\",\n      \"description\": \"Generated from copilot-instructions.md\",\n      \"section\": 1\n    }\n  ],\n  \"totalCount\": 2,\n  \"ruleTypes\": [\"cursor\", \"copilot\"]\n}\n</code></pre>"},{"location":"plugins/ai-rules-plugin/backend/about/#error-responses","title":"Error Responses","text":"<ul> <li><code>400 Bad Request</code>: Missing or invalid entityRef</li> <li><code>404 Not Found</code>: Entity not found or no source location</li> <li><code>500 Internal Server Error</code>: Repository access or parsing errors</li> </ul>"},{"location":"plugins/ai-rules-plugin/backend/about/#architecture","title":"Architecture","text":""},{"location":"plugins/ai-rules-plugin/backend/about/#components","title":"Components","text":""},{"location":"plugins/ai-rules-plugin/backend/about/#api-router","title":"API Router","text":"<ul> <li>Route registration and handling</li> <li>Request validation and parsing</li> <li>Response formatting and error handling</li> <li>Query parameter processing</li> </ul>"},{"location":"plugins/ai-rules-plugin/backend/about/#rule-fetcher","title":"Rule Fetcher","text":"<ul> <li>Repository file discovery and fetching</li> <li>SCM integration abstraction</li> <li>File content retrieval and validation</li> <li>Error handling for inaccessible repositories</li> </ul>"},{"location":"plugins/ai-rules-plugin/backend/about/#content-parser","title":"Content Parser","text":"<ul> <li>Rule type detection and parsing</li> <li>Frontmatter extraction for Cursor rules</li> <li>Section splitting for different rule types</li> <li>Content validation and sanitization</li> </ul>"},{"location":"plugins/ai-rules-plugin/backend/about/#configuration-manager","title":"Configuration Manager","text":"<ul> <li>Rule type configuration handling</li> <li>Default value management</li> <li>Environment-specific settings</li> <li>Validation of configuration options</li> </ul>"},{"location":"plugins/ai-rules-plugin/backend/about/#dependencies","title":"Dependencies","text":""},{"location":"plugins/ai-rules-plugin/backend/about/#core-dependencies","title":"Core Dependencies","text":"<ul> <li><code>@backstage/backend-plugin-api</code>: Backend plugin framework</li> <li><code>@backstage/catalog-client</code>: Entity resolution</li> <li><code>@backstage/integration</code>: SCM integrations</li> <li><code>@backstage/config</code>: Configuration management</li> </ul>"},{"location":"plugins/ai-rules-plugin/backend/about/#parsing-dependencies","title":"Parsing Dependencies","text":"<ul> <li><code>gray-matter</code>: Frontmatter parsing for Cursor rules</li> <li><code>node-fetch</code>: HTTP requests for file fetching</li> <li><code>express</code>: REST API framework</li> <li><code>winston</code>: Logging functionality</li> </ul>"},{"location":"plugins/ai-rules-plugin/backend/about/#error-handling","title":"Error Handling","text":""},{"location":"plugins/ai-rules-plugin/backend/about/#repository-access-errors","title":"Repository Access Errors","text":"<ul> <li>Network connectivity issues</li> <li>Authentication failures</li> <li>Repository not found</li> <li>Permission denied</li> </ul>"},{"location":"plugins/ai-rules-plugin/backend/about/#file-parsing-errors","title":"File Parsing Errors","text":"<ul> <li>Invalid frontmatter syntax</li> <li>Malformed file content</li> <li>Unsupported file formats</li> <li>Encoding issues</li> </ul>"},{"location":"plugins/ai-rules-plugin/backend/about/#configuration-errors","title":"Configuration Errors","text":"<ul> <li>Invalid rule type specifications</li> <li>Missing required configuration</li> <li>Type validation failures</li> </ul>"},{"location":"plugins/ai-rules-plugin/backend/about/#security-considerations","title":"Security Considerations","text":""},{"location":"plugins/ai-rules-plugin/backend/about/#repository-access","title":"Repository Access","text":"<ul> <li>Respects SCM integration authentication</li> <li>No additional credentials required</li> <li>Uses existing Backstage permissions</li> <li>Secure token handling</li> </ul>"},{"location":"plugins/ai-rules-plugin/backend/about/#content-processing_1","title":"Content Processing","text":"<ul> <li>Input validation for all file content</li> <li>Safe frontmatter parsing</li> <li>Protection against malicious content</li> <li>Content size limits</li> </ul>"},{"location":"plugins/ai-rules-plugin/backend/about/#api-security","title":"API Security","text":"<ul> <li>Entity reference validation</li> <li>Parameter sanitization</li> <li>Rate limiting considerations</li> <li>Error message sanitization</li> </ul>"},{"location":"plugins/ai-rules-plugin/backend/about/#performance-considerations","title":"Performance Considerations","text":""},{"location":"plugins/ai-rules-plugin/backend/about/#caching-strategy","title":"Caching Strategy","text":"<ul> <li>File content caching for frequently accessed rules</li> <li>Entity resolution caching</li> <li>Repository metadata caching</li> <li>Configurable cache TTL</li> </ul>"},{"location":"plugins/ai-rules-plugin/backend/about/#resource-management","title":"Resource Management","text":"<ul> <li>Efficient file fetching algorithms</li> <li>Memory-conscious content processing</li> <li>Connection pooling for repository access</li> <li>Graceful degradation under load</li> </ul>"},{"location":"plugins/ai-rules-plugin/backend/about/#monitoring","title":"Monitoring","text":"<ul> <li>API endpoint performance metrics</li> <li>Repository access timing</li> <li>Error rate tracking</li> <li>Cache hit rate monitoring </li> </ul>"},{"location":"plugins/ai-rules-plugin/backend/configure/","title":"Configuring the AI Coding Rules Backend Plugin","text":"<p>This guide covers the configuration options available for the AI Coding Rules backend plugin.</p>"},{"location":"plugins/ai-rules-plugin/backend/configure/#basic-configuration","title":"Basic Configuration","text":""},{"location":"plugins/ai-rules-plugin/backend/configure/#rule-types-configuration","title":"Rule Types Configuration","text":"<p>Configure which rule types the backend should search for in your <code>app-config.yaml</code>:</p> <pre><code>aiRules:\n  allowedRuleTypes:\n    - cursor\n    - copilot\n    - cline\n    - claude-code\n  defaultRuleTypes:\n    - cursor\n    - claude-code\n</code></pre>"},{"location":"plugins/ai-rules-plugin/backend/configure/#configuration-schema","title":"Configuration Schema","text":"Option Type Default Description <code>allowedRuleTypes</code> <code>string[]</code> <code>[\"cursor\", \"copilot\", \"cline\", \"claude-code\"]</code> Array of rule types to search for and parse <code>defaultRuleTypes</code> <code>string[]</code> <code>[]</code> Array of rule types pre-selected when component loads"},{"location":"plugins/ai-rules-plugin/backend/configure/#default-configuration","title":"Default Configuration","text":"<p>If no configuration is provided, the plugin defaults to:</p> <pre><code>aiRules:\n  allowedRuleTypes:\n    - cursor\n    - copilot\n    - cline\n    - claude-code\n  defaultRuleTypes: []\n</code></pre>"},{"location":"plugins/ai-rules-plugin/backend/configure/#scm-integration-requirements","title":"SCM Integration Requirements","text":""},{"location":"plugins/ai-rules-plugin/backend/configure/#github-configuration","title":"GitHub Configuration","text":"<p>For GitHub repositories:</p> <pre><code>integrations:\n  github:\n    - host: github.com\n      token: ${GITHUB_TOKEN}\n    # For GitHub Enterprise\n    - host: github.enterprise.com\n      token: ${GITHUB_ENTERPRISE_TOKEN}\n      apiBaseUrl: https://github.enterprise.com/api/v3\n</code></pre>"},{"location":"plugins/ai-rules-plugin/backend/configure/#gitlab-configuration","title":"GitLab Configuration","text":"<p>For GitLab repositories:</p> <pre><code>integrations:\n  gitlab:\n    - host: gitlab.com\n      token: ${GITLAB_TOKEN}\n    # For self-hosted GitLab\n    - host: gitlab.company.com\n      token: ${GITLAB_COMPANY_TOKEN}\n      apiBaseUrl: https://gitlab.company.com/api/v4\n</code></pre>"},{"location":"plugins/ai-rules-plugin/backend/configure/#azure-devops-configuration","title":"Azure DevOps Configuration","text":"<p>For Azure DevOps repositories:</p> <pre><code>integrations:\n  azure:\n    - host: dev.azure.com\n      token: ${AZURE_TOKEN}\n    # For Azure DevOps Server\n    - host: tfs.company.com\n      token: ${TFS_TOKEN}\n</code></pre>"},{"location":"plugins/ai-rules-plugin/backend/configure/#bitbucket-configuration","title":"Bitbucket Configuration","text":"<p>For Bitbucket repositories:</p> <pre><code>integrations:\n  bitbucket:\n    - host: bitbucket.org\n      username: ${BITBUCKET_USERNAME}\n      appPassword: ${BITBUCKET_APP_PASSWORD}\n    # For Bitbucket Server\n    - host: bitbucket.company.com\n      token: ${BITBUCKET_SERVER_TOKEN}\n</code></pre>"},{"location":"plugins/ai-rules-plugin/backend/configure/#rule-type-specifications","title":"Rule Type Specifications","text":""},{"location":"plugins/ai-rules-plugin/backend/configure/#cursor-rules","title":"Cursor Rules","text":"<p>Cursor rules are found in <code>.cursor/rules/*.mdc</code> files with optional frontmatter:</p> <pre><code># Configuration\naiRules:\n  allowedRuleTypes:\n    - cursor\n\n# Rule file structure\n# .cursor/rules/typescript.mdc\n---\ndescription: \"TypeScript coding standards\"\nglobs: [\"*.ts\", \"*.tsx\"]\nalwaysApply: true\n---\n\n# TypeScript Rules\nUse strict typing and avoid any types.\n</code></pre>"},{"location":"plugins/ai-rules-plugin/backend/configure/#github-copilot-rules","title":"GitHub Copilot Rules","text":"<p>Copilot rules are found in <code>.github/copilot-instructions.md</code>:</p> <pre><code># Configuration\naiRules:\n  allowedRuleTypes:\n    - copilot\n\n# Rule file structure  \n# .github/copilot-instructions.md\n# Development Guidelines\n\nUse TypeScript for all new code.\nFollow existing code patterns.\n\nPrefer functional components in React.\nUse hooks instead of class components.\n</code></pre>"},{"location":"plugins/ai-rules-plugin/backend/configure/#cline-rules","title":"Cline Rules","text":"<p>Cline rules are found in <code>.clinerules/*.md</code> files:</p> <pre><code># Configuration\naiRules:\n  allowedRuleTypes:\n    - cline\n\n# Rule file structure\n# .clinerules/development.md\n# Development Guidelines\n\n## Code Style\n- Use ESLint and Prettier\n- Follow team conventions\n\n## Testing\n- Write unit tests for all functions\n</code></pre>"},{"location":"plugins/ai-rules-plugin/backend/configure/#claude-code-rules","title":"Claude Code Rules","text":"<p>Claude Code rules are found in <code>CLAUDE.md</code> file in repository root:</p> <pre><code># Configuration\naiRules:\n  allowedRuleTypes:\n    - claude-code\n\n# Rule file structure\n# CLAUDE.md (in repository root)\n# Claude Code Guidelines\n\n## Development Principles\n- Write clean, readable code\n- Follow SOLID principles\n- Use meaningful variable names\n\n## Code Review Standards\n- All code must be reviewed\n- Tests must pass before merge\n</code></pre>"},{"location":"plugins/ai-rules-plugin/backend/configure/#environment-specific-configuration","title":"Environment-Specific Configuration","text":""},{"location":"plugins/ai-rules-plugin/backend/configure/#development-environment","title":"Development Environment","text":"<pre><code># app-config.development.yaml\naiRules:\n  allowedRuleTypes:\n    - cursor\n    - copilot\n    - cline\n\nbackend:\n  logger:\n    level: debug # Enable debug logging\n</code></pre>"},{"location":"plugins/ai-rules-plugin/backend/configure/#production-environment","title":"Production Environment","text":"<pre><code># app-config.production.yaml\naiRules:\n  allowedRuleTypes:\n    - copilot # Only official guidelines in production\n\nbackend:\n  logger:\n    level: info # Standard logging level\n</code></pre>"},{"location":"plugins/ai-rules-plugin/backend/configure/#testing-environment","title":"Testing Environment","text":"<pre><code># app-config.test.yaml\naiRules:\n  allowedRuleTypes:\n    - cursor\n    - copilot\n    - cline\n\n# Mock SCM integrations for testing\nintegrations:\n  github:\n    - host: github.com\n      token: mock-token\n</code></pre>"},{"location":"plugins/ai-rules-plugin/backend/configure/#security-configuration","title":"Security Configuration","text":""},{"location":"plugins/ai-rules-plugin/backend/configure/#token-security","title":"Token Security","text":"<p>Store authentication tokens securely:</p> <pre><code># Environment variables\nexport GITHUB_TOKEN=ghp_xxxxxxxxxxxxxxxxxxxx\nexport GITLAB_TOKEN=glpat-xxxxxxxxxxxxxxxxxxxx\nexport AZURE_TOKEN=xxxxxxxxxxxxxxxxxxxxxxxxx\n</code></pre>"},{"location":"plugins/ai-rules-plugin/backend/configure/#repository-access-control","title":"Repository Access Control","text":"<p>Ensure tokens have minimal required permissions:</p> <ul> <li>GitHub: <code>repo</code> scope for private repos, or <code>public_repo</code> for public repos</li> <li>GitLab: <code>read_repository</code> permission</li> <li>Azure DevOps: <code>Code (read)</code> permission</li> <li>Bitbucket: <code>Repositories: Read</code> permission</li> </ul>"},{"location":"plugins/ai-rules-plugin/backend/configure/#performance-and-rate-limiting","title":"Performance and Rate Limiting","text":""},{"location":"plugins/ai-rules-plugin/backend/configure/#retry-logic-configuration","title":"Retry Logic Configuration","text":"<p>The backend includes built-in retry logic with exponential backoff to handle rate limiting and network issues:</p> <pre><code># Default retry configuration (not user-configurable)\n# - Max retries: 3 attempts\n# - Initial delay: 1 second  \n# - Max delay: 10 seconds\n# - Exponential backoff with jitter\n</code></pre>"},{"location":"plugins/ai-rules-plugin/backend/configure/#retry-behavior","title":"Retry Behavior","text":"<p>The plugin automatically retries on these error conditions:</p> <ul> <li>Rate Limiting: HTTP 429 \"Too Many Requests\"</li> <li>Server Errors: HTTP 502, 503, 504</li> <li>Network Issues: Timeouts, connection resets, DNS failures</li> </ul>"},{"location":"plugins/ai-rules-plugin/backend/configure/#large-repository-optimization","title":"Large Repository Optimization","text":"<p>For large repositories with many rule files:</p> <ul> <li>Automatic Retry: Failed requests are retried with increasing delays</li> <li>Jitter: Random delays prevent thundering herd problems</li> <li>Circuit Breaking: Stops retrying permanently failed requests</li> <li>Logging: Detailed logs for debugging rate limit issues</li> </ul>"},{"location":"plugins/ai-rules-plugin/backend/configure/#rate-limit-best-practices","title":"Rate Limit Best Practices","text":""},{"location":"plugins/ai-rules-plugin/backend/configure/#gitlab-rate-limits","title":"GitLab Rate Limits","text":"<p>GitLab.com has stricter rate limits than GitHub:</p> <pre><code># Consider using GitLab tokens with higher rate limits\nintegrations:\n  gitlab:\n    - host: gitlab.com\n      token: ${GITLAB_TOKEN} # Use personal access token with appropriate scopes\n</code></pre>"},{"location":"plugins/ai-rules-plugin/backend/configure/#github-rate-limits","title":"GitHub Rate Limits","text":"<p>GitHub has generous rate limits, but monitor usage:</p> <pre><code>integrations:\n  github:\n    - host: github.com\n      token: ${GITHUB_TOKEN} # Authenticated requests have higher limits\n</code></pre>"},{"location":"plugins/ai-rules-plugin/backend/configure/#repository-access-patterns","title":"Repository Access Patterns","text":"<p>Optimize access patterns: - Avoid scanning extremely large repositories frequently - Consider caching strategies for frequently accessed rules - Monitor API usage in provider dashboards</p>"},{"location":"plugins/ai-rules-plugin/backend/configure/#monitoring-and-observability","title":"Monitoring and Observability","text":""},{"location":"plugins/ai-rules-plugin/backend/configure/#health-checks","title":"Health Checks","text":"<p>The plugin provides health check endpoints:</p> <pre><code># Check plugin health\ncurl http://localhost:7007/api/ai-rules/health\n</code></pre>"},{"location":"plugins/ai-rules-plugin/backend/configure/#metrics","title":"Metrics","text":"<p>Monitor these key metrics:</p> <ul> <li>API request rate and latency</li> <li>Repository access success/failure rates</li> <li>Rule parsing success/failure rates</li> <li>Cache hit rates (when implemented)</li> </ul>"},{"location":"plugins/ai-rules-plugin/backend/configure/#error-tracking","title":"Error Tracking","text":"<p>Common error scenarios to monitor:</p> <ol> <li>Repository Access Errors</li> <li>Authentication failures</li> <li>Network timeouts</li> <li> <p>Repository not found</p> </li> <li> <p>Content Parsing Errors</p> </li> <li>Invalid frontmatter syntax</li> <li>File encoding issues</li> <li> <p>Content too large</p> </li> <li> <p>Entity Resolution Errors</p> </li> <li>Invalid entity references</li> <li>Missing source locations</li> <li>Catalog synchronization issues</li> </ol>"},{"location":"plugins/ai-rules-plugin/backend/configure/#troubleshooting-configuration","title":"Troubleshooting Configuration","text":""},{"location":"plugins/ai-rules-plugin/backend/configure/#validation","title":"Validation","text":"<p>Validate your configuration:</p> <pre><code>// Check configuration loading\nimport { Config } from '@backstage/config';\n\nconst config = /* your config instance */;\nconst allowedRuleTypes = config.getOptionalStringArray('aiRules.allowedRuleTypes') \n  ?? ['cursor', 'copilot'];\n\nconsole.log('Configured rule types:', allowedRuleTypes);\n</code></pre>"},{"location":"plugins/ai-rules-plugin/backend/configure/#common-configuration-issues","title":"Common Configuration Issues","text":""},{"location":"plugins/ai-rules-plugin/backend/configure/#invalid-rule-types","title":"Invalid Rule Types","text":"<pre><code># Incorrect - unsupported rule type\naiRules:\n  allowedRuleTypes:\n    - cursor\n    - copilot\n    - invalid-type # This will be ignored\n\n# Correct\naiRules:\n  allowedRuleTypes:\n    - cursor\n    - copilot\n    - cline\n</code></pre>"},{"location":"plugins/ai-rules-plugin/backend/configure/#missing-scm-integration","title":"Missing SCM Integration","text":"<pre><code># Incomplete - missing required token\nintegrations:\n  github:\n    - host: github.com\n      # Missing token\n\n# Complete\nintegrations:\n  github:\n    - host: github.com\n      token: ${GITHUB_TOKEN}\n</code></pre>"},{"location":"plugins/ai-rules-plugin/backend/configure/#environment-variable-issues","title":"Environment Variable Issues","text":"<pre><code># Check if environment variables are set\necho $GITHUB_TOKEN\necho $GITLAB_TOKEN\n\n# Set if missing\nexport GITHUB_TOKEN=your_token_here\n</code></pre>"},{"location":"plugins/ai-rules-plugin/backend/configure/#configuration-testing","title":"Configuration Testing","text":"<p>Test your configuration:</p> <pre><code># Start backend in debug mode\nLOG_LEVEL=debug yarn dev\n\n# Test API with configuration\ncurl \"http://localhost:7007/api/ai-rules/rules?entityRef=component:default/test-service&amp;ruleTypes=cursor,copilot\"\n</code></pre>"},{"location":"plugins/ai-rules-plugin/backend/configure/#best-practices","title":"Best Practices","text":""},{"location":"plugins/ai-rules-plugin/backend/configure/#configuration-management","title":"Configuration Management","text":"<ol> <li>Use environment variables for sensitive data</li> <li>Use separate config files for different environments</li> <li>Validate configuration in CI/CD pipelines</li> <li>Document all configuration options</li> </ol>"},{"location":"plugins/ai-rules-plugin/backend/configure/#security","title":"Security","text":"<ol> <li>Rotate tokens regularly</li> <li>Use minimal required permissions</li> <li>Monitor token usage</li> <li>Secure configuration files</li> </ol>"},{"location":"plugins/ai-rules-plugin/backend/configure/#performance","title":"Performance","text":"<ol> <li>Monitor API response times</li> <li>Track repository access patterns</li> <li>Plan for caching implementation</li> <li>Set appropriate timeouts</li> </ol>"},{"location":"plugins/ai-rules-plugin/backend/configure/#maintenance","title":"Maintenance","text":"<ol> <li>Keep SCM integrations updated</li> <li>Monitor for deprecated configuration options</li> <li>Review and update rule types as needed</li> <li>Test configuration changes in staging </li> </ol>"},{"location":"plugins/ai-rules-plugin/backend/install/","title":"Installing the AI Coding Rules Backend Plugin","text":"<p>This guide will help you install and set up the AI Coding Rules backend plugin in your Backstage instance.</p>"},{"location":"plugins/ai-rules-plugin/backend/install/#prerequisites","title":"Prerequisites","text":"<p>Before installing the plugin, ensure you have:</p> <ol> <li>A working Backstage backend instance</li> <li>Properly configured SCM integrations (GitHub, GitLab, etc.)</li> <li>Access to repositories containing AI coding rules</li> <li>Node.js and yarn package manager</li> </ol>"},{"location":"plugins/ai-rules-plugin/backend/install/#installation-steps","title":"Installation Steps","text":""},{"location":"plugins/ai-rules-plugin/backend/install/#1-add-the-package","title":"1. Add the Package","text":"<p>Install the plugin package using yarn:</p> <pre><code>yarn --cwd packages/backend add @terasky/backstage-plugin-ai-rules-backend\n</code></pre>"},{"location":"plugins/ai-rules-plugin/backend/install/#2-add-to-backend","title":"2. Add to Backend","text":"<p>Add the plugin to your backend in <code>packages/backend/src/index.ts</code>:</p> <pre><code>import { createBackend } from '@backstage/backend-defaults';\n\nconst backend = createBackend();\n\n// ... other plugins\nbackend.add(import('@terasky/backstage-plugin-ai-rules-backend'));\n\nbackend.start();\n</code></pre>"},{"location":"plugins/ai-rules-plugin/backend/install/#3-configure-scm-integrations","title":"3. Configure SCM Integrations","text":"<p>Ensure your SCM integrations are properly configured in <code>app-config.yaml</code>:</p> <pre><code>integrations:\n  github:\n    - host: github.com\n      token: ${GITHUB_TOKEN}\n\n  gitlab:\n    - host: gitlab.com\n      token: ${GITLAB_TOKEN}\n\n  # Add other SCM integrations as needed\n</code></pre>"},{"location":"plugins/ai-rules-plugin/backend/install/#configuration","title":"Configuration","text":""},{"location":"plugins/ai-rules-plugin/backend/install/#basic-configuration","title":"Basic Configuration","text":"<p>Add AI Rules configuration to your <code>app-config.yaml</code>:</p> <pre><code>aiRules:\n  # Configure which rule types to look for\n  allowedRuleTypes:\n    - cursor\n    - copilot\n    - cline\n</code></pre>"},{"location":"plugins/ai-rules-plugin/backend/install/#environment-variables","title":"Environment Variables","text":"<p>Set up required environment variables:</p> <pre><code># For GitHub integration\nexport GITHUB_TOKEN=your_github_token\n\n# For GitLab integration  \nexport GITLAB_TOKEN=your_gitlab_token\n\n# For other SCM providers\nexport AZURE_TOKEN=your_azure_token\nexport BITBUCKET_TOKEN=your_bitbucket_token\n</code></pre>"},{"location":"plugins/ai-rules-plugin/backend/install/#verification","title":"Verification","text":""},{"location":"plugins/ai-rules-plugin/backend/install/#1-check-backend-logs","title":"1. Check Backend Logs","text":"<p>Start your backend and check for successful plugin registration:</p> <pre><code>yarn dev\n</code></pre> <p>Look for log entries indicating the plugin has loaded: <pre><code>[ai-rules-backend] Plugin loaded successfully\n[ai-rules-backend] API routes registered at /api/ai-rules\n</code></pre></p>"},{"location":"plugins/ai-rules-plugin/backend/install/#2-test-api-endpoints","title":"2. Test API Endpoints","text":"<p>Test the API endpoints directly:</p> <pre><code># Replace with your backend URL and valid entity reference\ncurl \"http://localhost:7007/api/ai-rules/rules?entityRef=component:default/my-service\"\n</code></pre> <p>Expected response format: <pre><code>{\n  \"rules\": [],\n  \"totalCount\": 0,\n  \"ruleTypes\": []\n}\n</code></pre></p>"},{"location":"plugins/ai-rules-plugin/backend/install/#3-check-entity-resolution","title":"3. Check Entity Resolution","text":"<p>Verify that entities with source locations are properly resolved:</p> <pre><code># Test with an entity that has a source location\ncurl \"http://localhost:7007/api/ai-rules/rules?entityRef=component:default/my-service&amp;ruleTypes=cursor,copilot\"\n</code></pre>"},{"location":"plugins/ai-rules-plugin/backend/install/#troubleshooting","title":"Troubleshooting","text":""},{"location":"plugins/ai-rules-plugin/backend/install/#common-issues","title":"Common Issues","text":""},{"location":"plugins/ai-rules-plugin/backend/install/#plugin-not-loading","title":"Plugin Not Loading","text":"<ol> <li> <p>Missing Package: Verify the package is installed in package.json    <pre><code>yarn --cwd packages/backend list --pattern @terasky/backstage-plugin-ai-rules-backend\n</code></pre></p> </li> <li> <p>Import Error: Check the import statement in backend/src/index.ts    <pre><code>// Correct import\nbackend.add(import('@terasky/backstage-plugin-ai-rules-backend'));\n</code></pre></p> </li> <li> <p>Backend Startup Issues: Check backend logs for detailed error messages</p> </li> </ol>"},{"location":"plugins/ai-rules-plugin/backend/install/#api-endpoints-not-working","title":"API Endpoints Not Working","text":"<ol> <li>Check Route Registration: Look for API routes in backend logs</li> <li>Verify URL: Ensure you're using the correct API path <code>/api/ai-rules/rules</code></li> <li>CORS Issues: Check if frontend can access the backend API</li> </ol>"},{"location":"plugins/ai-rules-plugin/backend/install/#repository-access-issues","title":"Repository Access Issues","text":"<ol> <li> <p>SCM Integration: Verify SCM integrations are configured correctly    <pre><code>integrations:\n  github:\n    - host: github.com\n      token: ${GITHUB_TOKEN}\n</code></pre></p> </li> <li> <p>Token Permissions: Ensure tokens have read access to repositories</p> </li> <li>Private Repository Access: Verify authentication for private repositories</li> </ol>"},{"location":"plugins/ai-rules-plugin/backend/install/#entity-resolution-problems","title":"Entity Resolution Problems","text":"<ol> <li> <p>Invalid Entity Reference: Check entity reference format    <pre><code># Correct format\ncomponent:default/my-service\n\n# Incorrect formats\nmy-service\ndefault/my-service\ncomponent/my-service\n</code></pre></p> </li> <li> <p>Missing Source Location: Verify entities have source location annotations    <pre><code>metadata:\n  annotations:\n    backstage.io/source-location: url:https://github.com/org/repo\n</code></pre></p> </li> <li> <p>Catalog Sync: Ensure entities are properly ingested into the catalog</p> </li> </ol>"},{"location":"plugins/ai-rules-plugin/backend/install/#debug-mode","title":"Debug Mode","text":"<p>Enable debug logging to troubleshoot issues:</p> <pre><code># app-config.yaml\nbackend:\n  logger:\n    level: debug\n</code></pre> <p>Or set environment variable: <pre><code>export LOG_LEVEL=debug\n</code></pre></p>"},{"location":"plugins/ai-rules-plugin/backend/install/#network-issues","title":"Network Issues","text":"<p>If experiencing network connectivity problems:</p> <ol> <li>Firewall: Check if backend can access external repositories</li> <li>Proxy: Configure proxy settings if behind corporate firewall</li> <li>DNS: Verify DNS resolution for repository hosts</li> </ol>"},{"location":"plugins/ai-rules-plugin/backend/install/#performance-issues","title":"Performance Issues","text":"<p>For performance optimization:</p> <ol> <li>Network Latency: Monitor repository access times</li> <li>File Size: Check for unusually large rule files</li> <li>Rate Limiting: Monitor API rate limits for SCM providers</li> </ol>"},{"location":"plugins/ai-rules-plugin/backend/install/#next-steps","title":"Next Steps","text":"<p>After successful installation:</p> <ol> <li>Install and configure the frontend plugin</li> <li>Review configuration options for customization</li> <li>Set up monitoring and logging as needed</li> <li>Test with your specific repository structures</li> </ol>"},{"location":"plugins/ai-rules-plugin/backend/install/#security-considerations","title":"Security Considerations","text":""},{"location":"plugins/ai-rules-plugin/backend/install/#token-management","title":"Token Management","text":"<ul> <li>Store tokens securely using environment variables</li> <li>Use minimal required permissions for tokens</li> <li>Regularly rotate authentication tokens</li> <li>Monitor token usage and access logs</li> </ul>"},{"location":"plugins/ai-rules-plugin/backend/install/#repository-access","title":"Repository Access","text":"<ul> <li>Review which repositories the backend can access</li> <li>Ensure proper authentication for private repositories</li> <li>Monitor for unauthorized access attempts</li> <li>Implement proper error handling to avoid information leakage</li> </ul> <p>For detailed configuration options, proceed to the Configuration Guide. </p>"},{"location":"plugins/ai-rules-plugin/frontend/about/","title":"AI Coding Rules Frontend Plugin","text":""},{"location":"plugins/ai-rules-plugin/frontend/about/#overview","title":"Overview","text":"<p>The AI Coding Rules frontend plugin provides a comprehensive interface for visualizing AI coding rules from various sources within Backstage. It enables users to discover, view, and manage coding guidelines from Cursor, GitHub Copilot, Cline, and Claude Code, all integrated seamlessly into the Backstage interface with clickable links to open rule files directly in git repositories.</p>"},{"location":"plugins/ai-rules-plugin/frontend/about/#features","title":"Features","text":""},{"location":"plugins/ai-rules-plugin/frontend/about/#rule-visualization","title":"Rule Visualization","text":"<ul> <li>Display rules from multiple AI coding assistant sources</li> <li>Modern and clean UI with expandable rule cards</li> <li>Organized presentation of rule content and metadata</li> <li>Support for markdown formatting in rule content</li> </ul>"},{"location":"plugins/ai-rules-plugin/frontend/about/#manual-filtering-with-apply-filter","title":"Manual Filtering with Apply Filter","text":"<ul> <li>Filter rules by type (Cursor, Copilot, Cline, Claude Code)</li> <li>Manual control with Apply Filter button functionality</li> <li>Configurable default rule types</li> <li>Always visible filter interface</li> <li>Status indicators for unsaved changes</li> </ul>"},{"location":"plugins/ai-rules-plugin/frontend/about/#clickable-git-repository-links","title":"Clickable Git Repository Links","text":"<ul> <li>Launch icon (\u2197) for each rule to open files in git repositories</li> <li>Multi-provider support (GitHub, GitLab, etc.)</li> <li>Opens in new tab for easy access</li> <li>Direct linking to specific rule files</li> </ul>"},{"location":"plugins/ai-rules-plugin/frontend/about/#statistics-and-overview","title":"Statistics and Overview","text":"<ul> <li>Total rule count display</li> <li>Breakdown by rule type</li> <li>Visual statistics cards</li> <li>Quick overview of available rules</li> </ul>"},{"location":"plugins/ai-rules-plugin/frontend/about/#rule-content-management","title":"Rule Content Management","text":"<ul> <li>Expandable rule cards for detailed viewing</li> <li>Metadata display including file paths and descriptions</li> <li>Support for frontmatter in Cursor rules</li> <li>Markdown rendering for all rule types</li> </ul>"},{"location":"plugins/ai-rules-plugin/frontend/about/#components","title":"Components","text":""},{"location":"plugins/ai-rules-plugin/frontend/about/#airulescomponent","title":"AIRulesComponent","text":"<p>The main component that provides:</p> <ul> <li>Rule visualization and management interface</li> <li>Filter controls for rule types</li> <li>Statistics display</li> <li>Error handling and loading states</li> </ul> <p>Example usage: <pre><code>import { AIRulesComponent } from '@terasky/backstage-plugin-ai-rules';\n\n// Default title \"AI Coding Rules\"\n&lt;AIRulesComponent /&gt;\n\n// Custom title\n&lt;AIRulesComponent title=\"Development Guidelines\" /&gt;\n</code></pre></p>"},{"location":"plugins/ai-rules-plugin/frontend/about/#component-props","title":"Component Props","text":"Property Type Default Description <code>title</code> <code>string</code> <code>\"AI Coding Rules\"</code> The title displayed at the top of the component"},{"location":"plugins/ai-rules-plugin/frontend/about/#technical-details","title":"Technical Details","text":""},{"location":"plugins/ai-rules-plugin/frontend/about/#integration-points","title":"Integration Points","text":"<ul> <li>Backstage catalog entities</li> <li>AI Rules backend plugin</li> <li>Repository source locations</li> <li>Entity metadata</li> </ul>"},{"location":"plugins/ai-rules-plugin/frontend/about/#supported-rule-types","title":"Supported Rule Types","text":"<ul> <li>Cursor: <code>.mdc</code> files with frontmatter metadata</li> <li>Copilot: Markdown instructions with automatic section parsing  </li> <li>Cline: Markdown files with section extraction</li> </ul>"},{"location":"plugins/ai-rules-plugin/frontend/about/#rule-detection","title":"Rule Detection","text":"<p>The plugin automatically detects components with: - Git source locations in entity metadata - Repository annotations - Supported rule file patterns</p>"},{"location":"plugins/ai-rules-plugin/frontend/about/#error-handling","title":"Error Handling","text":"<ul> <li>Clear error messages for missing rules</li> <li>Loading states during rule fetching</li> <li>Graceful degradation for unsupported repositories</li> </ul>"},{"location":"plugins/ai-rules-plugin/frontend/about/#use-cases","title":"Use Cases","text":""},{"location":"plugins/ai-rules-plugin/frontend/about/#development-team-guidelines","title":"Development Team Guidelines","text":"<ol> <li>Centralize AI coding rules across projects</li> <li>Ensure consistent AI assistant configurations</li> <li>Share best practices for AI-assisted development</li> <li>Maintain rule documentation alongside code</li> </ol>"},{"location":"plugins/ai-rules-plugin/frontend/about/#rule-management","title":"Rule Management","text":"<ol> <li>Discover existing AI rules in repositories</li> <li>Validate rule configurations</li> <li>Monitor rule adoption across teams</li> <li>Track rule evolution over time</li> </ol>"},{"location":"plugins/ai-rules-plugin/frontend/about/#code-quality-assurance","title":"Code Quality Assurance","text":"<ol> <li>Enforce coding standards through AI rules</li> <li>Maintain consistency across AI assistants</li> <li>Document preferred coding patterns</li> <li>Share domain-specific guidelines </li> </ol>"},{"location":"plugins/ai-rules-plugin/frontend/configure/","title":"Configuring the AI Coding Rules Frontend Plugin","text":"<p>This guide covers the configuration options available for the AI Coding Rules frontend plugin.</p>"},{"location":"plugins/ai-rules-plugin/frontend/configure/#component-overview","title":"Component Overview","text":"<p>The plugin provides three main components:</p> <ol> <li>AiInstructionsComponent (Recommended)</li> <li>Unified component with tabbed interface</li> <li>Combines AI rules and MCP server functionality</li> <li>Provides seamless navigation between features</li> <li> <p>Recommended for most use cases</p> </li> <li> <p>AIRulesComponent</p> </li> <li>Standalone component for AI coding rules</li> <li>Use when you only need rules functionality</li> <li> <p>Can be used multiple times with different configurations</p> </li> <li> <p>MCPServersComponent</p> </li> <li>Standalone component for MCP server configuration</li> <li>Displays server configurations from multiple sources</li> <li>Groups servers by source (Cursor, VSCode, Claude)</li> </ol>"},{"location":"plugins/ai-rules-plugin/frontend/configure/#new-frontend-system-configuration-alpha","title":"New Frontend System Configuration (Alpha)","text":"<p>When using the new frontend system through the <code>/alpha</code> export, the plugin is configured automatically with sensible defaults. The configuration in <code>app-config.yaml</code> is still respected:</p> <pre><code>aiRules:\n  allowedRuleTypes:\n    - cursor\n    - copilot\n    - cline\n</code></pre> <p>The plugin will be automatically integrated into the appropriate entity pages without requiring manual route configuration.</p>"},{"location":"plugins/ai-rules-plugin/frontend/configure/#plugin-configuration","title":"Plugin Configuration","text":""},{"location":"plugins/ai-rules-plugin/frontend/configure/#basic-configuration","title":"Basic Configuration","text":"<p>Configure the plugin behavior in your <code>app-config.yaml</code>:</p> <pre><code>aiRules:\n  # Configure which rule types are available for selection\n  allowedRuleTypes:\n    - cursor\n    - copilot\n    - cline\n    - claude-code\n  # Configure which rule types are pre-selected by default\n  defaultRuleTypes:\n    - cursor\n    - claude-code\n</code></pre>"},{"location":"plugins/ai-rules-plugin/frontend/configure/#configuration-options","title":"Configuration Options","text":"Option Type Default Description <code>allowedRuleTypes</code> <code>string[]</code> <code>[\"cursor\", \"copilot\", \"cline\", \"claude-code\"]</code> Array of rule types available for selection <code>defaultRuleTypes</code> <code>string[]</code> <code>[]</code> Array of rule types pre-selected when component loads. If not specified, defaults to empty array (no auto-search)"},{"location":"plugins/ai-rules-plugin/frontend/configure/#supported-rule-types","title":"Supported Rule Types","text":"<ul> <li><code>cursor</code>: Cursor IDE rules from <code>.cursor/rules/*.mdc</code> files</li> <li><code>copilot</code>: GitHub Copilot rules from <code>.github/copilot-instructions.md</code></li> <li><code>cline</code>: Cline AI rules from <code>.clinerules/*.md</code> files</li> <li><code>claude-code</code>: Claude Code rules from <code>CLAUDE.md</code> files in repository root</li> </ul>"},{"location":"plugins/ai-rules-plugin/frontend/configure/#filtering-behavior","title":"Filtering Behavior","text":"<p>The plugin uses manual filtering with Apply Filter functionality:</p> <ul> <li>No Auto-Search: By default, no search is performed when the component loads</li> <li>Manual Control: Users must select rule types and click \"Apply Filter\" to search</li> <li>Always Visible: Filter interface is always shown, even when results are empty</li> <li>Configurable Defaults: Use <code>defaultRuleTypes</code> to pre-select specific rule types</li> </ul>"},{"location":"plugins/ai-rules-plugin/frontend/configure/#configuration-examples","title":"Configuration Examples","text":"<pre><code># No rules pre-selected (default behavior)\naiRules:\n  allowedRuleTypes: [\"cursor\", \"copilot\", \"cline\", \"claude-code\"]\n  # defaultRuleTypes not specified = empty array\n\n# Pre-select specific rule types\naiRules:\n  allowedRuleTypes: [\"cursor\", \"copilot\", \"cline\", \"claude-code\"]\n  defaultRuleTypes: [\"cursor\", \"claude-code\"]\n\n# Empty pre-selection (explicit)\naiRules:\n  allowedRuleTypes: [\"cursor\", \"copilot\", \"cline\", \"claude-code\"]\n  defaultRuleTypes: []\n</code></pre>"},{"location":"plugins/ai-rules-plugin/frontend/configure/#component-configuration","title":"Component Configuration","text":"<p>The plugin provides three main components, each with their own configuration options:</p>"},{"location":"plugins/ai-rules-plugin/frontend/configure/#aiinstructionscomponent-props-recommended","title":"AiInstructionsComponent Props (Recommended)","text":"<p>The unified component that provides both AI rules and MCP server functionality:</p> <pre><code>interface AiInstructionsComponentProps {\n  title?: string;  // Optional title for the component\n}\n</code></pre>"},{"location":"plugins/ai-rules-plugin/frontend/configure/#usage-examples","title":"Usage Examples","text":"<pre><code>// Default usage\n&lt;EntityLayout.Route path=\"/ai-rules\" title=\"AI Rules\"&gt;\n  &lt;AiInstructionsComponent /&gt;\n&lt;/EntityLayout.Route&gt;\n\n// Custom title\n&lt;EntityLayout.Route path=\"/coding-rules\" title=\"Coding Rules\"&gt;\n  &lt;AiInstructionsComponent title=\"Development Guidelines\" /&gt;\n&lt;/EntityLayout.Route&gt;\n</code></pre>"},{"location":"plugins/ai-rules-plugin/frontend/configure/#airulescomponent-props","title":"AIRulesComponent Props","text":"<p>The standalone AI rules component:</p> <pre><code>interface AIRulesComponentProps {\n  title?: string;  // Optional title for the component\n}\n</code></pre>"},{"location":"plugins/ai-rules-plugin/frontend/configure/#usage-examples_1","title":"Usage Examples","text":"<pre><code>// Default usage\n&lt;EntityLayout.Route path=\"/ai-rules\" title=\"AI Rules\"&gt;\n  &lt;AIRulesComponent /&gt;\n&lt;/EntityLayout.Route&gt;\n\n// Multiple instances with different titles\n&lt;EntityLayout.Route path=\"/cursor-rules\" title=\"Cursor Rules\"&gt;\n  &lt;AIRulesComponent title=\"Cursor IDE Rules\" /&gt;\n&lt;/EntityLayout.Route&gt;\n\n&lt;EntityLayout.Route path=\"/copilot-rules\" title=\"Copilot Rules\"&gt;\n  &lt;AIRulesComponent title=\"GitHub Copilot Guidelines\" /&gt;\n&lt;/EntityLayout.Route&gt;\n</code></pre>"},{"location":"plugins/ai-rules-plugin/frontend/configure/#mcpserverscomponent-props","title":"MCPServersComponent Props","text":"<p>The standalone MCP servers component:</p> <pre><code>interface MCPServersComponentProps {\n  title?: string;  // Optional title for the component\n}\n</code></pre>"},{"location":"plugins/ai-rules-plugin/frontend/configure/#usage-examples_2","title":"Usage Examples","text":"<pre><code>// Default usage\n&lt;EntityLayout.Route path=\"/mcp-servers\" title=\"MCP Servers\"&gt;\n  &lt;MCPServersComponent /&gt;\n&lt;/EntityLayout.Route&gt;\n\n// Custom title\n&lt;EntityLayout.Route path=\"/mcp\" title=\"MCP Configuration\"&gt;\n  &lt;MCPServersComponent title=\"MCP Server Configurations\" /&gt;\n&lt;/EntityLayout.Route&gt;\n</code></pre>"},{"location":"plugins/ai-rules-plugin/frontend/configure/#entity-configuration","title":"Entity Configuration","text":""},{"location":"plugins/ai-rules-plugin/frontend/configure/#required-annotations","title":"Required Annotations","text":"<p>Entities must have source location information for the plugin to work:</p> <pre><code>apiVersion: backstage.io/v1alpha1\nkind: Component\nmetadata:\n  name: my-service\n  annotations:\n    # Required: Source location pointing to Git repository\n    backstage.io/source-location: url:https://github.com/org/my-repo\nspec:\n  type: service\n  lifecycle: production\n  owner: team-a\n</code></pre>"},{"location":"plugins/ai-rules-plugin/frontend/configure/#optional-entity-configuration","title":"Optional Entity Configuration","text":"<pre><code>metadata:\n  annotations:\n    # Optional: Specific branch to check for rules\n    backstage.io/source-location: url:https://github.com/org/my-repo/tree/main\n\n    # Optional: Subdirectory if rules are in a specific path\n    backstage.io/source-location: url:https://github.com/org/my-repo/tree/main/services/api\n</code></pre>"},{"location":"plugins/ai-rules-plugin/frontend/configure/#clickable-git-links","title":"Clickable Git Links","text":"<p>Each rule now includes a clickable launch icon (\u2197) that opens the rule file directly in your git repository:</p> <ul> <li>Multi-Provider Support: Works with GitHub, GitLab, and other git providers</li> <li>New Tab: Opens in a new browser tab for easy access</li> <li>Direct File Access: Links directly to the specific rule file in the repository</li> <li>Non-Intrusive: Doesn't interfere with existing accordion/card functionality</li> </ul>"},{"location":"plugins/ai-rules-plugin/frontend/configure/#supported-git-providers","title":"Supported Git Providers","text":"<ul> <li>GitHub: Converts to <code>/blob/main/</code> URL format</li> <li>GitLab: Converts to <code>/-/blob/main/</code> URL format  </li> <li>Generic Providers: Uses standard <code>/blob/main/</code> format</li> </ul>"},{"location":"plugins/ai-rules-plugin/frontend/configure/#apply-filter-functionality","title":"Apply Filter Functionality","text":"<p>The component now uses manual filtering instead of automatic rule loading:</p> <ul> <li>Apply Filter Button: Users must click to trigger searches</li> <li>Unsaved Changes Indicator: Shows when filter selections haven't been applied</li> <li>Status Messages: Clear feedback about filter state and required actions</li> <li>Reset Filters: Quickly reset to all allowed rule types</li> </ul>"},{"location":"plugins/ai-rules-plugin/frontend/configure/#rule-file-configuration","title":"Rule File Configuration","text":""},{"location":"plugins/ai-rules-plugin/frontend/configure/#cursor-rules-cursorrulesmdc","title":"Cursor Rules (.cursor/rules/*.mdc)","text":"<p>Cursor rule files support frontmatter for metadata:</p> <pre><code>---\ndescription: \"TypeScript coding standards\"\nglobs: [\"*.ts\", \"*.tsx\"]\nalwaysApply: true\n---\n\n# TypeScript Rules\n\nUse strict typing and avoid any types.\nFollow naming conventions for interfaces and types.\n</code></pre>"},{"location":"plugins/ai-rules-plugin/frontend/configure/#github-copilot-rules-githubcopilot-instructionsmd","title":"GitHub Copilot Rules (.github/copilot-instructions.md)","text":"<p>Simple markdown file with sections automatically split by empty lines:</p> <pre><code># Copilot Instructions\n\nUse TypeScript for all new code.\nFollow existing code patterns.\n\nPrefer functional components in React.\nUse hooks instead of class components.\n</code></pre>"},{"location":"plugins/ai-rules-plugin/frontend/configure/#cline-rules-clinerulesmd","title":"Cline Rules (.clinerules/*.md)","text":"<p>Markdown files with automatic section extraction:</p> <pre><code># Development Guidelines\n\n## Code Style\n- Use ESLint and Prettier\n- Follow team conventions\n\n## Testing\n- Write unit tests for all functions\n- Use Jest for testing framework\n</code></pre>"},{"location":"plugins/ai-rules-plugin/frontend/configure/#claude-code-rules-claudemd","title":"Claude Code Rules (CLAUDE.md)","text":"<p>Simple markdown file in repository root with automatic title extraction:</p> <pre><code># Claude Code Guidelines\n\n## Development Principles\n- Write clean, readable code\n- Follow SOLID principles\n- Use meaningful variable names\n\n## Code Review Standards\n- All code must be reviewed\n- Tests must pass before merge\n- Documentation should be updated\n</code></pre>"},{"location":"plugins/ai-rules-plugin/frontend/configure/#advanced-configuration","title":"Advanced Configuration","text":""},{"location":"plugins/ai-rules-plugin/frontend/configure/#custom-rule-type-configuration","title":"Custom Rule Type Configuration","text":"<p>If you want to limit to specific rule types for certain environments:</p> <pre><code># Development environment - show all types\naiRules:\n  allowedRuleTypes:\n    - cursor\n    - copilot\n    - cline\n\n# Production environment - only show official guidelines\naiRules:\n  allowedRuleTypes:\n    - copilot\n</code></pre>"},{"location":"plugins/ai-rules-plugin/frontend/configure/#environment-specific-configuration","title":"Environment-Specific Configuration","text":"<pre><code># app-config.yaml (base configuration)\naiRules:\n  allowedRuleTypes:\n    - cursor\n    - copilot\n\n---\n# app-config.development.yaml\naiRules:\n  allowedRuleTypes:\n    - cursor\n    - copilot\n    - cline\n\n---\n# app-config.production.yaml\naiRules:\n  allowedRuleTypes:\n    - copilot\n</code></pre>"},{"location":"plugins/ai-rules-plugin/frontend/configure/#styling-and-theming","title":"Styling and Theming","text":"<p>The plugin uses Material-UI components and respects your Backstage theme configuration. It automatically adapts to:</p> <ul> <li>Light/dark theme modes</li> <li>Custom color schemes</li> <li>Typography settings</li> <li>Component spacing</li> </ul>"},{"location":"plugins/ai-rules-plugin/frontend/configure/#performance-considerations","title":"Performance Considerations","text":""},{"location":"plugins/ai-rules-plugin/frontend/configure/#rule-file-size","title":"Rule File Size","text":"<ul> <li>Keep rule files reasonably sized (&lt; 100KB recommended)</li> <li>Split large rule sets into multiple files</li> <li>Use clear file names for better organization</li> </ul>"},{"location":"plugins/ai-rules-plugin/frontend/configure/#repository-access","title":"Repository Access","text":"<ul> <li>Ensure backend has efficient access to repositories</li> <li>Consider caching for frequently accessed rules</li> <li>Monitor API rate limits for external repositories</li> </ul>"},{"location":"plugins/ai-rules-plugin/frontend/configure/#component-usage","title":"Component Usage","text":"<ul> <li>Avoid placing the component on high-traffic pages if not needed</li> <li>Consider lazy loading for large rule sets</li> <li>Use appropriate tab placement for user workflow</li> </ul>"},{"location":"plugins/ai-rules-plugin/frontend/configure/#troubleshooting-configuration","title":"Troubleshooting Configuration","text":""},{"location":"plugins/ai-rules-plugin/frontend/configure/#rule-types-not-showing","title":"Rule Types Not Showing","text":"<ol> <li>Check <code>allowedRuleTypes</code> configuration</li> <li>Verify rule files exist in expected locations</li> <li>Confirm file naming follows conventions</li> <li>Check backend logs for parsing errors</li> </ol>"},{"location":"plugins/ai-rules-plugin/frontend/configure/#performance-issues","title":"Performance Issues","text":"<ol> <li>Review rule file sizes</li> <li>Check repository access performance</li> <li>Monitor network requests in browser dev tools</li> <li>Consider component placement optimization</li> </ol>"},{"location":"plugins/ai-rules-plugin/frontend/configure/#access-issues","title":"Access Issues","text":"<ol> <li>Verify entity source location annotations</li> <li>Check SCM integration configuration</li> <li>Confirm repository permissions</li> <li>Test backend API endpoints directly </li> </ol>"},{"location":"plugins/ai-rules-plugin/frontend/install/","title":"Installing the AI Coding Rules Frontend Plugin","text":"<p>This guide will help you install and set up the AI Coding Rules frontend plugin in your Backstage instance.</p>"},{"location":"plugins/ai-rules-plugin/frontend/install/#prerequisites","title":"Prerequisites","text":"<p>Before installing the plugin, ensure you have:</p> <ol> <li>A working Backstage instance</li> <li>The AI Coding Rules backend plugin installed and configured</li> <li>Access to repositories containing AI coding rules</li> <li>Components with source location annotations</li> </ol>"},{"location":"plugins/ai-rules-plugin/frontend/install/#installation-steps","title":"Installation Steps","text":""},{"location":"plugins/ai-rules-plugin/frontend/install/#1-add-the-package","title":"1. Add the Package","text":"<p>Install the plugin package using yarn:</p> <pre><code>yarn --cwd packages/app add @terasky/backstage-plugin-ai-rules\n</code></pre>"},{"location":"plugins/ai-rules-plugin/frontend/install/#2-add-to-entity-pages","title":"2. Add to Entity Pages","text":"<p>Add the AI Rules components to your entity pages in <code>packages/app/src/components/catalog/EntityPage.tsx</code>. You can use either the unified <code>AiInstructionsComponent</code> (recommended) or the individual components:</p> <pre><code>import { \n  AiInstructionsComponent,  // Unified component with tabs\n  AIRulesComponent,         // Just the rules component\n  MCPServersComponent       // Just the MCP servers component\n} from '@terasky/backstage-plugin-ai-rules';\n\nconst componentPage = (\n  &lt;EntityLayout&gt;\n    {/* ... other tabs */}\n\n    {/* Option 1: Unified Component (Recommended) */}\n    &lt;EntityLayout.Route path=\"/ai-rules\" title=\"AI Rules\"&gt;\n      &lt;AiInstructionsComponent /&gt;\n    &lt;/EntityLayout.Route&gt;\n\n    {/* Option 2: Separate Components */}\n    &lt;EntityLayout.Route path=\"/ai-rules\" title=\"AI Rules\"&gt;\n      &lt;AIRulesComponent /&gt;\n    &lt;/EntityLayout.Route&gt;\n    &lt;EntityLayout.Route path=\"/mcp-servers\" title=\"MCP Servers\"&gt;\n      &lt;MCPServersComponent /&gt;\n    &lt;/EntityLayout.Route&gt;\n\n    {/* With custom titles */}\n    &lt;EntityLayout.Route path=\"/coding-rules\" title=\"Coding Rules\"&gt;\n      &lt;AiInstructionsComponent title=\"Development Guidelines\" /&gt;\n    &lt;/EntityLayout.Route&gt;\n  &lt;/EntityLayout&gt;\n);\n</code></pre>"},{"location":"plugins/ai-rules-plugin/frontend/install/#3-optional-add-to-component-overview","title":"3. Optional: Add to Component Overview","text":"<p>You can also add the component to the main overview tab for quick access:</p> <pre><code>const overviewContent = (\n  &lt;Grid container spacing={3} alignItems=\"stretch\"&gt;\n    {/* ... other overview cards */}\n    &lt;Grid item md={6} xs={12}&gt;\n      &lt;AIRulesComponent title=\"AI Coding Rules\" /&gt;\n    &lt;/Grid&gt;\n  &lt;/Grid&gt;\n);\n</code></pre>"},{"location":"plugins/ai-rules-plugin/frontend/install/#configuration","title":"Configuration","text":"<p>The plugin behavior can be configured through your <code>app-config.yaml</code>:</p> <pre><code>aiRules:\n  allowedRuleTypes:\n    - cursor\n    - copilot  \n    - cline\n</code></pre> <p>If not specified, defaults to <code>[\"cursor\", \"copilot\"]</code>.</p>"},{"location":"plugins/ai-rules-plugin/frontend/install/#component-integration","title":"Component Integration","text":""},{"location":"plugins/ai-rules-plugin/frontend/install/#entity-requirements","title":"Entity Requirements","text":"<p>For the plugin to work with your entities, they need:</p> <ol> <li>Source Location: Entity must have a source location annotation pointing to a Git repository</li> <li>Repository Access: Backend must have access to the repository</li> <li>Rule Files: Repository must contain AI rule files in supported locations</li> </ol> <p>Example entity with source location: <pre><code>apiVersion: backstage.io/v1alpha1\nkind: Component\nmetadata:\n  name: my-service\n  annotations:\n    backstage.io/source-location: url:https://github.com/org/repo\nspec:\n  type: service\n  lifecycle: production\n  owner: team-a\n</code></pre></p>"},{"location":"plugins/ai-rules-plugin/frontend/install/#supported-file-patterns","title":"Supported File Patterns","text":"<p>The plugin looks for rules in these locations:</p> <ul> <li>Cursor Rules: <code>.cursor/rules/*.mdc</code></li> <li>GitHub Copilot Rules: <code>.github/copilot-instructions.md</code></li> <li>Cline Rules: <code>.clinerules/*.md</code></li> </ul>"},{"location":"plugins/ai-rules-plugin/frontend/install/#new-frontend-system-support-alpha","title":"New Frontend System Support (Alpha)","text":"<p>The plugin now supports the new frontend system available in the <code>/alpha</code> export. To use this:</p> <pre><code>import { createApp } from '@backstage/frontend-defaults';\nimport { aiRulesPlugin } from '@terasky/backstage-plugin-ai-rules/alpha';\n\nexport default createApp({\n  features: [\n    ...\n    aiRulesPlugin,\n    ...\n  ],\n});\n</code></pre> <p>This replaces the need for manual route configuration in <code>EntityPage.tsx</code> and other files. The plugin will be automatically integrated into the appropriate entity pages.</p>"},{"location":"plugins/ai-rules-plugin/frontend/install/#verification","title":"Verification","text":"<p>After installation, verify that:</p> <ol> <li>The plugin appears in your package.json dependencies</li> <li>The AI Rules tab appears on component pages</li> <li>Rules are displayed for components with valid repositories</li> <li>Filtering works correctly for different rule types</li> </ol>"},{"location":"plugins/ai-rules-plugin/frontend/install/#troubleshooting","title":"Troubleshooting","text":"<p>Common issues and solutions:</p>"},{"location":"plugins/ai-rules-plugin/frontend/install/#component-not-displaying","title":"Component Not Displaying","text":"<ul> <li>Verify the component is properly imported and added to entity pages</li> <li>Check that the route path matches your navigation</li> <li>Ensure proper JSX syntax in EntityPage.tsx</li> </ul>"},{"location":"plugins/ai-rules-plugin/frontend/install/#no-rules-found","title":"No Rules Found","text":"<ul> <li>Confirm the backend plugin is installed and running</li> <li>Verify entity has source location annotation</li> <li>Check that repository contains rule files in expected locations</li> <li>Ensure backend has access to the repository</li> </ul>"},{"location":"plugins/ai-rules-plugin/frontend/install/#loading-issues","title":"Loading Issues","text":"<ul> <li>Check browser console for errors</li> <li>Verify backend API endpoints are accessible</li> <li>Confirm entity reference format is correct</li> <li>Check network connectivity to repository</li> </ul>"},{"location":"plugins/ai-rules-plugin/frontend/install/#permission-errors","title":"Permission Errors","text":"<ul> <li>Verify SCM integration configuration</li> <li>Check repository access permissions</li> <li>Ensure proper authentication for private repositories</li> </ul> <p>For configuration options and customization, proceed to the Configuration Guide. </p>"},{"location":"plugins/api-docs-module-crd/overview/","title":"API Docs Module - CRD","text":"<p>The API Docs Module for Custom Resource Definitions (CRDs) extends the Backstage API Docs plugin with comprehensive support for visualizing and exploring Kubernetes CRDs. It provides an interactive, doc.crds.dev-style interface for browsing CRD schemas, supporting multiple versions, and generating example YAML manifests.</p>"},{"location":"plugins/api-docs-module-crd/overview/#features","title":"Features","text":"<ul> <li>Interactive CRD Visualization: Browse CRD schemas with an intuitive, expandable/collapsible interface</li> <li>Multi-Version Support: Switch between different CRD versions and view version-specific schemas</li> <li>Example YAML Generation: Automatically generate valid Custom Resource YAML templates from CRD schemas</li> <li>Kubernetes Format Support: Parses both simplified and standard Kubernetes CRD formats</li> <li>Property Exploration: View detailed information about each CRD property including type, description, and required status</li> <li>Dark Mode Support: Fully styled for both light and dark themes</li> <li>Direct Link Sharing: Copy links to specific CRD properties for easy reference</li> </ul>"},{"location":"plugins/api-docs-module-crd/overview/#plugin-components","title":"Plugin Components","text":""},{"location":"plugins/api-docs-module-crd/overview/#frontend-module","title":"Frontend Module","text":"<p>The frontend module extends the <code>@backstage/plugin-api-docs</code> plugin to add CRD visualization support. It registers a new API widget type <code>crd</code> that renders CRD definitions in an interactive interface.</p> <p>Learn more about the frontend module</p>"},{"location":"plugins/api-docs-module-crd/overview/#how-it-works","title":"How It Works","text":"<p>The plugin integrates with Backstage's API catalog by:</p> <ol> <li>Detecting API entities with <code>spec.type: crd</code></li> <li>Parsing the CRD YAML from <code>spec.definition</code></li> <li>Rendering an interactive schema browser</li> <li>Supporting version selection for multi-version CRDs</li> <li>Generating example YAML manifests on demand</li> </ol>"},{"location":"plugins/api-docs-module-crd/overview/#use-cases","title":"Use Cases","text":""},{"location":"plugins/api-docs-module-crd/overview/#platform-engineering","title":"Platform Engineering","text":"<ul> <li>Document platform-provided CRDs in the developer portal</li> <li>Provide self-service CRD discovery for developers</li> <li>Generate example manifests for onboarding</li> <li>Share direct links to specific CRD properties</li> </ul>"},{"location":"plugins/api-docs-module-crd/overview/#developer-experience","title":"Developer Experience","text":"<ul> <li>Explore available CRDs and their schemas</li> <li>Understand required vs optional fields</li> <li>Copy example YAML to get started quickly</li> <li>Compare differences between CRD versions</li> </ul>"},{"location":"plugins/api-docs-module-crd/overview/#api-governance","title":"API Governance","text":"<ul> <li>Centralize CRD documentation</li> <li>Version CRD schemas alongside other APIs</li> <li>Track CRD evolution over time</li> <li>Maintain consistency across clusters</li> </ul>"},{"location":"plugins/api-docs-module-crd/overview/#documentation-structure","title":"Documentation Structure","text":""},{"location":"plugins/api-docs-module-crd/overview/#frontend-module_1","title":"Frontend Module","text":"<ul> <li>About</li> <li>Installation</li> <li>Configuration</li> </ul>"},{"location":"plugins/api-docs-module-crd/overview/#getting-started","title":"Getting Started","text":"<p>To get started with the API Docs Module for CRDs:</p> <ol> <li>Install the frontend module</li> <li>Extends the <code>@backstage/plugin-api-docs</code> plugin</li> <li>No backend component required</li> <li>Create API entities for your CRDs</li> <li>Set <code>spec.type: crd</code></li> <li>Include CRD YAML in <code>spec.definition</code></li> <li>Browse CRD documentation</li> <li>Navigate to API entities in catalog</li> <li>Explore schemas interactively</li> <li>Generate example YAML manifests</li> </ol> <p>For detailed installation and configuration instructions, refer to the frontend documentation linked above.</p>"},{"location":"plugins/api-docs-module-crd/frontend/about/","title":"API Docs Module - CRD Frontend","text":""},{"location":"plugins/api-docs-module-crd/frontend/about/#overview","title":"Overview","text":"<p>The API Docs Module for CRDs is a frontend module that extends the Backstage API Docs plugin to provide comprehensive visualization and exploration of Kubernetes Custom Resource Definitions. It renders CRD schemas in an interactive interface inspired by doc.crds.dev, making it easy for developers to understand and use custom Kubernetes resources.</p>"},{"location":"plugins/api-docs-module-crd/frontend/about/#features","title":"Features","text":""},{"location":"plugins/api-docs-module-crd/frontend/about/#interactive-schema-visualization","title":"Interactive Schema Visualization","text":"<ul> <li>Expandable/collapsible property tree</li> <li>Type and description display for each property</li> <li>Required field indicators</li> <li>Nested object and array support</li> <li>Anchor links for sharing specific properties</li> </ul>"},{"location":"plugins/api-docs-module-crd/frontend/about/#multi-version-support","title":"Multi-Version Support","text":"<ul> <li>Version selector for CRDs with multiple versions</li> <li>Automatic detection of storage and served versions</li> <li>Per-version schema rendering</li> <li>Version badges (storage/served)</li> </ul>"},{"location":"plugins/api-docs-module-crd/frontend/about/#example-yaml-generation","title":"Example YAML Generation","text":"<ul> <li>One-click YAML manifest generation</li> <li>Proper structure for all property types</li> <li>Empty arrays for simple types</li> <li>Nested object formatting</li> <li>Direct clipboard copy</li> </ul>"},{"location":"plugins/api-docs-module-crd/frontend/about/#user-experience","title":"User Experience","text":"<ul> <li>Dark mode support</li> <li>Expand/collapse all controls</li> <li>Copy example YAML button</li> <li>Link sharing for specific properties</li> <li>Responsive design</li> </ul>"},{"location":"plugins/api-docs-module-crd/frontend/about/#components","title":"Components","text":""},{"location":"plugins/api-docs-module-crd/frontend/about/#crddefinitionwidget","title":"CrdDefinitionWidget","text":"<p>The main component that renders CRD definitions. It automatically: - Parses CRD YAML from API entity definitions - Detects Kubernetes <code>apiextensions.k8s.io/v1</code> format - Renders version selector for multi-version CRDs - Provides interactive property exploration - Generates example YAML manifests</p>"},{"location":"plugins/api-docs-module-crd/frontend/about/#how-it-works","title":"How It Works","text":"<p>The module extends the API Docs plugin by: 1. Registering a new widget type: <code>crd</code> 2. Overriding the <code>apiDocsConfigRef</code> to include the CRD widget 3. Maintaining compatibility with existing API widget types (OpenAPI, AsyncAPI, etc.)</p>"},{"location":"plugins/api-docs-module-crd/frontend/about/#technical-details","title":"Technical Details","text":""},{"location":"plugins/api-docs-module-crd/frontend/about/#integration-points","title":"Integration Points","text":"<ul> <li><code>@backstage/plugin-api-docs</code> (extends)</li> <li>Backstage catalog API</li> <li>React and Material-UI components</li> </ul>"},{"location":"plugins/api-docs-module-crd/frontend/about/#supported-crd-formats","title":"Supported CRD Formats","text":""},{"location":"plugins/api-docs-module-crd/frontend/about/#kubernetes-format","title":"Kubernetes Format","text":"<pre><code>apiVersion: apiextensions.k8s.io/v1\nkind: CustomResourceDefinition\nmetadata:\n  name: myresources.example.com\nspec:\n  group: example.com\n  names:\n    kind: MyResource\n  versions:\n    - name: v1\n      served: true\n      storage: true\n      schema:\n        openAPIV3Schema:\n          type: object\n          properties:\n            spec:\n              type: object\n              properties:\n                field: string\n</code></pre>"},{"location":"plugins/api-docs-module-crd/frontend/about/#simplified-format","title":"Simplified Format","text":"<pre><code>Kind: MyResource\nGroup: example.com\nVersion: v1\nSchema:\n  Type: object\n  Properties:\n    spec:\n      Type: object\n      Properties:\n        field:\n          Type: string\n</code></pre>"},{"location":"plugins/api-docs-module-crd/frontend/about/#property-types","title":"Property Types","text":"<p>Supports all standard OpenAPI v3 schema types: - <code>string</code>, <code>integer</code>, <code>boolean</code>, <code>number</code> - <code>object</code> (nested properties) - <code>array</code> (with item schemas) - Complex nested structures</p>"},{"location":"plugins/api-docs-module-crd/frontend/about/#use-cases","title":"Use Cases","text":""},{"location":"plugins/api-docs-module-crd/frontend/about/#crd-documentation","title":"CRD Documentation","text":"<ol> <li>Document platform CRDs in developer portal</li> <li>Provide searchable CRD catalog</li> <li>Version CRD schemas alongside code</li> <li>Share links to specific properties</li> </ol>"},{"location":"plugins/api-docs-module-crd/frontend/about/#developer-onboarding","title":"Developer Onboarding","text":"<ol> <li>Explore available CRDs</li> <li>Understand required fields</li> <li>Generate starter YAML</li> <li>Learn CRD structure</li> </ol>"},{"location":"plugins/api-docs-module-crd/frontend/about/#api-governance","title":"API Governance","text":"<ol> <li>Centralize CRD documentation</li> <li>Track schema evolution</li> <li>Enforce documentation standards</li> <li>Monitor breaking changes</li> </ol>"},{"location":"plugins/api-docs-module-crd/frontend/about/#prerequisites","title":"Prerequisites","text":"<p>Required: - <code>@backstage/plugin-api-docs</code> must be installed - API entities with <code>spec.type: crd</code> - CRD YAML in <code>spec.definition</code></p> <p>Recommended: - Backstage new frontend system - Catalog with API entity support</p>"},{"location":"plugins/api-docs-module-crd/frontend/about/#example-api-entity","title":"Example API Entity","text":"<pre><code>apiVersion: backstage.io/v1alpha1\nkind: API\nmetadata:\n  name: my-crd\n  title: My Custom Resource\n  description: A custom Kubernetes resource for my platform\nspec:\n  type: crd\n  lifecycle: production\n  owner: platform-team\n  definition: |\n    apiVersion: apiextensions.k8s.io/v1\n    kind: CustomResourceDefinition\n    metadata:\n      name: myresources.example.com\n    spec:\n      group: example.com\n      names:\n        kind: MyResource\n        plural: myresources\n      scope: Namespaced\n      versions:\n        - name: v1\n          served: true\n          storage: true\n          schema:\n            openAPIV3Schema:\n              type: object\n              properties:\n                spec:\n                  type: object\n                  required:\n                    - name\n                  properties:\n                    name:\n                      type: string\n                      description: Resource name\n                    replicas:\n                      type: integer\n                      description: Number of replicas\n</code></pre> <p>For installation and configuration details, refer to the Installation Guide and Configuration Guide.</p>"},{"location":"plugins/api-docs-module-crd/frontend/configure/","title":"Configuration","text":"<p>This guide explains how to configure API entities for CRD visualization and customize the module behavior.</p>"},{"location":"plugins/api-docs-module-crd/frontend/configure/#creating-crd-api-entities","title":"Creating CRD API Entities","text":""},{"location":"plugins/api-docs-module-crd/frontend/configure/#basic-api-entity","title":"Basic API Entity","text":"<p>Create a YAML file in your catalog (e.g., <code>catalog-info.yaml</code>):</p> <pre><code>apiVersion: backstage.io/v1alpha1\nkind: API\nmetadata:\n  name: my-custom-resource\n  title: My Custom Resource\n  description: Custom resource for application deployment\nspec:\n  type: crd  # Required: must be 'crd'\n  lifecycle: production\n  owner: platform-team\n  definition: |\n    apiVersion: apiextensions.k8s.io/v1\n    kind: CustomResourceDefinition\n    metadata:\n      name: myresources.example.com\n    spec:\n      group: example.com\n      names:\n        kind: MyResource\n        plural: myresources\n        singular: myresource\n        shortNames:\n          - mr\n      scope: Namespaced\n      versions:\n        - name: v1\n          served: true\n          storage: true\n          schema:\n            openAPIV3Schema:\n              type: object\n              required:\n                - spec\n              properties:\n                spec:\n                  type: object\n                  required:\n                    - replicas\n                  properties:\n                    replicas:\n                      type: integer\n                      description: Number of replicas to deploy\n                      minimum: 1\n                      maximum: 100\n                    image:\n                      type: string\n                      description: Container image to use\n                    env:\n                      type: array\n                      description: Environment variables\n                      items:\n                        type: object\n                        required:\n                          - name\n                          - value\n                        properties:\n                          name:\n                            type: string\n                          value:\n                            type: string\n</code></pre>"},{"location":"plugins/api-docs-module-crd/frontend/configure/#multi-version-crd","title":"Multi-Version CRD","text":"<p>For CRDs with multiple versions:</p> <pre><code>apiVersion: backstage.io/v1alpha1\nkind: API\nmetadata:\n  name: my-multi-version-crd\n  title: My Multi-Version CRD\nspec:\n  type: crd\n  lifecycle: production\n  owner: platform-team\n  definition: |\n    apiVersion: apiextensions.k8s.io/v1\n    kind: CustomResourceDefinition\n    metadata:\n      name: databases.example.com\n    spec:\n      group: example.com\n      names:\n        kind: Database\n        plural: databases\n      scope: Namespaced\n      versions:\n        - name: v1\n          served: true\n          storage: true\n          schema:\n            openAPIV3Schema:\n              type: object\n              properties:\n                spec:\n                  type: object\n                  properties:\n                    engine:\n                      type: string\n                      enum: [mysql, postgres]\n                    version:\n                      type: string\n        - name: v2\n          served: true\n          storage: false\n          schema:\n            openAPIV3Schema:\n              type: object\n              properties:\n                spec:\n                  type: object\n                  properties:\n                    engine:\n                      type: string\n                      enum: [mysql, postgres, mongodb]\n                    version:\n                      type: string\n                    replicas:\n                      type: integer\n                      default: 1\n</code></pre> <p>The widget will: - Show a version selector dropdown - Default to the storage version (or first served version) - Display version badges (storage/served) - Allow switching between versions</p>"},{"location":"plugins/api-docs-module-crd/frontend/configure/#simplified-crd-format","title":"Simplified CRD Format","text":"<p>The module also supports a simplified format (without the full Kubernetes CRD wrapper):</p> <pre><code>apiVersion: backstage.io/v1alpha1\nkind: API\nmetadata:\n  name: simple-crd\n  title: Simple CRD Format\nspec:\n  type: crd\n  owner: platform-team\n  definition: |\n    Kind: MyResource\n    Group: example.com\n    Version: v1\n    Schema:\n      Type: object\n      Properties:\n        spec:\n          Type: object\n          Properties:\n            name:\n              Type: string\n              Description: Resource name\n            replicas:\n              Type: integer\n              Description: Number of replicas\n</code></pre>"},{"location":"plugins/api-docs-module-crd/frontend/configure/#entity-annotations","title":"Entity Annotations","text":""},{"location":"plugins/api-docs-module-crd/frontend/configure/#standard-backstage-annotations","title":"Standard Backstage Annotations","text":"<pre><code>metadata:\n  name: my-crd\n  annotations:\n    backstage.io/techdocs-ref: dir:./docs  # Link to TechDocs\n    backstage.io/source-location: url:https://github.com/org/repo  # Source code\n</code></pre>"},{"location":"plugins/api-docs-module-crd/frontend/configure/#linking-to-related-entities","title":"Linking to Related Entities","text":"<pre><code>spec:\n  type: crd\n  system: my-platform  # Link to system\n  owner: platform-team  # Link to group/user\n</code></pre>"},{"location":"plugins/api-docs-module-crd/frontend/configure/#advanced-configuration","title":"Advanced Configuration","text":""},{"location":"plugins/api-docs-module-crd/frontend/configure/#property-types","title":"Property Types","text":"<p>The module supports all OpenAPI v3 schema types:</p>"},{"location":"plugins/api-docs-module-crd/frontend/configure/#basic-types","title":"Basic Types","text":"<pre><code>properties:\n  stringField:\n    type: string\n  intField:\n    type: integer\n  boolField:\n    type: boolean\n  numberField:\n    type: number\n</code></pre>"},{"location":"plugins/api-docs-module-crd/frontend/configure/#objects","title":"Objects","text":"<pre><code>properties:\n  config:\n    type: object\n    properties:\n      timeout:\n        type: integer\n      retries:\n        type: integer\n</code></pre>"},{"location":"plugins/api-docs-module-crd/frontend/configure/#arrays","title":"Arrays","text":"<pre><code>properties:\n  tags:\n    type: array\n    items:\n      type: string\n  servers:\n    type: array\n    items:\n      type: object\n      properties:\n        host:\n          type: string\n        port:\n          type: integer\n</code></pre>"},{"location":"plugins/api-docs-module-crd/frontend/configure/#required-fields","title":"Required Fields","text":"<p>Mark fields as required:</p> <pre><code>spec:\n  type: object\n  required:  # Top-level required fields\n    - name\n    - replicas\n  properties:\n    name:\n      type: string\n    replicas:\n      type: integer\n    optional:\n      type: string\n</code></pre> <p>Required fields will display a \"required\" chip in the UI.</p>"},{"location":"plugins/api-docs-module-crd/frontend/configure/#field-descriptions","title":"Field Descriptions","text":"<p>Add descriptions for better documentation:</p> <pre><code>properties:\n  replicas:\n    type: integer\n    description: |\n      Number of pod replicas to create.\n      Must be between 1 and 100.\n      Defaults to 3 if not specified.\n    minimum: 1\n    maximum: 100\n    default: 3\n</code></pre>"},{"location":"plugins/api-docs-module-crd/frontend/configure/#organizing-crds-in-the-catalog","title":"Organizing CRDs in the Catalog","text":""},{"location":"plugins/api-docs-module-crd/frontend/configure/#grouping-by-system","title":"Grouping by System","text":"<pre><code>apiVersion: backstage.io/v1alpha1\nkind: System\nmetadata:\n  name: my-platform\n  title: My Platform\nspec:\n  owner: platform-team\n---\napiVersion: backstage.io/v1alpha1\nkind: API\nmetadata:\n  name: platform-crd-1\nspec:\n  type: crd\n  system: my-platform  # Links to system\n  owner: platform-team\n---\napiVersion: backstage.io/v1alpha1\nkind: API\nmetadata:\n  name: platform-crd-2\nspec:\n  type: crd\n  system: my-platform  # Links to same system\n  owner: platform-team\n</code></pre>"},{"location":"plugins/api-docs-module-crd/frontend/configure/#using-tags","title":"Using Tags","text":"<pre><code>apiVersion: backstage.io/v1alpha1\nkind: API\nmetadata:\n  name: my-crd\n  tags:\n    - kubernetes\n    - crd\n    - database\n    - production\nspec:\n  type: crd\n  owner: platform-team\n</code></pre>"},{"location":"plugins/api-docs-module-crd/frontend/configure/#best-practices","title":"Best Practices","text":""},{"location":"plugins/api-docs-module-crd/frontend/configure/#documentation","title":"Documentation","text":"<ul> <li>Always include <code>description</code> fields for properties</li> <li>Use the <code>title</code> field in metadata for display names</li> <li>Add comprehensive <code>description</code> in metadata</li> <li>Link to external docs with annotations</li> </ul>"},{"location":"plugins/api-docs-module-crd/frontend/configure/#organization","title":"Organization","text":"<ul> <li>Group related CRDs under systems</li> <li>Use consistent naming conventions</li> <li>Add relevant tags for filtering</li> <li>Set appropriate lifecycle stages</li> </ul>"},{"location":"plugins/api-docs-module-crd/frontend/configure/#versioning","title":"Versioning","text":"<ul> <li>Always mark one version as storage</li> <li>Include migration guides in descriptions</li> <li>Document breaking changes between versions</li> <li>Use semantic versioning (v1, v2, etc.)</li> </ul>"},{"location":"plugins/api-docs-module-crd/frontend/configure/#schema-design","title":"Schema Design","text":"<ul> <li>Mark required fields explicitly</li> <li>Provide default values where applicable</li> <li>Use enums for fixed value sets</li> <li>Add validation rules (min, max, pattern)</li> </ul>"},{"location":"plugins/api-docs-module-crd/frontend/configure/#example-complete-crd-entity","title":"Example: Complete CRD Entity","text":"<pre><code>apiVersion: backstage.io/v1alpha1\nkind: API\nmetadata:\n  name: application-deployment-crd\n  title: Application Deployment CRD\n  description: |\n    Custom resource for managing application deployments across clusters.\n    Supports multi-region deployments, blue-green strategies, and automatic scaling.\n  tags:\n    - kubernetes\n    - crd\n    - deployment\n    - platform\n  annotations:\n    backstage.io/techdocs-ref: dir:./docs\n    backstage.io/source-location: url:https://github.com/org/platform-crds\nspec:\n  type: crd\n  lifecycle: production\n  owner: platform-team\n  system: application-platform\n  definition: |\n    apiVersion: apiextensions.k8s.io/v1\n    kind: CustomResourceDefinition\n    metadata:\n      name: applicationdeployments.platform.example.com\n    spec:\n      group: platform.example.com\n      names:\n        kind: ApplicationDeployment\n        plural: applicationdeployments\n        shortNames:\n          - appd\n      scope: Namespaced\n      versions:\n        - name: v1\n          served: true\n          storage: true\n          schema:\n            openAPIV3Schema:\n              type: object\n              required:\n                - spec\n              properties:\n                spec:\n                  type: object\n                  required:\n                    - image\n                    - replicas\n                  properties:\n                    image:\n                      type: string\n                      description: Container image to deploy\n                    replicas:\n                      type: integer\n                      description: Number of replicas\n                      minimum: 1\n                      maximum: 100\n                      default: 3\n                    regions:\n                      type: array\n                      description: Target deployment regions\n                      items:\n                        type: string\n                        enum: [us-east-1, us-west-2, eu-west-1]\n                    strategy:\n                      type: object\n                      description: Deployment strategy configuration\n                      properties:\n                        type:\n                          type: string\n                          enum: [rolling, bluegreen, canary]\n                          default: rolling\n                        canaryPercent:\n                          type: integer\n                          minimum: 0\n                          maximum: 100\n</code></pre>"},{"location":"plugins/api-docs-module-crd/frontend/configure/#next-steps","title":"Next Steps","text":"<ul> <li>Explore module features</li> <li>Review installation guide</li> <li>Check the overview for more context</li> </ul>"},{"location":"plugins/api-docs-module-crd/frontend/install/","title":"Installation","text":"<p>This guide will help you install the API Docs Module for CRDs in your Backstage instance.</p>"},{"location":"plugins/api-docs-module-crd/frontend/install/#prerequisites","title":"Prerequisites","text":"<ul> <li>Backstage instance (version 1.47.0 or later)</li> <li><code>@backstage/plugin-api-docs</code> installed and configured</li> <li>Node.js 18+ and Yarn</li> </ul>"},{"location":"plugins/api-docs-module-crd/frontend/install/#installation-steps","title":"Installation Steps","text":""},{"location":"plugins/api-docs-module-crd/frontend/install/#1-install-the-package","title":"1. Install the Package","text":"<p>From the root of your Backstage app:</p> <pre><code>yarn workspace app add @terasky/backstage-plugin-api-docs-module-crd\n</code></pre>"},{"location":"plugins/api-docs-module-crd/frontend/install/#2-add-the-module-to-your-app","title":"2. Add the Module to Your App","text":"<p>For New Frontend System (recommended):</p> <p>Edit <code>packages/app/src/index.tsx</code>:</p> <pre><code>import { createApp } from '@backstage/app-defaults';\n\n// Add this import\nimport apiDocsModuleCrd from '@terasky/backstage-plugin-api-docs-module-crd';\n\nconst app = createApp({\n  features: [\n    // ... other features\n    apiDocsModuleCrd, // Add this line\n  ],\n});\n</code></pre> <p>That's it! The module will automatically extend the API Docs plugin.</p>"},{"location":"plugins/api-docs-module-crd/frontend/install/#3-verify-installation","title":"3. Verify Installation","text":"<ol> <li> <p>Start your Backstage app:    <pre><code>yarn dev\n</code></pre></p> </li> <li> <p>Create a test API entity with <code>spec.type: crd</code> (see Configuration Guide)</p> </li> <li> <p>Navigate to the API entity in the catalog</p> </li> <li> <p>You should see the CRD rendered with an interactive schema browser</p> </li> </ol>"},{"location":"plugins/api-docs-module-crd/frontend/install/#troubleshooting","title":"Troubleshooting","text":""},{"location":"plugins/api-docs-module-crd/frontend/install/#module-not-loading","title":"Module Not Loading","text":"<p>Issue: The CRD widget doesn't appear</p> <p>Solutions: - Verify the module is imported in <code>packages/app/src/index.tsx</code> - Check that the API entity has <code>spec.type: crd</code> - Ensure the CRD YAML is in <code>spec.definition</code> - Check browser console for errors</p>"},{"location":"plugins/api-docs-module-crd/frontend/install/#other-api-types-not-working","title":"Other API Types Not Working","text":"<p>Issue: OpenAPI/AsyncAPI widgets stopped working after installing the module</p> <p>Solutions: - This should not happen as the module preserves existing widgets - Check that <code>@backstage/plugin-api-docs</code> is still properly configured - Verify no conflicts in your app configuration - Check browser console for errors</p>"},{"location":"plugins/api-docs-module-crd/frontend/install/#typescript-errors","title":"TypeScript Errors","text":"<p>Issue: TypeScript compilation errors after installation</p> <p>Solutions: - Run <code>yarn install</code> to update dependencies - Run <code>yarn tsc</code> to check for type errors - Ensure you're using compatible versions of dependencies - Clear TypeScript cache: <code>rm -rf node_modules/.cache</code></p>"},{"location":"plugins/api-docs-module-crd/frontend/install/#next-steps","title":"Next Steps","text":"<ul> <li>Configure the module to create API entities for your CRDs</li> <li>Learn about features and usage</li> <li>Explore the overview for more information</li> </ul>"},{"location":"plugins/api-docs-module-crd/frontend/install/#version-compatibility","title":"Version Compatibility","text":"Plugin Version Backstage Version Notes 1.0.x 1.47.0+ Initial release, requires new frontend system"},{"location":"plugins/api-docs-module-crd/frontend/install/#support","title":"Support","text":"<p>If you encounter issues: 1. Check the Configuration Guide for common setup patterns 2. Review the About page for feature documentation 3. Open an issue on GitHub</p>"},{"location":"plugins/catalog-mcp/overview/","title":"Catalog MCP Plugin","text":"<p>The Catalog MCP plugin for Backstage provides comprehensive integration with Model Context Protocol (MCP), enabling AI agents and automation tools to discover and query catalog entities programmatically through flexible and powerful query interfaces.</p>"},{"location":"plugins/catalog-mcp/overview/#plugin-components","title":"Plugin Components","text":""},{"location":"plugins/catalog-mcp/overview/#backend-plugin-teraskybackstage-plugin-catalog-mcp-backend","title":"Backend Plugin (<code>@terasky/backstage-plugin-catalog-mcp-backend</code>)","text":"<p>The backend plugin provides MCP actions for: - Querying entities by owner - Searching entities by annotations - Discovering entity types for specific kinds - Filtering entities by kind and type combinations - Building custom queries with flexible filter and field parameters - Integration with Backstage's Catalog API</p> <p>Learn more about the backend plugin</p>"},{"location":"plugins/catalog-mcp/overview/#documentation-structure","title":"Documentation Structure","text":"<ul> <li>Backend Plugin<ul> <li>About</li> <li>Installation</li> <li>Configuration</li> </ul> </li> </ul>"},{"location":"plugins/catalog-mcp/overview/#mcp-actions-integration","title":"MCP Actions Integration","text":"<p>The Catalog MCP plugin provides MCP (Model Context Protocol) actions for programmatic querying of the Backstage Catalog. This enables AI agents and automation tools to:</p> <ol> <li>Query by Owner: Find all entities owned by specific users or groups</li> <li>Search by Annotation: Discover entities with specific metadata annotations</li> <li>Discover Entity Types: Explore the taxonomy of your catalog</li> <li>Filter by Kind and Type: Find specific entity types (e.g., all service components)</li> <li>Custom Queries: Build flexible queries with any combination of filters</li> </ol>"},{"location":"plugins/catalog-mcp/overview/#available-mcp-actions","title":"Available MCP Actions","text":"<p>The plugin provides 5 comprehensive MCP actions for catalog querying:</p>"},{"location":"plugins/catalog-mcp/overview/#query-actions","title":"Query Actions","text":"<ol> <li>get_entities_by_owner</li> <li>Find all entities owned by a specific user or group</li> <li>Input: Owner reference (user:namespace/name or group:namespace/name)</li> <li>Returns full entity data for all matches</li> <li> <p>Use case: \"Show me everything the platform team owns\"</p> </li> <li> <p>get_entities_by_annotation</p> </li> <li>Search for entities with specific annotations</li> <li>Input: Annotation key and optional value</li> <li>Supports partial matching (key only) or exact matching (key + value)</li> <li> <p>Use case: \"Find all entities with GitHub project slug annotation\"</p> </li> <li> <p>get_entity_types_for_kind</p> </li> <li>Discover all entity types available for a specific kind</li> <li>Input: Entity kind (Component, API, Resource, etc.)</li> <li>Returns deduplicated list of types</li> <li> <p>Use case: \"What types of Components exist in my catalog?\"</p> </li> <li> <p>get_all_entities_by_kind_and_type</p> </li> <li>Query entities by both kind and type</li> <li>Input: Kind and type</li> <li>Returns all matching entities</li> <li> <p>Use case: \"Show me all service components\"</p> </li> <li> <p>get_entities_with_custom_query \u2b50</p> </li> <li>Most flexible query action</li> <li>Input: Custom filter and fields parameters</li> <li>Supports complex filtering with multiple criteria</li> <li>Supports field selection for performance optimization</li> <li>Use case: \"Find all components of type service owned by the platform team with a specific annotation\"</li> </ol>"},{"location":"plugins/catalog-mcp/overview/#integration-requirements","title":"Integration Requirements","text":"<p>To enable these MCP actions:</p> <ol> <li>Install and configure the Catalog MCP backend plugin</li> <li>Ensure the Backstage Catalog is populated with entities</li> <li>Ensure the MCP server is configured in your Backstage instance</li> <li>Configure authentication</li> <li>Verify catalog integration is working</li> </ol>"},{"location":"plugins/catalog-mcp/overview/#getting-started","title":"Getting Started","text":"<p>To get started with the Catalog MCP plugin:</p> <ol> <li>Install and configure the backend plugin</li> <li>Ensure the Backstage Catalog is set up</li> <li>Configure authentication</li> <li>Start using MCP actions with AI agents or automation tools</li> </ol> <p>For detailed installation and configuration instructions, refer to the backend documentation linked above.</p>"},{"location":"plugins/catalog-mcp/backend/about/","title":"Catalog MCP Backend Plugin","text":""},{"location":"plugins/catalog-mcp/backend/about/#overview","title":"Overview","text":"<p>The Catalog MCP backend plugin (<code>@terasky/backstage-plugin-catalog-mcp-backend</code>) provides Model Context Protocol (MCP) actions for comprehensive catalog querying in Backstage. This enables AI agents and automation tools to discover and query catalog entities through a standardized interface with powerful filtering capabilities.</p>"},{"location":"plugins/catalog-mcp/backend/about/#features","title":"Features","text":""},{"location":"plugins/catalog-mcp/backend/about/#owner-based-queries","title":"Owner-Based Queries","text":"<ul> <li>Find all entities owned by specific users or groups</li> <li>Support for user and group references</li> <li>Full entity data in responses</li> <li>Use cases: Team resource auditing, ownership tracking</li> </ul>"},{"location":"plugins/catalog-mcp/backend/about/#annotation-based-search","title":"Annotation-Based Search","text":"<ul> <li>Search entities by annotation keys</li> <li>Optional value filtering for exact matches</li> <li>Discover entities with specific metadata</li> <li>Use cases: Finding entities by GitHub project, documentation references, custom tags</li> </ul>"},{"location":"plugins/catalog-mcp/backend/about/#entity-type-discovery","title":"Entity Type Discovery","text":"<ul> <li>Discover all types for a specific entity kind</li> <li>Deduplicated type lists</li> <li>Understand catalog taxonomy</li> <li>Use cases: Exploring catalog structure, validating types</li> </ul>"},{"location":"plugins/catalog-mcp/backend/about/#kind-and-type-filtering","title":"Kind and Type Filtering","text":"<ul> <li>Query entities by both kind and type</li> <li>Targeted entity discovery</li> <li>Full entity data responses</li> <li>Use cases: Find all service components, list all REST APIs</li> </ul>"},{"location":"plugins/catalog-mcp/backend/about/#custom-query-builder","title":"Custom Query Builder","text":"<ul> <li>Most powerful and flexible query action</li> <li>Support for arbitrary filter combinations</li> <li>Field selection for performance optimization</li> <li>Multiple filter criteria with AND logic</li> <li>Use cases: Complex queries, custom reporting, data analysis</li> </ul>"},{"location":"plugins/catalog-mcp/backend/about/#mcp-actions-support","title":"MCP Actions Support","text":"<ul> <li>5 comprehensive MCP actions</li> <li>Standardized MCP action interface</li> <li>Integration with AI agents and automation tools</li> <li>Detailed error handling and logging</li> <li>Input validation and query optimization</li> </ul>"},{"location":"plugins/catalog-mcp/backend/about/#technical-details","title":"Technical Details","text":""},{"location":"plugins/catalog-mcp/backend/about/#available-mcp-actions","title":"Available MCP Actions","text":"<p>The plugin provides 5 main MCP actions for catalog querying:</p>"},{"location":"plugins/catalog-mcp/backend/about/#1-get_entities_by_owner","title":"1. get_entities_by_owner","text":"<p>Retrieves all catalog entities owned by a specific user or group.</p> <p>Input: - <code>owner</code>: Owner reference (e.g., \"user:default/john.doe\", \"group:default/engineering\")</p> <p>Output: - <code>entities</code>: Array of matching entities - <code>count</code>: Total number found - <code>owner</code>: The queried owner reference</p> <p>API Endpoint: <pre><code>/api/catalog/entities/by-query?filter=spec.owner=&lt;OWNER&gt;\n</code></pre></p> <p>Example: <pre><code>{\n  \"owner\": \"group:default/platform-team\"\n}\n</code></pre></p>"},{"location":"plugins/catalog-mcp/backend/about/#2-get_entities_by_annotation","title":"2. get_entities_by_annotation","text":"<p>Searches for entities with specific annotations, with optional value matching.</p> <p>Input: - <code>annotation</code>: Annotation key (e.g., \"backstage.io/techdocs-ref\") - <code>value</code> (optional): Annotation value for exact matching</p> <p>Output: - <code>entities</code>: Array of matching entities - <code>count</code>: Total number found - <code>annotation</code>: The queried annotation key - <code>value</code>: The queried value (if provided)</p> <p>API Endpoints: - Key only: <code>/api/catalog/entities/by-query?filter=metadata.annotations.&lt;KEY&gt;</code> - Key + value: <code>/api/catalog/entities/by-query?filter=metadata.annotations.&lt;KEY&gt;=&lt;VALUE&gt;</code></p> <p>Examples: <pre><code>// Find all entities with annotation\n{\n  \"annotation\": \"github.com/project-slug\"\n}\n\n// Find entities with specific annotation value\n{\n  \"annotation\": \"github.com/project-slug\",\n  \"value\": \"my-org/my-repo\"\n}\n</code></pre></p>"},{"location":"plugins/catalog-mcp/backend/about/#3-get_entity_types_for_kind","title":"3. get_entity_types_for_kind","text":"<p>Discovers all entity types available for a specific kind.</p> <p>Input: - <code>kind</code>: Entity kind (e.g., \"Component\", \"API\", \"Resource\")</p> <p>Output: - <code>types</code>: Deduplicated array of type strings - <code>count</code>: Total number of unique types - <code>kind</code>: The queried kind</p> <p>API Endpoint: <pre><code>/api/catalog/entities/by-query?filter=kind=&lt;KIND&gt;&amp;fields=spec.type,kind\n</code></pre></p> <p>Example: <pre><code>{\n  \"kind\": \"Component\"\n}\n</code></pre></p> <p>Response Example: <pre><code>{\n  \"types\": [\"service\", \"website\", \"library\", \"documentation\"],\n  \"count\": 4,\n  \"kind\": \"Component\"\n}\n</code></pre></p>"},{"location":"plugins/catalog-mcp/backend/about/#4-get_all_entities_by_kind_and_type","title":"4. get_all_entities_by_kind_and_type","text":"<p>Retrieves entities matching both a specific kind and type.</p> <p>Input: - <code>kind</code>: Entity kind (e.g., \"Component\", \"API\") - <code>type</code>: Entity type (e.g., \"service\", \"openapi\")</p> <p>Output: - <code>entities</code>: Array of matching entities - <code>count</code>: Total number found - <code>kind</code>: The queried kind - <code>type</code>: The queried type</p> <p>API Endpoint: <pre><code>/api/catalog/entities/by-query?filter=spec.type=&lt;TYPE&gt;,kind=&lt;KIND&gt;\n</code></pre></p> <p>Example: <pre><code>{\n  \"kind\": \"Component\",\n  \"type\": \"service\"\n}\n</code></pre></p>"},{"location":"plugins/catalog-mcp/backend/about/#5-get_entities_with_custom_query","title":"5. get_entities_with_custom_query \u2b50","text":"<p>The most flexible query action, supporting arbitrary filters and field selection.</p> <p>Input: - <code>filter</code> (optional): Query filter string with comma-separated criteria - <code>fields</code> (optional): Comma-separated list of fields to return</p> <p>Output: - <code>entities</code>: Array of matching entities - <code>count</code>: Total number found - <code>filter</code>: The applied filter - <code>fields</code>: The requested fields</p> <p>API Endpoint: <pre><code>/api/catalog/entities/by-query?filter=&lt;FILTER&gt;&amp;fields=&lt;FIELDS&gt;\n</code></pre></p> <p>Examples: <pre><code>// Filter by multiple criteria\n{\n  \"filter\": \"spec.type=service,kind=Component,spec.owner=group:default/platform\"\n}\n\n// With field selection for performance\n{\n  \"filter\": \"kind=Component\",\n  \"fields\": \"kind,metadata.name,metadata.namespace\"\n}\n\n// Complex annotation query\n{\n  \"filter\": \"metadata.annotations.github.com/project-slug=myorg/myrepo,kind=Component\"\n}\n</code></pre></p>"},{"location":"plugins/catalog-mcp/backend/about/#integration-points","title":"Integration Points","text":"<ul> <li>Backstage Catalog API (required)</li> <li>MCP Actions Registry (required)</li> <li>Backstage Authentication System (required)</li> <li>Backstage Discovery Service (required)</li> </ul>"},{"location":"plugins/catalog-mcp/backend/about/#security-considerations","title":"Security Considerations","text":"<ul> <li>All actions use authenticated requests</li> <li>Actions run with catalog read permissions</li> <li>URL encoding for safe parameter passing</li> <li>Input validation for all parameters</li> <li>Comprehensive error handling</li> </ul>"},{"location":"plugins/catalog-mcp/backend/about/#error-handling","title":"Error Handling","text":"<p>The plugin provides comprehensive error handling:</p> <ul> <li>Detailed error messages with context</li> <li>HTTP status codes and status text</li> <li>Full URL logging for debugging</li> <li>JSON error response parsing</li> <li>Query validation</li> </ul> <p>All errors are logged with the <code>[CATALOG MCP]</code> prefix for easy debugging.</p>"},{"location":"plugins/catalog-mcp/backend/about/#query-optimization","title":"Query Optimization","text":"<ul> <li>Field selection reduces response size</li> <li>Filter combinations use efficient catalog queries</li> <li>Proper URL encoding</li> <li>Response caching at the catalog level</li> <li>Pagination support through catalog API</li> </ul>"},{"location":"plugins/catalog-mcp/backend/about/#response-formats","title":"Response Formats","text":"<p>All actions return consistent response structures:</p> <pre><code>{\n  \"entities\": [ /* array of entity objects */ ],\n  \"count\": 42,\n  /* additional query-specific fields */\n}\n</code></pre> <p>Entity objects follow the Backstage entity schema with: - <code>apiVersion</code> - <code>kind</code> - <code>metadata</code> (name, namespace, annotations, labels, etc.) - <code>spec</code> (entity-specific specifications) - <code>relations</code> (entity relationships)</p>"},{"location":"plugins/catalog-mcp/backend/configure/","title":"Configuring the Catalog MCP Backend Plugin","text":"<p>This guide covers the configuration options for the Catalog MCP backend plugin.</p>"},{"location":"plugins/catalog-mcp/backend/configure/#prerequisites-configuration","title":"Prerequisites Configuration","text":""},{"location":"plugins/catalog-mcp/backend/configure/#catalog-configuration","title":"Catalog Configuration","text":"<p>Ensure the Backstage Catalog is properly configured:</p> <pre><code># app-config.yaml\ncatalog:\n  import:\n    entityFilename: catalog-info.yaml\n  rules:\n    - allow: [Component, System, API, Resource, Location, User, Group, Domain, Template]\n  providers:\n    # Add your catalog providers here\n</code></pre>"},{"location":"plugins/catalog-mcp/backend/configure/#authentication-configuration","title":"Authentication Configuration","text":"<p>The plugin uses the Backstage backend authentication system to make authenticated requests to the catalog API.</p>"},{"location":"plugins/catalog-mcp/backend/configure/#backend-authentication","title":"Backend Authentication","text":"<p>Ensure backend authentication is configured:</p> <pre><code>backend:\n  auth:\n    keys:\n      - secret: ${BACKEND_SECRET}\n</code></pre>"},{"location":"plugins/catalog-mcp/backend/configure/#service-to-service-authentication","title":"Service-to-Service Authentication","text":"<p>The plugin automatically uses service credentials for catalog API calls. No additional configuration is required.</p>"},{"location":"plugins/catalog-mcp/backend/configure/#mcp-actions-configuration","title":"MCP Actions Configuration","text":"<p>The plugin automatically registers all 5 MCP actions. No additional configuration is required for basic functionality.</p>"},{"location":"plugins/catalog-mcp/backend/configure/#available-actions","title":"Available Actions","text":"<ol> <li><code>get_entities_by_owner</code> - Query entities by owner</li> <li><code>get_entities_by_annotation</code> - Search by annotations</li> <li><code>get_entity_types_for_kind</code> - Discover entity types</li> <li><code>get_all_entities_by_kind_and_type</code> - Filter by kind and type</li> <li><code>get_entities_with_custom_query</code> - Flexible custom queries</li> </ol>"},{"location":"plugins/catalog-mcp/backend/configure/#best-practices","title":"Best Practices","text":""},{"location":"plugins/catalog-mcp/backend/configure/#query-optimization","title":"Query Optimization","text":"<ol> <li>Use Field Selection</li> <li>When using <code>get_entities_with_custom_query</code>, specify fields to reduce response size</li> <li>Only request the data you need</li> <li> <p>Example: <code>fields: \"kind,metadata.name,spec.owner\"</code></p> </li> <li> <p>Filter Appropriately</p> </li> <li>Use specific filters to reduce result sets</li> <li>Combine multiple filters for precise queries</li> <li> <p>Example: <code>filter: \"kind=Component,spec.type=service\"</code></p> </li> <li> <p>Owner Queries</p> </li> <li>Use group references for team-based queries</li> <li>Cache results when querying the same owner repeatedly</li> <li>Consider using custom queries for complex owner filters</li> </ol>"},{"location":"plugins/catalog-mcp/backend/configure/#entity-discovery","title":"Entity Discovery","text":"<ol> <li>Type Discovery</li> <li>Use <code>get_entity_types_for_kind</code> before querying by type</li> <li>Cache type lists for better performance</li> <li> <p>Validate types before filtering</p> </li> <li> <p>Annotation Searches</p> </li> <li>Use key-only searches for discovery</li> <li>Use key+value searches for precise matches</li> <li> <p>Consider indexing commonly-searched annotations</p> </li> <li> <p>Custom Queries</p> </li> <li>Start with simple filters and add complexity gradually</li> <li>Test queries with field selection for performance</li> <li>Monitor query response times</li> </ol>"},{"location":"plugins/catalog-mcp/backend/configure/#security","title":"Security","text":"<ol> <li>Authentication</li> <li>Always enable authentication</li> <li>Use strong backend secrets</li> <li>Rotate secrets regularly</li> <li> <p>Monitor authentication failures</p> </li> <li> <p>Authorization</p> </li> <li>Respect catalog permissions</li> <li>Implement read-only access where appropriate</li> <li>Log all query operations</li> <li> <p>Monitor unusual query patterns</p> </li> <li> <p>Logging and Monitoring</p> </li> <li>Enable backend logging</li> <li>Monitor <code>[CATALOG MCP]</code> log entries</li> <li>Track API errors and failures</li> <li>Set up alerts for high query volumes</li> </ol>"},{"location":"plugins/catalog-mcp/backend/configure/#error-handling","title":"Error Handling","text":"<p>The plugin provides comprehensive error logging:</p> <pre><code>[CATALOG MCP] Fetching entities by owner: http://localhost:7007/api/catalog/entities/by-query?filter=spec.owner=...\n[CATALOG MCP] Fetching entities by annotation: http://localhost:7007/api/catalog/entities/by-query?filter=...\n[CATALOG MCP] API Error: { ... }\n</code></pre> <p>Enable debug logging to troubleshoot issues:</p> <pre><code>backend:\n  log:\n    level: debug\n</code></pre>"},{"location":"plugins/catalog-mcp/backend/configure/#advanced-configuration","title":"Advanced Configuration","text":""},{"location":"plugins/catalog-mcp/backend/configure/#custom-backend-url","title":"Custom Backend URL","text":"<p>If your catalog runs on a different URL, update the configuration:</p> <pre><code>backend:\n  baseUrl: http://your-backend:7007\n</code></pre>"},{"location":"plugins/catalog-mcp/backend/configure/#timeout-configuration","title":"Timeout Configuration","text":"<p>Adjust timeout values for large catalogs:</p> <pre><code>backend:\n  reading:\n    timeout: 60000  # 60 seconds for large queries\n</code></pre>"},{"location":"plugins/catalog-mcp/backend/configure/#cors-configuration","title":"CORS Configuration","text":"<p>If accessing from different origins:</p> <pre><code>backend:\n  cors:\n    origin: http://localhost:3000\n    methods: [GET, POST, PUT, DELETE, PATCH]\n    credentials: true\n</code></pre>"},{"location":"plugins/catalog-mcp/backend/configure/#integration-with-catalog-providers","title":"Integration with Catalog Providers","text":""},{"location":"plugins/catalog-mcp/backend/configure/#entity-ingestion","title":"Entity Ingestion","text":"<p>Ensure entities are being ingested properly:</p> <pre><code>catalog:\n  providers:\n    github:\n      organization: 'my-org'\n      catalogPath: '/catalog-info.yaml'\n      filters:\n        branch: 'main'\n    kubernetes:\n      clusters:\n        - name: 'production'\n          url: 'https://k8s.example.com'\n          authProvider: 'serviceAccount'\n</code></pre>"},{"location":"plugins/catalog-mcp/backend/configure/#metadata-annotations","title":"Metadata Annotations","text":"<p>Configure standard annotations for better searchability:</p> <pre><code># Example catalog-info.yaml\napiVersion: backstage.io/v1alpha1\nkind: Component\nmetadata:\n  name: my-service\n  annotations:\n    github.com/project-slug: 'my-org/my-service'\n    backstage.io/techdocs-ref: 'dir:.'\n    backstage.io/source-location: 'url:https://github.com/my-org/my-service'\nspec:\n  type: service\n  owner: group:default/platform-team\n</code></pre>"},{"location":"plugins/catalog-mcp/backend/configure/#query-examples","title":"Query Examples","text":""},{"location":"plugins/catalog-mcp/backend/configure/#basic-owner-query","title":"Basic Owner Query","text":"<p>Find all entities owned by a team:</p> <pre><code>{\n  \"action\": \"get_entities_by_owner\",\n  \"input\": {\n    \"owner\": \"group:default/platform-team\"\n  }\n}\n</code></pre>"},{"location":"plugins/catalog-mcp/backend/configure/#annotation-search","title":"Annotation Search","text":"<p>Find entities with GitHub integration:</p> <pre><code>{\n  \"action\": \"get_entities_by_annotation\",\n  \"input\": {\n    \"annotation\": \"github.com/project-slug\"\n  }\n}\n</code></pre>"},{"location":"plugins/catalog-mcp/backend/configure/#type-discovery","title":"Type Discovery","text":"<p>Discover all component types:</p> <pre><code>{\n  \"action\": \"get_entity_types_for_kind\",\n  \"input\": {\n    \"kind\": \"Component\"\n  }\n}\n</code></pre>"},{"location":"plugins/catalog-mcp/backend/configure/#filtered-query","title":"Filtered Query","text":"<p>Find all service components:</p> <pre><code>{\n  \"action\": \"get_all_entities_by_kind_and_type\",\n  \"input\": {\n    \"kind\": \"Component\",\n    \"type\": \"service\"\n  }\n}\n</code></pre>"},{"location":"plugins/catalog-mcp/backend/configure/#complex-custom-query","title":"Complex Custom Query","text":"<p>Find specific entities with field selection:</p> <pre><code>{\n  \"action\": \"get_entities_with_custom_query\",\n  \"input\": {\n    \"filter\": \"kind=Component,spec.type=service,spec.owner=group:default/platform\",\n    \"fields\": \"kind,metadata.name,metadata.namespace,spec.type,spec.owner\"\n  }\n}\n</code></pre>"},{"location":"plugins/catalog-mcp/backend/configure/#troubleshooting","title":"Troubleshooting","text":""},{"location":"plugins/catalog-mcp/backend/configure/#common-configuration-issues","title":"Common Configuration Issues","text":"<ol> <li>Catalog Not Accessible</li> <li>Symptom: Connection errors or 404 responses</li> <li>Solution: Verify catalog is running and accessible</li> <li> <p>Check: <code>curl http://localhost:7007/api/catalog/entities</code></p> </li> <li> <p>No Entities Returned</p> </li> <li>Symptom: Empty results for valid queries</li> <li>Solution: Check catalog has entities ingested</li> <li> <p>Check: View catalog in Backstage UI</p> </li> <li> <p>Authentication Failures</p> </li> <li>Symptom: 401 or 403 errors</li> <li>Solution: Verify backend authentication is configured</li> <li> <p>Check: Backend secret is set correctly</p> </li> <li> <p>Invalid Filter Format</p> </li> <li>Symptom: Query parsing errors</li> <li>Solution: Use comma-separated filters without spaces</li> <li> <p>Example: <code>\"kind=Component,spec.type=service\"</code> (not <code>\"kind = Component, spec.type = service\"</code>)</p> </li> <li> <p>Large Response Times</p> </li> <li>Symptom: Slow query responses</li> <li>Solution: Use field selection to reduce data</li> <li>Solution: Add more specific filters</li> <li>Solution: Increase backend timeout</li> </ol>"},{"location":"plugins/catalog-mcp/backend/configure/#debug-mode","title":"Debug Mode","text":"<p>Enable detailed logging:</p> <pre><code>backend:\n  log:\n    level: debug\n    format: json\n</code></pre> <p>Check logs for: - Query URLs being constructed - Filter parameters being applied - Response sizes and timing - Error details with full context</p>"},{"location":"plugins/catalog-mcp/backend/configure/#performance-tuning","title":"Performance Tuning","text":""},{"location":"plugins/catalog-mcp/backend/configure/#for-large-catalogs-1000-entities","title":"For Large Catalogs (1000+ entities)","text":"<ol> <li> <p>Use Field Selection <pre><code>{\n  \"fields\": \"kind,metadata.name,spec.type\"\n}\n</code></pre></p> </li> <li> <p>Add Specific Filters <pre><code>{\n  \"filter\": \"kind=Component,spec.type=service,metadata.namespace=production\"\n}\n</code></pre></p> </li> <li> <p>Increase Timeouts <pre><code>backend:\n  reading:\n    timeout: 120000\n</code></pre></p> </li> <li> <p>Consider Caching</p> </li> <li>Cache common queries at the application level</li> <li>Use catalog response caching</li> <li>Implement query result memoization</li> </ol>"},{"location":"plugins/catalog-mcp/backend/configure/#next-steps","title":"Next Steps","text":"<p>After configuration: 1. Test queries using MCP actions 2. Monitor performance and error rates 3. Adjust timeouts and filters as needed 4. Set up logging and monitoring 5. Document common queries for your team</p>"},{"location":"plugins/catalog-mcp/backend/install/","title":"Installing the Catalog MCP Backend Plugin","text":"<p>This guide will help you install and set up the Catalog MCP backend plugin in your Backstage instance.</p>"},{"location":"plugins/catalog-mcp/backend/install/#prerequisites","title":"Prerequisites","text":"<p>Before installing the plugin, ensure you have:</p> <ol> <li>A working Backstage backend</li> <li>Backstage Catalog populated with entities</li> <li>Access to modify your Backstage backend configuration</li> <li>MCP server configured in your Backstage instance</li> </ol>"},{"location":"plugins/catalog-mcp/backend/install/#installation-steps","title":"Installation Steps","text":""},{"location":"plugins/catalog-mcp/backend/install/#1-add-the-package","title":"1. Add the Package","text":"<p>Install the plugin package using yarn:</p> <pre><code>yarn --cwd packages/backend add @terasky/backstage-plugin-catalog-mcp-backend\n</code></pre>"},{"location":"plugins/catalog-mcp/backend/install/#2-add-to-backend","title":"2. Add to Backend","text":"<p>Add the plugin to your backend (typically <code>packages/backend/src/index.ts</code>):</p> <pre><code>backend.add(import('@terasky/backstage-plugin-catalog-mcp-backend'));\n</code></pre>"},{"location":"plugins/catalog-mcp/backend/install/#verification","title":"Verification","text":"<p>After installation, verify that:</p> <ol> <li>The plugin appears in your package.json dependencies</li> <li>The backend starts without errors</li> <li>MCP actions are registered and accessible</li> <li>You can access the catalog API</li> </ol>"},{"location":"plugins/catalog-mcp/backend/install/#verify-mcp-actions-registration","title":"Verify MCP Actions Registration","text":"<p>You can verify the plugin is working by checking that the MCP actions are available. The following actions should be registered:</p> <ul> <li><code>get_entities_by_owner</code></li> <li><code>get_entities_by_annotation</code></li> <li><code>get_entity_types_for_kind</code></li> <li><code>get_all_entities_by_kind_and_type</code></li> <li><code>get_entities_with_custom_query</code></li> </ul>"},{"location":"plugins/catalog-mcp/backend/install/#next-steps","title":"Next Steps","text":"<p>After successful installation, proceed to: 1. Configuration Guide - Set up authentication and optimize queries</p>"},{"location":"plugins/crossplane/overview/","title":"Crossplane Plugins","text":"<p>The Crossplane plugins for Backstage provide a comprehensive solution for managing and visualizing Crossplane resources within your Backstage instance. These plugins enable teams to effectively monitor and control their cloud resources provisioned through Crossplane, with support for both Crossplane v1.x and v2.x APIs.</p>"},{"location":"plugins/crossplane/overview/#plugin-suite-components","title":"Plugin Suite Components","text":"<p>The Crossplane plugin suite consists of several components:</p> <ul> <li>Frontend Plugin (<code>@terasky/backstage-plugin-crossplane-resources</code>): </li> <li>Visualization and management of Crossplane resources</li> <li>Support for both v1.x and v2.x APIs</li> <li>Resource graphs and relationship mapping</li> <li>YAML and event viewers</li> <li> <p>Overview cards and status monitoring</p> </li> <li> <p>Backend Plugin (<code>@terasky/backstage-plugin-crossplane-resources-backend</code>):</p> </li> <li>Kubernetes API integration</li> <li>Resource data retrieval and processing</li> <li>Event monitoring and tracking</li> <li>Permission management and access control</li> <li> <p>MCP actions for programmatic access</p> </li> <li> <p>Common Library (<code>@terasky/backstage-plugin-crossplane-common</code>):</p> </li> <li>Shared types and interfaces</li> <li>Permission definitions</li> <li>Common utilities</li> <li>Resource type definitions</li> </ul>"},{"location":"plugins/crossplane/overview/#key-features","title":"Key Features","text":""},{"location":"plugins/crossplane/overview/#resource-management","title":"Resource Management","text":"<ul> <li>Comprehensive Resource Support:</li> <li>Claims and Composite Resources (XRs)</li> <li>Managed Resources (MRs)</li> <li>XRDs and Compositions</li> <li>Functions and Packages</li> <li>Support for both v1.x and v2.x APIs</li> </ul>"},{"location":"plugins/crossplane/overview/#visualization","title":"Visualization","text":"<ul> <li>Resource Graph:</li> <li>Interactive relationship visualization</li> <li>Dependency tracking</li> <li>Resource hierarchy display</li> <li>Support for both API versions</li> </ul>"},{"location":"plugins/crossplane/overview/#monitoring","title":"Monitoring","text":"<ul> <li>Event Tracking:</li> <li>Real-time event monitoring</li> <li>Resource status updates</li> <li>Condition tracking</li> <li>Error and warning detection</li> </ul>"},{"location":"plugins/crossplane/overview/#configuration","title":"Configuration","text":"<ul> <li>YAML Management:</li> <li>View and inspect configurations</li> <li>Copy to clipboard functionality</li> <li>Download YAML files</li> <li>Syntax highlighting</li> </ul>"},{"location":"plugins/crossplane/overview/#access-control","title":"Access Control","text":"<ul> <li>Permission Management:</li> <li>Fine-grained access control</li> <li>Role-based permissions</li> <li>Resource-specific controls</li> <li>Action-based restrictions</li> </ul>"},{"location":"plugins/crossplane/overview/#integration","title":"Integration","text":"<ul> <li>MCP Actions:</li> <li>Programmatic resource access</li> <li>Event retrieval</li> <li>Graph generation</li> <li>Status monitoring</li> </ul>"},{"location":"plugins/crossplane/overview/#screenshots","title":"Screenshots","text":""},{"location":"plugins/crossplane/overview/#resource-graph-view","title":"Resource Graph View","text":""},{"location":"plugins/crossplane/overview/#resource-table-view","title":"Resource Table View","text":""},{"location":"plugins/crossplane/overview/#overview-information","title":"Overview Information","text":""},{"location":"plugins/crossplane/overview/#available-permissions","title":"Available Permissions","text":"<p>The plugin suite provides granular permission controls for:</p> <ul> <li>Crossplane Claims (list, view YAML, show events)</li> <li>Composite Resources (list, view YAML, show events)</li> <li>Managed Resources (list, view YAML, show events)</li> <li>Additional Resources like XRD, Composition, Function (list, view YAML, show events)</li> <li>Resource Graph visualization</li> </ul>"},{"location":"plugins/crossplane/overview/#mcp-actions-integration","title":"MCP Actions Integration","text":"<p>The Crossplane plugin provides MCP (Model Control Protocol) actions for interacting with Crossplane resources. To enable these actions:</p> <ol> <li> <p>First, ensure you have the MCP actions backend plugin installed and configured. See the MCP Actions Backend Plugin documentation for setup instructions.</p> </li> <li> <p>Add the plugin to your actions configuration in <code>app-config.yaml</code>:</p> </li> </ol> <pre><code>backend:\n  actions:\n    pluginSources:\n      - 'catalog'\n      - 'crossplane'\n      # ... other action sources\n</code></pre>"},{"location":"plugins/crossplane/overview/#available-mcp-actions","title":"Available MCP Actions","text":"<p>The plugin provides the following MCP actions:</p> <ul> <li><code>get_crossplane_resources</code>: Get Crossplane resources and their dependencies</li> <li>Input: Cluster name, resource details (group, version, plural, etc.)</li> <li> <p>Output: List of resources with their relationships and status</p> </li> <li> <p><code>get_crossplane_events</code>: Get events for a specific Crossplane resource</p> </li> <li>Input: Cluster name, resource details (name, namespace, kind)</li> <li> <p>Output: List of events with timestamps and details</p> </li> <li> <p><code>get_crossplane_resource_graph</code>: Get resource graph (v1.x API)</p> </li> <li>Input: Cluster name, XRD and claim details</li> <li> <p>Output: Resource graph data showing relationships</p> </li> <li> <p><code>get_crossplane_v2_resource_graph</code>: Get resource graph (v2.x API)</p> </li> <li>Input: Cluster name, resource details</li> <li>Output: Resource graph data for v2 resources</li> </ul>"},{"location":"plugins/crossplane/overview/#getting-started","title":"Getting Started","text":"<p>To get started with the Crossplane plugins, you'll need to:</p> <ol> <li>Install and configure the Kubernetes Ingestor plugin</li> <li>Install and configure the backend plugin</li> <li>Install the frontend components</li> <li>Configure MCP actions in your app-config.yaml</li> <li>Configure permissions (optional but recommended)</li> <li>Configure the plugins according to your needs</li> </ol> <p>For detailed installation and configuration instructions, refer to the individual plugin documentation:</p> <ul> <li>Kubernetes Ingestor Plugin Installation</li> <li>Kubernetes Ingestor Plugin Configuration</li> <li>Frontend Plugin Installation</li> <li>Frontend Plugin Configuration</li> <li>Backend Plugin Installation</li> <li>Backend Plugin Configuration</li> </ul>"},{"location":"plugins/crossplane/backend/about/","title":"Crossplane Resources Backend Plugin","text":""},{"location":"plugins/crossplane/backend/about/#overview","title":"Overview","text":"<p>The Crossplane Resources backend plugin provides comprehensive functionality for managing Crossplane resources within your Backstage instance. It handles API integration, resource operations, permission management, and MCP actions support, with full compatibility for both Crossplane v1.x and v2.x APIs.</p>"},{"location":"plugins/crossplane/backend/about/#features","title":"Features","text":""},{"location":"plugins/crossplane/backend/about/#resource-management","title":"Resource Management","text":"<ul> <li>Comprehensive resource data retrieval</li> <li>Support for different resource types:</li> <li>Claims and Composite Resources (XRs)</li> <li>Managed Resources (MRs)</li> <li>Additional Resources (XRD, Composition, Function)</li> <li>Full v1.x and v2.x API support</li> </ul>"},{"location":"plugins/crossplane/backend/about/#api-integration","title":"API Integration","text":"<ul> <li>Direct Kubernetes API communication</li> <li>Resource data retrieval and processing</li> <li>Event monitoring and streaming</li> <li>Resource graph generation</li> <li>Support for both API versions</li> </ul>"},{"location":"plugins/crossplane/backend/about/#permission-management","title":"Permission Management","text":"<ul> <li>Fine-grained access control</li> <li>Resource-level permissions</li> <li>Action-based permissions</li> <li>Integration with Backstage's framework</li> </ul>"},{"location":"plugins/crossplane/backend/about/#mcp-actions","title":"MCP Actions","text":"<ul> <li>Resource data retrieval actions</li> <li>Event monitoring actions</li> <li>Resource graph generation</li> <li>Support for both API versions</li> </ul>"},{"location":"plugins/crossplane/backend/about/#technical-architecture","title":"Technical Architecture","text":""},{"location":"plugins/crossplane/backend/about/#integration-points","title":"Integration Points","text":"<ul> <li>Backstage Permission Framework</li> <li>Crossplane Resources Frontend Plugin</li> </ul>"},{"location":"plugins/crossplane/backend/about/#permission-model","title":"Permission Model","text":"<p>The plugin implements a comprehensive permission model covering:</p> <ol> <li> <p>Resource Types</p> <ul> <li>Claims</li> <li>Composite Resources</li> <li>Managed Resources</li> <li>Additional Resources</li> </ul> </li> <li> <p>Action Types</p> <ul> <li>List resources</li> <li>View YAML configurations</li> <li>Show resource events</li> <li>View resource graphs</li> </ul> </li> <li> <p>Permission Scopes</p> <ul> <li>Global permissions</li> <li>Resource-specific permissions</li> <li>Action-specific permissions</li> </ul> </li> </ol>"},{"location":"plugins/crossplane/backend/about/#security-considerations","title":"Security Considerations","text":"<ul> <li>Secure permission validation</li> <li>Token-based authentication</li> <li>Role-based access control</li> <li>Audit logging capabilities</li> </ul>"},{"location":"plugins/crossplane/backend/about/#integration-benefits","title":"Integration Benefits","text":"<ol> <li> <p>Enhanced Security</p> <ul> <li>Granular access control</li> <li>Consistent permission enforcement</li> <li>Audit trail capabilities</li> </ul> </li> <li> <p>Improved Compliance</p> <ul> <li>Policy-based access control</li> <li>Resource usage tracking</li> <li>Access pattern monitoring</li> </ul> </li> <li> <p>Better User Experience</p> <ul> <li>Seamless integration with frontend</li> <li>Consistent permission behavior</li> <li>Clear access control feedback</li> </ul> </li> </ol>"},{"location":"plugins/crossplane/backend/about/#use-cases","title":"Use Cases","text":""},{"location":"plugins/crossplane/backend/about/#resource-access-control","title":"Resource Access Control","text":"<ul> <li>Control who can view different resource types</li> <li>Manage access to sensitive configurations</li> <li>Restrict event viewing capabilities</li> </ul>"},{"location":"plugins/crossplane/backend/about/#compliance-management","title":"Compliance Management","text":"<ul> <li>Enforce organizational policies</li> <li>Track resource access patterns</li> <li>Maintain audit trails</li> </ul>"},{"location":"plugins/crossplane/backend/about/#team-collaboration","title":"Team Collaboration","text":"<ul> <li>Define team-specific access levels</li> <li>Share resources securely</li> <li>Manage cross-team permissions</li> </ul>"},{"location":"plugins/crossplane/backend/configure/","title":"Configuring the Crossplane Resources Backend Plugin","text":"<p>The Crossplane Resources backend plugin integrates with Backstage's permission framework to provide access control for Crossplane resources.</p>"},{"location":"plugins/crossplane/backend/configure/#available-permissions","title":"Available Permissions","text":"<p>The plugin provides the following permissions for managing Crossplane resources:</p>"},{"location":"plugins/crossplane/backend/configure/#claims","title":"Claims","text":"<ul> <li><code>crossplane.claims.list</code>: List Crossplane Claims</li> <li><code>crossplane.claims.view-yaml</code>: View YAML of Crossplane Claims</li> <li><code>crossplane.claims.show-events</code>: View Events of Crossplane Claims</li> </ul>"},{"location":"plugins/crossplane/backend/configure/#composite-resources","title":"Composite Resources","text":"<ul> <li><code>crossplane.composite-resources.list</code>: List Crossplane Composite Resources</li> <li><code>crossplane.composite-resources.view-yaml</code>: View YAML of Crossplane Composite Resources</li> <li><code>crossplane.composite-resources.show-events</code>: View Events of Crossplane Composite Resources</li> </ul>"},{"location":"plugins/crossplane/backend/configure/#managed-resources","title":"Managed Resources","text":"<ul> <li><code>crossplane.managed-resources.list</code>: List Crossplane Managed Resources</li> <li><code>crossplane.managed-resources.view-yaml</code>: View YAML of Crossplane Managed Resources</li> <li><code>crossplane.managed-resources.show-events</code>: View Events of Crossplane Managed Resources</li> </ul>"},{"location":"plugins/crossplane/backend/configure/#additional-resources","title":"Additional Resources","text":"<ul> <li><code>crossplane.additional-resources.list</code>: List Crossplane Additional Resources (XRD, Composition, Function)</li> <li><code>crossplane.additional-resources.view-yaml</code>: View YAML of Crossplane Additional Resources</li> <li><code>crossplane.additional-resources.show-events</code>: View Events of Crossplane Additional Resources</li> </ul>"},{"location":"plugins/crossplane/backend/configure/#resource-graph","title":"Resource Graph","text":"<ul> <li><code>crossplane.resource-graph.show</code>: View Resource Graph of Crossplane Resources</li> </ul>"},{"location":"plugins/crossplane/backend/configure/#basic-configuration","title":"Basic Configuration","text":"<p>The plugin uses Backstage's permission framework. To enable it, add the following to your <code>app-config.yaml</code>:</p> <pre><code>permission:\n  enabled: true # Enable Backstage permission framework\n</code></pre>"},{"location":"plugins/crossplane/backend/configure/#permission-policy-configuration","title":"Permission Policy Configuration","text":"<p>You can configure permission policies in your Backstage permission policy file. Here's an example policy that grants all Crossplane permissions to a specific role:</p> <pre><code>// packages/backend/src/plugins/permission.ts\nimport { CrossplanePermission } from '@terasky/backstage-plugin-crossplane-common';\n\nclass CrossplanePermissionPolicy implements PermissionPolicy {\n  async handle(\n    request: PolicyQuery,\n    user?: BackstageIdentityResponse,\n  ): Promise&lt;PolicyDecision&gt; {\n    if (isPermission(request.permission, CrossplanePermission)) {\n      // Implement your permission logic here\n      return { result: AuthorizeResult.ALLOW };\n    }\n\n    return { result: AuthorizeResult.DENY };\n  }\n}\n</code></pre>"},{"location":"plugins/crossplane/backend/configure/#using-the-community-rbac-plugin","title":"Using the Community RBAC Plugin","text":"<p>You can also use the RBAC plugins from the backstage community and create roles via the UI or via a CSV file.</p>"},{"location":"plugins/crossplane/backend/configure/#example-via-csv-and-config","title":"Example via CSV and config","text":"<p>app-config.yaml snippet <pre><code>permission:\n  enabled: true\n  rbac:\n    policies-csv-file: /path/to/permissions.csv\n    policyFileReload: true\n    pluginsWithPermission:\n      - kubernetes\n      - crossplane\n</code></pre></p> <p>CSV file snippet <pre><code>p, role:default/platformteam, kubernetes.proxy, use, allow\np, role:default/platformteam, kubernetes.resources.read, read, allow\np, role:default/platformteam, kubernetes.clusters.read, read, allow\np, role:default/platformteam, crossplane.claims.list, read, allow\np, role:default/platformteam, crossplane.claims.view-yaml, read, allow\np, role:default/platformteam, crossplane.claims.show-events, read, allow\np, role:default/platformteam, crossplane.composite-resources.list, read, allow\np, role:default/platformteam, crossplane.composite-resources.view-yaml, read, allow\np, role:default/platformteam, crossplane.composite-resources.show-events, read, allow\np, role:default/platformteam, crossplane.managed-resources.list, read, allow\np, role:default/platformteam, crossplane.managed-resources.view-yaml, read, allow\np, role:default/platformteam, crossplane.managed-resources.show-events, read, allow\np, role:default/platformteam, crossplane.resource-graph.show, read, allow\np, role:default/platformteam, crossplane.overview.view, read, allow\np, role:default/platformteam, crossplane.additional-resources.list, read, allow\np, role:default/platformteam, crossplane.additional-resources.view-yaml, read, allow\np, role:default/platformteam, crossplane.additional-resources.show-events, read, allow\ng, group:default/all_users, role:default/platformteam\n</code></pre></p>"},{"location":"plugins/crossplane/backend/configure/#best-practices","title":"Best Practices","text":""},{"location":"plugins/crossplane/backend/configure/#security","title":"Security","text":"<ol> <li> <p>Permission Policies</p> <ul> <li>Follow the principle of least privilege</li> <li>Regularly review and update policies</li> <li>Use specific permissions over wildcards</li> </ul> </li> <li> <p>Authentication</p> <ul> <li>Use secure authentication methods</li> <li>Implement token rotation</li> <li>Enable audit logging</li> </ul> </li> </ol>"},{"location":"plugins/crossplane/backend/configure/#monitoring","title":"Monitoring","text":"<ol> <li> <p>Logging</p> <ul> <li>Configure appropriate log levels</li> <li>Implement log rotation</li> <li>Set up log aggregation</li> </ul> </li> <li> <p>Metrics</p> <ul> <li>Monitor permission checks</li> <li>Track API usage</li> <li>Set up alerts for anomalies</li> </ul> </li> </ol>"},{"location":"plugins/crossplane/backend/configure/#troubleshooting","title":"Troubleshooting","text":""},{"location":"plugins/crossplane/backend/configure/#common-issues","title":"Common Issues","text":"<ol> <li> <p>Permission Denied</p> <ul> <li>Check policy configuration</li> <li>Verify user roles</li> <li>Review permission logs</li> </ul> </li> <li> <p>Integration Problems</p> <ul> <li>Verify service connections</li> <li>Check authentication configuration</li> <li>Review Kubernetes plugin configurations</li> </ul> </li> </ol>"},{"location":"plugins/crossplane/backend/install/","title":"Installing the Crossplane Resources Backend Plugin","text":"<p>This guide will help you install and set up the Crossplane Resources backend plugin in your Backstage instance.</p>"},{"location":"plugins/crossplane/backend/install/#prerequisites","title":"Prerequisites","text":"<p>Before installing the backend plugin, ensure you have:</p> <ol> <li>A working Backstage instance</li> <li>Node.js and npm/yarn installed</li> <li>Access to your Backstage backend configuration</li> <li>The Crossplane Common library (<code>@terasky/backstage-plugin-crossplane-common</code>) installed</li> </ol>"},{"location":"plugins/crossplane/backend/install/#installation-steps","title":"Installation Steps","text":""},{"location":"plugins/crossplane/backend/install/#1-add-required-packages","title":"1. Add Required Packages","text":"<p>Install the required package using your package manager:</p> <pre><code>yarn --cwd packages/backend add @terasky/backstage-plugin-crossplane-resources-backend\n</code></pre>"},{"location":"plugins/crossplane/backend/install/#2-add-to-backend","title":"2. Add to Backend","text":"<p>Modify your backend entry point (typically <code>packages/backend/src/index.ts</code>):</p> <pre><code>// In your backend initialization\nbackend.add(import('@terasky/backstage-plugin-crossplane-resources-backend'));\n</code></pre>"},{"location":"plugins/crossplane/backend/install/#3-configure-the-plugin","title":"3. Configure the plugin","text":"<p>Add the following to your <code>app-config.yaml</code>:</p> <pre><code>permission:\n  enabled: true # Enable Backstage permission framework\n\ncrossplane:\n  enablePermissions: true # Enable Crossplane permission checks\n</code></pre>"},{"location":"plugins/crossplane/backend/install/#verification","title":"Verification","text":"<p>After installation, verify that:</p> <ol> <li>The plugin appears in your package.json dependencies</li> <li>The backend starts without errors</li> <li>Permission endpoints are accessible</li> <li>Integration with the frontend plugin works correctly</li> </ol>"},{"location":"plugins/crossplane/backend/install/#testing-the-installation","title":"Testing the Installation","text":"<ol> <li> <p>Check Backend Health <pre><code>curl http://localhost:7007/api/crossplane/health\n</code></pre></p> </li> <li> <p>Test Frontend Integration</p> <ul> <li>Open a Crossplane resource in the frontend</li> <li>Verify permission checks are working</li> <li>Check access control behavior</li> </ul> </li> </ol>"},{"location":"plugins/crossplane/backend/install/#troubleshooting","title":"Troubleshooting","text":"<p>Common issues and solutions:</p>"},{"location":"plugins/crossplane/backend/install/#1-backend-startup-issues","title":"1. Backend Startup Issues","text":"<pre><code># Check backend logs\nyarn workspace backend start --verbose\n</code></pre>"},{"location":"plugins/crossplane/backend/install/#2-permission-framework-issues","title":"2. Permission Framework Issues","text":"<ul> <li>Verify permission framework is enabled</li> <li>Check permission policy configuration</li> <li>Review backend plugin configuration</li> </ul>"},{"location":"plugins/crossplane/backend/install/#3-integration-problems","title":"3. Integration Problems","text":"<ul> <li>Ensure frontend and backend versions match</li> <li>Check network connectivity</li> <li>Verify API endpoint configuration</li> </ul>"},{"location":"plugins/crossplane/backend/install/#next-steps","title":"Next Steps","text":"<p>After successful installation:</p> <ol> <li>Configure permission policies</li> <li>Set up role-based access control</li> <li>Test with different user roles</li> <li>Monitor permission enforcement</li> </ol> <p>Proceed to the Configuration Guide for detailed setup instructions.</p>"},{"location":"plugins/crossplane/frontend/about/","title":"Crossplane Resources Frontend Plugin","text":""},{"location":"plugins/crossplane/frontend/about/#overview","title":"Overview","text":"<p>The Crossplane Resources frontend plugin enhances your Backstage instance with comprehensive visualization and management capabilities for Crossplane resources. It provides an intuitive interface for viewing and managing Crossplane claims, composite resources (XRs), and managed resources.</p>"},{"location":"plugins/crossplane/frontend/about/#features","title":"Features","text":""},{"location":"plugins/crossplane/frontend/about/#resource-overview-card","title":"Resource Overview Card","text":"<ul> <li>Quick status overview of Crossplane resources</li> <li>Essential metadata display</li> <li>Direct links to detailed views</li> </ul>"},{"location":"plugins/crossplane/frontend/about/#resource-table-view","title":"Resource Table View","text":"<ul> <li>Comprehensive list of all related Crossplane resources</li> <li>Filtering and sorting capabilities</li> <li>Quick access to YAML and events for each resource</li> <li>Copy to clipboard and download YAML functionality</li> </ul>"},{"location":"plugins/crossplane/frontend/about/#resource-graph-view","title":"Resource Graph View","text":"<ul> <li>Visual representation of resource relationships</li> <li>Interactive graph navigation</li> <li>Support for both v1 (claims) and v2 (XR) resources</li> <li>Detailed resource information on node selection</li> </ul>"},{"location":"plugins/crossplane/frontend/about/#event-monitoring","title":"Event Monitoring","text":"<ul> <li>Real-time event tracking for resources</li> <li>Chronological event history</li> <li>Event filtering and sorting</li> </ul>"},{"location":"plugins/crossplane/frontend/about/#permission-integration","title":"Permission Integration","text":"<ul> <li>Seamless integration with Backstage's permission framework</li> <li>Granular access control for different features</li> <li>Conditional rendering based on user permissions</li> </ul>"},{"location":"plugins/crossplane/frontend/about/#components","title":"Components","text":"<p>The plugin provides several key components:</p> <ul> <li><code>CrossplaneResourcesTableSelector</code>: Main resource listing component</li> <li><code>CrossplaneOverviewCardSelector</code>: Summary card for quick insights</li> <li><code>CrossplaneResourceGraphSelector</code>: Interactive resource relationship graph</li> <li> <p>Permission-aware wrapper components:</p> <ul> <li><code>IfCrossplaneOverviewAvailable</code></li> <li><code>IfCrossplaneResourceGraphAvailable</code></li> <li><code>IfCrossplaneResourcesListAvailable</code></li> </ul> </li> </ul>"},{"location":"plugins/crossplane/frontend/about/#technical-details","title":"Technical Details","text":""},{"location":"plugins/crossplane/frontend/about/#dependencies","title":"Dependencies","text":"<ul> <li>Requires the Kubernetes Ingestor plugin for resource discovery</li> <li>Integration with the Crossplane Resources backend plugin</li> <li>Compatible with Backstage's latest permission framework</li> </ul>"},{"location":"plugins/crossplane/frontend/about/#data-flow","title":"Data Flow","text":"<ol> <li>Resources are discovered via the Kubernetes Ingestor</li> <li>Resource data is fetched through backend API endpoints</li> <li>Permission checks are performed (if enabled)</li> <li>UI components render based on available data and permissions</li> </ol>"},{"location":"plugins/crossplane/frontend/about/#api-integration","title":"API Integration","text":"<ul> <li>RESTful API endpoints for resource data</li> <li>Event streaming for real-time updates</li> <li>Kubernetes API proxy support</li> </ul>"},{"location":"plugins/crossplane/frontend/about/#performance-considerations","title":"Performance Considerations","text":"<ul> <li>Efficient resource graph rendering</li> <li>Optimized YAML handling</li> <li>Responsive UI design for large resource sets</li> <li>Caching and data optimization</li> <li>Lazy loading for large resource sets</li> </ul>"},{"location":"plugins/crossplane/frontend/about/#version-support","title":"Version Support","text":"<ul> <li>Full support for Crossplane v1.x APIs</li> <li>Complete support for Crossplane v2.x APIs</li> <li>Backward compatibility maintained</li> <li>Version-specific features and optimizations</li> </ul>"},{"location":"plugins/crossplane/frontend/configure/","title":"Configuring the Crossplane Resources Frontend Plugin","text":"<p>This guide covers the configuration options and best practices for the Crossplane Resources frontend plugin.</p>"},{"location":"plugins/crossplane/frontend/configure/#new-frontend-system-configuration-alpha","title":"New Frontend System Configuration (Alpha)","text":"<p>When using the new frontend system through the <code>/alpha</code> export, the plugin is configured automatically with sensible defaults. The configuration in <code>app-config.yaml</code> is still respected:</p> <pre><code>crossplane:\n  enablePermissions: false # Whether to enable permission checks for the crossplane plugin\n</code></pre> <p>The plugin will be automatically integrated into the appropriate entity pages without requiring manual route configuration.</p>"},{"location":"plugins/crossplane/frontend/configure/#configuration-options","title":"Configuration Options","text":""},{"location":"plugins/crossplane/frontend/configure/#basic-configuration","title":"Basic Configuration","text":"<p>Add the following to your <code>app-config.yaml</code>:</p> <pre><code>crossplane:\n  enablePermissions: false # Whether to enable permission checks for the crossplane plugin\n</code></pre>"},{"location":"plugins/crossplane/frontend/configure/#permission-framework-integration","title":"Permission Framework Integration","text":"<p>When <code>enablePermissions</code> is set to <code>true</code>, the plugin integrates with Backstage's permission framework. The following permissions are available:</p>"},{"location":"plugins/crossplane/frontend/configure/#resource-access-permissions","title":"Resource Access Permissions","text":"<ul> <li><code>crossplane.claims.list</code></li> <li><code>crossplane.claims.view-yaml</code></li> <li><code>crossplane.claims.show-events</code></li> <li><code>crossplane.composite-resources.list</code></li> <li><code>crossplane.composite-resources.view-yaml</code></li> <li><code>crossplane.composite-resources.show-events</code></li> <li><code>crossplane.managed-resources.list</code></li> <li><code>crossplane.managed-resources.view-yaml</code></li> <li><code>crossplane.managed-resources.show-events</code></li> </ul>"},{"location":"plugins/crossplane/frontend/configure/#additional-resource-permissions","title":"Additional Resource Permissions","text":"<ul> <li><code>crossplane.additional-resources.list</code></li> <li><code>crossplane.additional-resources.view-yaml</code></li> <li><code>crossplane.additional-resources.show-events</code></li> <li><code>crossplane.resource-graph.show</code></li> </ul>"},{"location":"plugins/crossplane/frontend/configure/#permission-aware-components","title":"Permission-Aware Components","text":"<p>The plugin provides several permission-aware components that automatically handle access control:</p> <pre><code>// Permission Hooks\nuseResourcesListAvailable()\nuseResourceGraphAvailable()\n\n// Wrapper Components\n&lt;IfCrossplaneOverviewAvailable&gt;\n&lt;IfCrossplaneResourceGraphAvailable&gt;\n&lt;IfCrossplaneResourcesListAvailable&gt;\n</code></pre>"},{"location":"plugins/crossplane/frontend/configure/#ui-customization","title":"UI Customization","text":""},{"location":"plugins/crossplane/frontend/configure/#component-placement","title":"Component Placement","text":"<p>You can customize where and how the Crossplane components appear in your Backstage instance:</p> <ol> <li>Overview Card: Can be placed anywhere in the entity overview page</li> <li>Resource Table: Typically placed in a dedicated tab</li> <li>Resource Graph: Usually in its own tab for better visibility</li> </ol> <p>Example custom placement:</p> <pre><code>// Custom overview layout\nconst customOverviewContent = (\n  &lt;Grid container spacing={3}&gt;\n    &lt;Grid item xs={12} md={6}&gt;\n      &lt;IfCrossplaneOverviewAvailable&gt;\n        &lt;CrossplaneOverviewCardSelector /&gt;\n      &lt;/IfCrossplaneOverviewAvailable&gt;\n    &lt;/Grid&gt;\n    {/* Add other cards/components */}\n  &lt;/Grid&gt;\n);\n\n// Custom tab arrangement\n&lt;EntityLayout&gt;\n  &lt;EntityLayout.Route \n    path=\"/resources\" \n    title=\"All Resources\"\n    if={isResourcesListAvailable}\n  &gt;\n    &lt;Grid container spacing={3}&gt;\n      &lt;Grid item xs={12}&gt;\n        &lt;IfCrossplaneResourcesListAvailable&gt;\n          &lt;CrossplaneResourcesTableSelector /&gt;\n        &lt;/IfCrossplaneResourcesListAvailable&gt;\n      &lt;/Grid&gt;\n      &lt;Grid item xs={12}&gt;\n        &lt;IfCrossplaneResourceGraphAvailable&gt;\n          &lt;CrossplaneResourceGraphSelector /&gt;\n        &lt;/IfCrossplaneResourceGraphAvailable&gt;\n      &lt;/Grid&gt;\n    &lt;/Grid&gt;\n  &lt;/EntityLayout.Route&gt;\n&lt;/EntityLayout&gt;\n</code></pre>"},{"location":"plugins/crossplane/frontend/configure/#integration-with-other-plugins","title":"Integration with Other Plugins","text":""},{"location":"plugins/crossplane/frontend/configure/#kubernetes-ingestor-integration","title":"Kubernetes Ingestor Integration","text":"<p>The plugin relies on annotations from the Kubernetes Ingestor. Ensure proper configuration:</p> <ol> <li>The Kubernetes Ingestor must be configured to watch Crossplane resources</li> <li>Annotations must be properly set on your Crossplane resources</li> <li>The correct entity types must be defined in your catalog</li> </ol>"},{"location":"plugins/crossplane/frontend/configure/#permission-backend-integration","title":"Permission Backend Integration","text":"<p>When using the permission framework:</p> <ol> <li>Install and configure the Crossplane Permissions backend plugin</li> <li>Enable permissions in the frontend configuration</li> <li>Configure the permission policies in your backend</li> </ol>"},{"location":"plugins/crossplane/frontend/configure/#best-practices","title":"Best Practices","text":"<ol> <li> <p>Permission Management</p> <ul> <li>Start with permissions disabled during initial setup</li> <li>Enable permissions once basic functionality is verified</li> <li>Configure granular permissions based on user roles</li> </ul> </li> <li> <p>Performance Optimization</p> <ul> <li>Place resource-intensive components (like graphs) in separate tabs</li> <li>Use permission checks to conditionally render components</li> <li>Consider pagination for large resource sets</li> </ul> </li> <li> <p>Error Handling</p> <ul> <li>Implement proper error boundaries around components</li> <li>Provide meaningful error messages to users</li> <li>Handle permission denied scenarios gracefully</li> </ul> </li> <li> <p>UI/UX Considerations</p> <ul> <li>Group related resources logically</li> <li>Provide clear navigation between different views</li> <li>Include helpful tooltips and documentation links</li> </ul> </li> </ol>"},{"location":"plugins/crossplane/frontend/install/","title":"Installing the Crossplane Resources Frontend Plugin","text":"<p>This guide will help you install and set up the Crossplane Resources frontend plugin in your Backstage instance.</p>"},{"location":"plugins/crossplane/frontend/install/#prerequisites","title":"Prerequisites","text":"<p>Before installing the frontend plugin, ensure you have:</p> <ol> <li>A working Backstage instance</li> <li>The Kubernetes Ingestor plugin installed and configured</li> <li>The Crossplane Resources backend plugin (<code>@terasky/backstage-plugin-crossplane-resources-backend</code>) installed</li> </ol>"},{"location":"plugins/crossplane/frontend/install/#installation-steps","title":"Installation Steps","text":""},{"location":"plugins/crossplane/frontend/install/#1-add-the-package","title":"1. Add the Package","text":"<p>Install the frontend plugin package using your package manager:</p> <pre><code>yarn --cwd packages/app add @terasky/backstage-plugin-crossplane-resources-frontend\n</code></pre>"},{"location":"plugins/crossplane/frontend/install/#2-import-components","title":"2. Import Components","text":"<p>Add the necessary imports to your Entity Page file (typically <code>packages/app/src/components/catalog/EntityPage.tsx</code>):</p> <pre><code>import {\n  CrossplaneResourcesTableSelector,\n  CrossplaneOverviewCardSelector,\n  CrossplaneResourceGraphSelector,\n  useResourceGraphAvailable,\n  useResourcesListAvailable,\n  IfCrossplaneOverviewAvailable,\n  IfCrossplaneResourceGraphAvailable,\n  IfCrossplaneResourcesListAvailable,\n} from '@terasky/backstage-plugin-crossplane-resources-frontend';\n</code></pre>"},{"location":"plugins/crossplane/frontend/install/#3-configure-the-entity-page","title":"3. Configure the Entity Page","text":"<p>Add the Crossplane components to your Entity Page:</p> <pre><code>const crossplaneOverviewContent = (\n  &lt;Grid container spacing={3} alignItems=\"stretch\"&gt;\n    &lt;Grid item md={6}&gt;\n      &lt;EntityAboutCard variant=\"gridItem\" /&gt;\n    &lt;/Grid&gt;\n    &lt;IfCrossplaneOverviewAvailable&gt;\n      &lt;Grid item md={6}&gt;\n        &lt;CrossplaneOverviewCardSelector /&gt;\n      &lt;/Grid&gt;\n    &lt;/IfCrossplaneOverviewAvailable&gt;\n    &lt;Grid item md={4} xs={12}&gt;\n      &lt;EntityLinksCard /&gt;\n    &lt;/Grid&gt;\n  &lt;/Grid&gt;\n);\n\n// Create the Crossplane entity page component with permission checks\nconst CrossplaneEntityPage = () =&gt; {\n  const isResourcesListAvailable = useResourcesListAvailable();\n  const isResourceGraphAvailable = useResourceGraphAvailable();\n\n  return (\n    &lt;EntityLayout&gt;\n      &lt;EntityLayout.Route path=\"/\" title=\"Overview\"&gt;\n        {crossplaneOverviewContent}\n      &lt;/EntityLayout.Route&gt;\n\n      &lt;EntityLayout.Route if={isResourcesListAvailable} path=\"/crossplane-resources\" title=\"Crossplane Resources\"&gt;\n        &lt;IfCrossplaneResourcesListAvailable&gt;\n          &lt;CrossplaneResourcesTableSelector /&gt;\n        &lt;/IfCrossplaneResourcesListAvailable&gt;\n      &lt;/EntityLayout.Route&gt;\n\n      &lt;EntityLayout.Route if={isResourceGraphAvailable} path=\"/crossplane-graph\" title=\"Crossplane Graph\"&gt;\n        &lt;IfCrossplaneResourceGraphAvailable&gt;\n          &lt;CrossplaneResourceGraphSelector /&gt;\n        &lt;/IfCrossplaneResourceGraphAvailable&gt;\n      &lt;/EntityLayout.Route&gt;\n    &lt;/EntityLayout&gt;\n  );\n};\n</code></pre>"},{"location":"plugins/crossplane/frontend/install/#4-add-to-entity-switch","title":"4. Add to Entity Switch","text":"<p>Include the Crossplane entity page in your entity switch:</p> <pre><code>const componentPage = (\n  &lt;EntitySwitch&gt;\n    {/* ... other cases ... */}\n    &lt;EntitySwitch.Case if={isComponentType('crossplane-claim')}&gt;\n      &lt;CrossplaneEntityPage /&gt;\n    &lt;/EntitySwitch.Case&gt;\n    &lt;EntitySwitch.Case if={isComponentType('crossplane-xr')}&gt;\n      &lt;CrossplaneEntityPage /&gt;\n    &lt;/EntitySwitch.Case&gt;\n  &lt;/EntitySwitch&gt;\n);\n</code></pre>"},{"location":"plugins/crossplane/frontend/install/#5-register-api","title":"5. Register API","text":"<p>In the packages/app/src/apis.ts file  <pre><code>import {\n  CrossplaneApiClient,\n  crossplaneApiRef,\n} from '@terasky/backstage-plugin-crossplane-resources-frontend';\nimport { \n  createApiFactory, \n  discoveryApiRef, \n  fetchApiRef \n} from '@backstage/core-plugin-api';\n\nexport const apis: AnyApiFactory[] = [\n  // ... existing factories ...\n  createApiFactory({\n    api: crossplaneApiRef,\n    deps: { discoveryApi: discoveryApiRef, fetchApi: fetchApiRef },\n    factory: ({ discoveryApi, fetchApi }) =&gt;\n      new CrossplaneApiClient(discoveryApi, fetchApi),\n  }),\n];\n</code></pre></p>"},{"location":"plugins/crossplane/frontend/install/#new-frontend-system-support-alpha","title":"New Frontend System Support (Alpha)","text":"<p>The plugin now supports the new frontend system available in the <code>/alpha</code> export. To use this:</p> <pre><code>import { createApp } from '@backstage/frontend-defaults';\nimport { crossplaneResourcesPlugin } from '@terasky/backstage-plugin-crossplane-resources-frontend/alpha';\n\nexport default createApp({\n  features: [\n    ...\n    crossplaneResourcesPlugin,\n    ...\n  ],\n});\n</code></pre> <p>This replaces the need for manual route configuration in <code>EntityPage.tsx</code> and other files. The plugin will be automatically integrated into the appropriate entity pages.</p>"},{"location":"plugins/crossplane/frontend/install/#verification","title":"Verification","text":"<p>After installation, verify that:</p> <ol> <li>The plugin appears in your package.json dependencies</li> <li>The components are properly imported in your Entity Page</li> <li>The Crossplane tabs appear for appropriate entity types</li> <li>The permission checks are working as expected</li> </ol>"},{"location":"plugins/crossplane/frontend/install/#troubleshooting","title":"Troubleshooting","text":"<p>Common issues and solutions:</p> <ol> <li>Missing Tabs: Ensure the entity has the correct component type</li> <li>Permission Issues: Verify the permissions backend is properly configured</li> <li>Resource Loading: Check the Kubernetes Ingestor configuration</li> </ol>"},{"location":"plugins/devpod/overview/","title":"DevPod Plugin","text":"<p>The DevPod plugin for Backstage provides seamless integration with DevPod workspaces, enabling developers to quickly launch their preferred development environments directly from the Backstage UI.</p>"},{"location":"plugins/devpod/overview/#plugin-components","title":"Plugin Components","text":""},{"location":"plugins/devpod/overview/#frontend-plugin","title":"Frontend Plugin","text":"<p>The frontend plugin adds a convenient \"Open in DevPod\" button to component overview pages, allowing users to:</p> <ul> <li>Launch DevPod workspaces with a single click</li> <li>Choose from multiple supported IDEs</li> <li>View equivalent CLI commands</li> </ul> <p>Learn more about the frontend plugin</p>"},{"location":"plugins/devpod/overview/#documentation-structure","title":"Documentation Structure","text":"<ul> <li>About</li> <li>Installation</li> <li>Configuration</li> </ul>"},{"location":"plugins/devpod/overview/#screenshots","title":"Screenshots","text":""},{"location":"plugins/devpod/overview/#devpod-integration","title":"DevPod Integration","text":""},{"location":"plugins/devpod/overview/#ide-selection","title":"IDE Selection","text":""},{"location":"plugins/devpod/overview/#supported-ides","title":"Supported IDEs","text":"<p>The plugin supports a wide range of popular IDEs:</p> <ul> <li>Visual Studio Code (vscode)</li> <li>Visual Studio Code Insiders (vscode-insiders)</li> <li>JetBrains Suite:<ul> <li>IntelliJ IDEA (intellij)</li> <li>PyCharm (pycharm)</li> <li>WebStorm (webstorm)</li> <li>GoLand (goland)</li> <li>CLion (clion)</li> <li>PhpStorm (phpstorm)</li> <li>Rider (rider)</li> <li>RubyMine (rubymine)</li> <li>RustRover (rustrover)</li> <li>Fleet (fleet)</li> </ul> </li> <li>Cursor (cursor)</li> <li>OpenVSCode (openvscode)</li> <li>Jupyter Notebook (jupyternotebook)</li> </ul>"},{"location":"plugins/devpod/overview/#getting-started","title":"Getting Started","text":"<p>To get started with the DevPod plugin:</p> <ol> <li>Install the plugin in your Backstage instance</li> <li>Configure your default IDE preferences (optional)</li> <li>Add the DevPod component to your entity pages</li> </ol> <p>For detailed installation and configuration instructions, refer to:</p> <ul> <li>About the plugin</li> <li>Installation Guide</li> <li>Configuration Guide</li> </ul>"},{"location":"plugins/devpod/frontend/about/","title":"DevPod Frontend Plugin","text":""},{"location":"plugins/devpod/frontend/about/#overview","title":"Overview","text":"<p>The DevPod frontend plugin provides a seamless integration between Backstage and DevPod workspaces. It enhances the component overview pages with a dedicated \"Open in DevPod\" button, enabling developers to quickly launch their preferred development environments.</p>"},{"location":"plugins/devpod/frontend/about/#features","title":"Features","text":""},{"location":"plugins/devpod/frontend/about/#devpod-integration","title":"DevPod Integration","text":"<ul> <li>One-click access to DevPod workspaces</li> <li>Seamless integration with component overview pages</li> <li>Automatic workspace configuration based on component metadata</li> </ul>"},{"location":"plugins/devpod/frontend/about/#ide-selection","title":"IDE Selection","text":"<ul> <li>Support for multiple popular IDEs</li> <li>Configurable default IDE preference</li> <li>Dynamic IDE selection at runtime</li> </ul>"},{"location":"plugins/devpod/frontend/about/#cli-command-display","title":"CLI Command Display","text":"<ul> <li>Shows equivalent CLI commands</li> <li>Enables easy copy-paste for terminal users</li> <li>Helps with automation and scripting</li> </ul>"},{"location":"plugins/devpod/frontend/about/#components","title":"Components","text":""},{"location":"plugins/devpod/frontend/about/#devpodcomponent","title":"DevpodComponent","text":"<p>The main component that renders the \"Open in DevPod\" button and handles IDE selection:</p> <ul> <li>Automatically detects component compatibility</li> <li>Manages IDE selection interface</li> <li>Handles workspace launch requests</li> </ul>"},{"location":"plugins/devpod/frontend/about/#isdevpodavailable","title":"isDevpodAvailable","text":"<p>A utility function that determines whether DevPod integration should be available for a given entity:</p> <ul> <li>Checks entity compatibility</li> <li>Validates required metadata</li> <li>Ensures proper configuration</li> </ul>"},{"location":"plugins/devpod/frontend/about/#technical-details","title":"Technical Details","text":""},{"location":"plugins/devpod/frontend/about/#supported-ides","title":"Supported IDEs","text":"<p>The plugin supports a comprehensive list of development environments:</p> <ul> <li> <p>Visual Studio Code Family</p> <ul> <li>Visual Studio Code (vscode)</li> <li>VS Code Insiders (vscode-insiders)</li> <li>OpenVSCode (openvscode)</li> </ul> </li> <li> <p>JetBrains Suite</p> <ul> <li>IntelliJ IDEA (intellij)</li> <li>PyCharm (pycharm)</li> <li>WebStorm (webstorm)</li> <li>GoLand (goland)</li> <li>CLion (clion)</li> <li>PhpStorm (phpstorm)</li> <li>Rider (rider)</li> <li>RubyMine (rubymine)</li> <li>RustRover (rustrover)</li> <li>Fleet (fleet)</li> </ul> </li> <li> <p>Other IDEs</p> <ul> <li>Cursor (cursor)</li> <li>Jupyter Notebook (jupyternotebook)</li> </ul> </li> </ul>"},{"location":"plugins/devpod/frontend/about/#integration-points","title":"Integration Points","text":"<ul> <li>Backstage Catalog</li> <li>DevPod CLI</li> <li>Local IDE installations</li> </ul>"},{"location":"plugins/devpod/frontend/about/#user-experience","title":"User Experience","text":"<ul> <li>Intuitive IDE selection interface</li> <li>Quick access to development environments</li> </ul>"},{"location":"plugins/devpod/frontend/about/#screenshots","title":"Screenshots","text":""},{"location":"plugins/devpod/frontend/about/#devpod-button-integration","title":"DevPod Button Integration","text":""},{"location":"plugins/devpod/frontend/about/#ide-selection-interface","title":"IDE Selection Interface","text":""},{"location":"plugins/devpod/frontend/configure/","title":"Configuring the DevPod Frontend Plugin","text":"<p>This guide covers the configuration options for the DevPod frontend plugin.</p>"},{"location":"plugins/devpod/frontend/configure/#new-frontend-system-configuration-alpha","title":"New Frontend System Configuration (Alpha)","text":"<p>When using the new frontend system through the <code>/alpha</code> export, the plugin is configured automatically with sensible defaults. The configuration in <code>app-config.yaml</code> is still respected:</p> <pre><code>devpod:\n  defaultIDE: vscode  # Optional: Set your organization's default IDE\n</code></pre> <p>The plugin will be automatically integrated into the appropriate entity pages without requiring manual route configuration.</p>"},{"location":"plugins/devpod/frontend/configure/#basic-configuration","title":"Basic Configuration","text":"<p>Add the following to your <code>app-config.yaml</code>:</p> <pre><code>devpod:\n  defaultIDE: vscode  # Optional: Set your organization's default IDE\n</code></pre>"},{"location":"plugins/devpod/frontend/configure/#configuration-options","title":"Configuration Options","text":""},{"location":"plugins/devpod/frontend/configure/#default-ide","title":"Default IDE","text":"<p>The <code>defaultIDE</code> setting determines which IDE is pre-selected in the DevPod launcher. If not specified, it defaults to <code>vscode</code>.</p> <p>Supported values:</p> <ul> <li><code>vscode</code> - Visual Studio Code</li> <li><code>vscode-insiders</code> - VS Code Insiders</li> <li><code>openvscode</code> - OpenVSCode</li> <li><code>intellij</code> - IntelliJ IDEA</li> <li><code>pycharm</code> - PyCharm</li> <li><code>webstorm</code> - WebStorm</li> <li><code>goland</code> - GoLand</li> <li><code>clion</code> - CLion</li> <li><code>phpstorm</code> - PhpStorm</li> <li><code>rider</code> - Rider</li> <li><code>rubymine</code> - RubyMine</li> <li><code>rustrover</code> - RustRover</li> <li><code>fleet</code> - JetBrains Fleet</li> <li><code>cursor</code> - Cursor</li> <li><code>jupyternotebook</code> - Jupyter Notebook</li> </ul>"},{"location":"plugins/devpod/frontend/configure/#component-customization","title":"Component Customization","text":""},{"location":"plugins/devpod/frontend/configure/#grid-placement","title":"Grid Placement","text":"<p>You can customize where the DevPod component appears in your entity overview page by adjusting its grid placement:</p> <pre><code>&lt;Grid item md={6} xs={12}&gt;  // Adjust size as needed\n  &lt;DevpodComponent /&gt;\n&lt;/Grid&gt;\n</code></pre>"},{"location":"plugins/devpod/frontend/configure/#conditional-rendering","title":"Conditional Rendering","text":"<p>The <code>isDevpodAvailable</code> condition can be combined with other checks:</p> <pre><code>&lt;EntitySwitch&gt;\n  &lt;EntitySwitch.Case if={e =&gt; isDevpodAvailable(e) &amp;&amp; isGitRepository(e)}&gt;\n    &lt;Grid item md={6}&gt;\n      &lt;DevpodComponent /&gt;\n    &lt;/Grid&gt;\n  &lt;/EntitySwitch.Case&gt;\n&lt;/EntitySwitch&gt;\n</code></pre>"},{"location":"plugins/devpod/frontend/configure/#best-practices","title":"Best Practices","text":"<ol> <li> <p>IDE Selection</p> <ul> <li>Choose a default IDE that matches your team's primary development environment</li> <li>Consider your developers' preferences and workflows</li> <li>Ensure the selected IDE is installed on development machines</li> </ul> </li> <li> <p>Component Placement</p> <ul> <li>Place the DevPod button where it's easily accessible</li> <li>Consider grouping it with other development-related tools</li> <li>Maintain consistent placement across different entity types</li> </ul> </li> <li> <p>User Experience</p> <ul> <li>Provide clear documentation about available IDEs</li> <li>Ensure DevPod is properly installed on development machines</li> <li>Consider adding links to DevPod installation guides</li> </ul> </li> </ol>"},{"location":"plugins/devpod/frontend/install/","title":"Installing the DevPod Frontend Plugin","text":"<p>This guide will help you install and set up the DevPod frontend plugin in your Backstage instance.</p>"},{"location":"plugins/devpod/frontend/install/#prerequisites","title":"Prerequisites","text":"<p>Before installing the plugin, ensure you have:</p> <ol> <li>A working Backstage instance</li> <li>DevPod installed on your development machine(s)</li> <li>Access to modify your Backstage frontend configuration</li> </ol>"},{"location":"plugins/devpod/frontend/install/#installation-steps","title":"Installation Steps","text":""},{"location":"plugins/devpod/frontend/install/#1-add-the-package","title":"1. Add the Package","text":"<p>Install the plugin package using your package manager:</p> <pre><code>yarn --cwd packages/app add @terasky/backstage-plugin-devpod\n</code></pre>"},{"location":"plugins/devpod/frontend/install/#2-import-components","title":"2. Import Components","text":"<p>Add the necessary imports to your Entity Page file (typically <code>packages/app/src/components/catalog/EntityPage.tsx</code>):</p> <pre><code>import { DevpodComponent, isDevpodAvailable } from '@terasky/backstage-plugin-devpod';\n</code></pre>"},{"location":"plugins/devpod/frontend/install/#3-add-to-entity-page","title":"3. Add to Entity Page","text":"<p>Add the DevPod component to your overview content:</p> <pre><code>const overviewContent = (\n  &lt;Grid container spacing={3} alignItems=\"stretch\"&gt;\n    {/* ... other grid items ... */}\n\n    &lt;EntitySwitch&gt;\n      &lt;EntitySwitch.Case if={isDevpodAvailable}&gt;\n        &lt;Grid item md={6}&gt;\n          &lt;DevpodComponent /&gt;\n        &lt;/Grid&gt;\n      &lt;/EntitySwitch.Case&gt;\n    &lt;/EntitySwitch&gt;\n\n    {/* ... other grid items ... */}\n  &lt;/Grid&gt;\n);\n</code></pre>"},{"location":"plugins/devpod/frontend/install/#new-frontend-system-support-alpha","title":"New Frontend System Support (Alpha)","text":"<p>The plugin now supports the new frontend system available in the <code>/alpha</code> export. To use this:</p> <pre><code>import { createApp } from '@backstage/frontend-defaults';\nimport { devpodPlugin } from '@terasky/backstage-plugin-devpod/alpha';\n\nexport default createApp({\n  features: [\n    ...\n    devpodPlugin,\n    ...\n  ],\n});\n</code></pre> <p>This replaces the need for manual route configuration in <code>EntityPage.tsx</code> and other files. The plugin will be automatically integrated into the appropriate entity pages.</p>"},{"location":"plugins/devpod/frontend/install/#verification","title":"Verification","text":"<p>After installation, verify that:</p> <ol> <li>The plugin appears in your package.json dependencies</li> <li>The DevPod button appears on component overview pages</li> <li>The IDE selection functionality works correctly</li> <li>The CLI command display is accurate</li> </ol>"},{"location":"plugins/devpod/frontend/install/#troubleshooting","title":"Troubleshooting","text":"<p>Common issues and solutions:</p> <ol> <li> <p>Missing DevPod Button</p> <ul> <li>Ensure the component is properly imported</li> <li>Check if the entity meets the availability conditions</li> <li>Verify the grid layout configuration</li> </ul> </li> <li> <p>IDE Selection Issues</p> <ul> <li>Confirm DevPod installation on your machine</li> <li>Check the supported IDE list</li> <li>Verify your default IDE configuration</li> </ul> </li> </ol> <p>For configuration options and customization, proceed to the Configuration Guide.</p>"},{"location":"plugins/educates/overview/","title":"Educates Plugin","text":"<p>The Educates plugin for Backstage provides seamless integration with Educates training portals, enabling users to discover, access, and manage educational workshops directly within the Backstage interface.</p>"},{"location":"plugins/educates/overview/#plugin-components","title":"Plugin Components","text":""},{"location":"plugins/educates/overview/#frontend-plugin","title":"Frontend Plugin","text":"<p>The frontend plugin provides a user interface for:</p> <ul> <li>Browsing available workshops across multiple training portals</li> <li>Viewing detailed workshop information</li> <li>Launching workshop sessions</li> <li>Managing active workshop sessions</li> </ul> <p>Learn more about the frontend plugin</p>"},{"location":"plugins/educates/overview/#backend-plugin","title":"Backend Plugin","text":"<p>The backend plugin handles:</p> <ul> <li>Integration with Educates training portals</li> <li>Authentication and session management</li> <li>Workshop session operations</li> <li>API endpoints for workshop data</li> <li>Advanced permission rules and conditions</li> </ul> <p>Learn more about the backend plugin</p>"},{"location":"plugins/educates/overview/#features","title":"Features","text":"<ul> <li>Multi-Portal Support: Connect to multiple training portals simultaneously</li> <li>Workshop Discovery: Browse and search available workshops</li> <li>Detailed Information: View comprehensive workshop details including:<ul> <li>Title and description</li> <li>Difficulty level</li> <li>Duration</li> <li>Tags and labels</li> <li>Capacity and availability</li> </ul> </li> <li>Session Management: Launch and track workshop sessions</li> <li>Advanced Permission Controls: Resource-based permissions with conditional rules and portal-specific access control</li> </ul>"},{"location":"plugins/educates/overview/#documentation-structure","title":"Documentation Structure","text":"<p>Frontend Plugin</p> <ul> <li>About</li> <li>Installation</li> <li>Configuration</li> </ul> <p>Backend Plugin</p> <ul> <li>About</li> <li>Installation</li> <li>Configuration</li> </ul>"},{"location":"plugins/educates/overview/#available-permissions","title":"Available Permissions","text":"<p>The plugin provides a comprehensive resource-based permission system with the following permissions:</p>"},{"location":"plugins/educates/overview/#resource-based-permissions","title":"Resource-Based Permissions","text":"<ul> <li><code>educates.portal.view</code>: Permission to view and access specific training portals</li> <li>Resource Type: <code>educates-training-portal</code></li> <li>Action: <code>read</code></li> <li> <p>Supports conditional access based on portal ownership and access rules</p> </li> <li> <p><code>educates.workshop.start</code>: Permission to start workshop sessions for specific workshops</p> </li> <li>Resource Type: <code>educates-workshop</code></li> <li>Action: <code>create</code></li> <li>Supports conditional access based on workshop ownership and access rules</li> </ul>"},{"location":"plugins/educates/overview/#permission-rules","title":"Permission Rules","text":"<p>The plugin includes advanced permission rules for fine-grained access control:</p>"},{"location":"plugins/educates/overview/#portal-rules","title":"Portal Rules","text":"<ul> <li><code>IS_PORTAL_OWNER</code>: Allow users who are owners of a training portal</li> <li><code>HAS_PORTAL_ACCESS</code>: Allow users who have been granted access to a specific portal</li> </ul>"},{"location":"plugins/educates/overview/#workshop-rules","title":"Workshop Rules","text":"<ul> <li><code>IS_WORKSHOP_OWNER</code>: Allow users who are owners of a workshop</li> <li><code>HAS_WORKSHOP_ACCESS</code>: Allow users who have been granted access to a specific workshop</li> </ul>"},{"location":"plugins/educates/overview/#conditional-permissions","title":"Conditional Permissions","text":"<p>The plugin supports conditional permission decisions that can be configured based on: - User entity references - Portal names - Workshop names - Custom access control logic</p>"},{"location":"plugins/educates/overview/#deprecated-permissions","title":"Deprecated Permissions","text":"<p>\u26a0\ufe0f The following permissions are removed in this version:</p> <ul> <li><code>educates.workshops.view</code> \u2192 Use <code>educates.portal.view</code> instead</li> <li><code>educates.workshop-sessions.create</code> \u2192 Use <code>educates.workshop.start</code> instead</li> </ul>"},{"location":"plugins/educates/overview/#mcp-actions-integration","title":"MCP Actions Integration","text":"<p>The Educates plugin provides MCP (Model Control Protocol) actions for interacting with training portals and workshops. To enable these actions:</p> <ol> <li> <p>First, ensure you have the MCP actions backend plugin installed and configured. See the MCP Actions Backend Plugin documentation for setup instructions.</p> </li> <li> <p>Add the plugin to your actions configuration in <code>app-config.yaml</code>:</p> </li> </ol> <pre><code>backend:\n  actions:\n    pluginSources:\n      - 'catalog'\n      - 'educates'\n      # ... other action sources\n</code></pre>"},{"location":"plugins/educates/overview/#available-mcp-actions","title":"Available MCP Actions","text":"<p>The plugin provides the following MCP actions:</p> <ul> <li><code>get_educates_training_portals</code>: Get configured training portals</li> <li>Input: None</li> <li> <p>Output: List of training portals with their URLs</p> </li> <li> <p><code>get_educates_workshops</code>: Get available workshops in a training portal</p> </li> <li>Input: Portal name</li> <li> <p>Output: List of workshops with detailed information including:</p> <ul> <li>Title and description</li> <li>Vendor and authors</li> <li>Difficulty and duration</li> <li>Environment capacity and availability</li> </ul> </li> <li> <p><code>request_educates_workshop_session</code>: Request a new workshop session</p> </li> <li>Input: Portal name and workshop environment name</li> <li>Output: Session details including URL, ID, and expiration time</li> </ul>"},{"location":"plugins/educates/overview/#getting-started","title":"Getting Started","text":"<p>To get started with the Educates plugin:</p> <ol> <li>Install and configure the backend plugin</li> <li>Set up the frontend components</li> <li>Configure your training portal connections</li> <li>Configure permission rules and access policies</li> <li>Configure MCP actions in your app-config.yaml</li> <li>Start discovering and launching workshops</li> </ol> <p>For detailed installation and configuration instructions, refer to the frontend and backend documentation linked above.</p>"},{"location":"plugins/educates/backend/about/","title":"Educates Backend Plugin","text":""},{"location":"plugins/educates/backend/about/#overview","title":"Overview","text":"<p>The Educates backend plugin provides the server-side functionality required to integrate Educates training portals with Backstage. It handles API communication, authentication, session management, and exposes endpoints for the frontend plugin to consume.</p>"},{"location":"plugins/educates/backend/about/#features","title":"Features","text":""},{"location":"plugins/educates/backend/about/#api-integration","title":"API Integration","text":"<ul> <li>Seamless communication with Educates training portals</li> <li>Support for multiple portal configurations</li> <li>Secure API token management</li> <li>Error handling and retries</li> </ul>"},{"location":"plugins/educates/backend/about/#authentication-management","title":"Authentication Management","text":"<ul> <li>Token-based authentication</li> <li>Automatic token refresh</li> <li>Secure credential storage</li> <li>Session persistence</li> </ul>"},{"location":"plugins/educates/backend/about/#workshop-management","title":"Workshop Management","text":"<ul> <li>Workshop catalog retrieval</li> <li>Workshop metadata handling</li> <li>Session creation and tracking</li> </ul>"},{"location":"plugins/educates/backend/about/#multi-portal-support","title":"Multi-Portal Support","text":"<ul> <li>Multiple portal configurations out of the box</li> </ul>"},{"location":"plugins/educates/backend/about/#permission-framework","title":"Permission Framework","text":"<ul> <li>Resource-based permission system</li> <li>Conditional permission rules</li> <li>Portal and workshop-specific access control</li> <li>Advanced permission conditions and decision making</li> </ul>"},{"location":"plugins/educates/backend/about/#permission-framework_1","title":"Permission Framework","text":"<p>The backend plugin provides a comprehensive permission framework with resource-based access control:</p>"},{"location":"plugins/educates/backend/about/#permission-resources","title":"Permission Resources","text":"<p>The plugin defines two main resource types:</p> <ul> <li>Training Portal Resource (<code>educates-training-portal</code>)</li> <li>Controls access to specific training portals</li> <li> <p>Supports portal ownership and access rules</p> </li> <li> <p>Workshop Resource (<code>educates-workshop</code>)</p> </li> <li>Controls access to individual workshops</li> <li>Supports workshop-specific permissions</li> </ul>"},{"location":"plugins/educates/backend/about/#permission-rules","title":"Permission Rules","text":""},{"location":"plugins/educates/backend/about/#portal-permission-rules","title":"Portal Permission Rules","text":"<ul> <li><code>IS_PORTAL_OWNER</code>: Grants access to users who own a training portal</li> <li><code>HAS_PORTAL_ACCESS</code>: Grants access to users with specific portal permissions</li> </ul>"},{"location":"plugins/educates/backend/about/#workshop-permission-rules","title":"Workshop Permission Rules","text":"<ul> <li><code>IS_WORKSHOP_OWNER</code>: Grants access to users who own a workshop</li> <li><code>HAS_WORKSHOP_ACCESS</code>: Grants access to users with specific workshop permissions</li> </ul>"},{"location":"plugins/educates/backend/about/#conditional-permissions","title":"Conditional Permissions","text":"<p>The plugin supports conditional permission decisions through:</p> <ul> <li>Portal Conditions: Fine-grained portal access control</li> <li>Workshop Conditions: Workshop-specific permission logic</li> <li>Decision Factories: Programmatic permission decision creation</li> </ul>"},{"location":"plugins/educates/backend/about/#technical-details","title":"Technical Details","text":""},{"location":"plugins/educates/backend/about/#integration-points","title":"Integration Points","text":"<ul> <li>Educates Training Portal API</li> <li>Backstage backend services</li> <li>Permission framework</li> <li>Authentication system</li> </ul>"},{"location":"plugins/educates/backend/about/#type-definitions","title":"Type Definitions","text":"<p>Utilizes shared types from the common package:</p> <ul> <li><code>TrainingPortalConfig</code></li> <li><code>EducatesConfig</code></li> <li><code>Workshop</code></li> <li><code>WorkshopEnvironment</code></li> <li><code>TrainingPortalStatus</code></li> <li><code>WorkshopSession</code></li> </ul>"},{"location":"plugins/educates/backend/about/#error-handling","title":"Error Handling","text":"<ul> <li>Comprehensive error types</li> <li>Detailed error messages</li> <li>Automatic retries</li> <li>Rate limiting protection</li> </ul>"},{"location":"plugins/educates/backend/about/#security","title":"Security","text":"<ul> <li>Secure credential management</li> <li>Token-based authentication</li> <li>Resource-based permission controls with conditional rules</li> <li>Request validation</li> </ul>"},{"location":"plugins/educates/backend/about/#architecture","title":"Architecture","text":""},{"location":"plugins/educates/backend/about/#components","title":"Components","text":"<ol> <li> <p>API Router</p> <ul> <li>Endpoint registration</li> <li>Request handling</li> <li>Response formatting</li> </ul> </li> <li> <p>Portal Manager</p> <ul> <li>Portal configuration</li> <li>Health monitoring</li> <li>Connection management</li> </ul> </li> <li> <p>Session Controller</p> <ul> <li>Session lifecycle</li> <li>Resource allocation</li> </ul> </li> <li> <p>Authentication Handler</p> <ul> <li>Token management</li> <li>Credential storage</li> <li>Permission checks</li> </ul> </li> <li> <p>Permission Handler</p> <ul> <li>Resource-based access control</li> <li>Conditional permission evaluation</li> <li>Permission rule enforcement</li> </ul> </li> </ol>"},{"location":"plugins/educates/backend/about/#data-flow","title":"Data Flow","text":"<ol> <li>Request received from frontend</li> <li>Authentication and permission validation</li> <li>Portal communication</li> <li>Response processing</li> <li>Result returned to client</li> </ol> <p>For installation and configuration details, refer to the Installation Guide and Configuration Guide.</p>"},{"location":"plugins/educates/backend/configure/","title":"Configuring the Educates Backend Plugin","text":"<p>This guide covers the configuration options available for the Educates backend plugin.</p>"},{"location":"plugins/educates/backend/configure/#configuration-file","title":"Configuration File","text":"<p>The plugin is configured through your <code>app-config.yaml</code>. Here's a comprehensive example:</p> <pre><code>educates:\n  # Required: Training portal configurations\n  trainingPortals:\n    - name: example-portal\n      url: https://example-training-portal.com\n      robotUsername: robot@educates\n      robotPassword: ${EDUCATES_EXAMPLE_ROBOT_PASSWORD}\n      clientId: ${EDUCATES_EXAMPLE_ROBOT_CLIENT_ID}\n      clientSecret: ${EDUCATES_EXAMPLE_ROBOT_CLIENT_SECRET}\n</code></pre>"},{"location":"plugins/educates/backend/configure/#environment-variables","title":"Environment Variables","text":"<p>Required environment variables for each training portal:</p> <pre><code>EDUCATES_&lt;PORTAL_NAME&gt;_ROBOT_PASSWORD=your-robot-password\nEDUCATES_&lt;PORTAL_NAME&gt;_ROBOT_CLIENT_ID=your-client-id\nEDUCATES_&lt;PORTAL_NAME&gt;_ROBOT_CLIENT_SECRET=your-client-secret\n</code></pre>"},{"location":"plugins/educates/backend/configure/#portal-configuration","title":"Portal Configuration","text":""},{"location":"plugins/educates/backend/configure/#basic-portal-setup","title":"Basic Portal Setup","text":"<p>Minimum required configuration for each portal:</p> <pre><code>educates:\n  trainingPortals:\n    - name: portal-name\n      url: https://portal-url.com\n      robotUsername: robot@educates\n      robotPassword: ${EDUCATES_PORTAL_NAME_ROBOT_PASSWORD}\n      clientId: ${EDUCATES_PORTAL_NAME_ROBOT_CLIENT_ID}\n      clientSecret: ${EDUCATES_PORTAL_NAME_ROBOT_CLIENT_SECRET}\n</code></pre>"},{"location":"plugins/educates/backend/configure/#permission-configuration","title":"Permission Configuration","text":"<p>The Educates plugin uses Backstage's resource-based permission system. Configure permissions in your permission policy.</p>"},{"location":"plugins/educates/backend/configure/#permission-policy-setup","title":"Permission Policy Setup","text":"<p>Add the following to your permission policy file:</p> <pre><code>import { \n  portalViewPermission,\n  workshopStartPermission,\n} from '@terasky/backstage-plugin-educates-common';\nimport {\n  educatesPortalConditions,\n  educatesWorkshopConditions,\n  createEducatesPortalConditionalDecision,\n  createEducatesWorkshopConditionalDecision,\n} from '@terasky/backstage-plugin-educates-backend/alpha';\n\n// In your permission policy class\nasync handle(request: PolicyQuery): Promise&lt;PolicyDecision&gt; {\n  if (isPermission(request.permission, portalViewPermission)) {\n    // Allow users to view portals they have access to\n    return createEducatesPortalConditionalDecision(\n      request.permission,\n      educatesPortalConditions.hasPortalAccess({\n        userRefs: [request.identity.userEntityRef],\n        portalName: 'your-portal-name'\n      })\n    );\n  }\n\n  if (isPermission(request.permission, workshopStartPermission)) {\n    // Allow users to start workshops they have access to\n    return createEducatesWorkshopConditionalDecision(\n      request.permission,\n      educatesWorkshopConditions.hasWorkshopAccess({\n        userRefs: [request.identity.userEntityRef],\n        portalName: 'your-portal-name',\n        workshopName: 'specific-workshop'\n      })\n    );\n  }\n\n  return { result: AuthorizeResult.ALLOW };\n}\n</code></pre>"},{"location":"plugins/educates/backend/configure/#simple-permission-policy","title":"Simple Permission Policy","text":"<p>For a basic setup allowing all authenticated users:</p> <pre><code>import { \n  portalViewPermission,\n  workshopStartPermission,\n} from '@terasky/backstage-plugin-educates-common';\n\n// In your permission policy\nasync handle(request: PolicyQuery): Promise&lt;PolicyDecision&gt; {\n  if (isPermission(request.permission, portalViewPermission)) {\n    return { result: AuthorizeResult.ALLOW };\n  }\n\n  if (isPermission(request.permission, workshopStartPermission)) {\n    return { result: AuthorizeResult.ALLOW };\n  }\n\n  return { result: AuthorizeResult.ALLOW };\n}\n</code></pre>"},{"location":"plugins/educates/backend/configure/#advanced-permission-rules","title":"Advanced Permission Rules","text":"<p>You can customize access using the built-in permission rules:</p> <pre><code>import { rules } from '@terasky/backstage-plugin-educates-backend/alpha';\n\n// Example: Portal ownership rule\nconst portalOwnershipDecision = createEducatesPortalConditionalDecision(\n  request.permission,\n  rules.portal.isPortalOwner({\n    userRefs: [request.identity.userEntityRef]\n  })\n);\n\n// Example: Workshop access rule\nconst workshopAccessDecision = createEducatesWorkshopConditionalDecision(\n  request.permission,\n  rules.workshop.hasWorkshopAccess({\n    userRefs: [request.identity.userEntityRef],\n    portalName: 'production-portal',\n    workshopName: 'advanced-k8s'\n  })\n);\n</code></pre>"},{"location":"plugins/educates/backend/configure/#migration-from-legacy-permissions","title":"Migration from Legacy Permissions","text":"<p>If you're migrating from the legacy permissions, update your permission policy:</p> <pre><code>// OLD - Deprecated\n// educates.workshops.view\n// educates.workshop-sessions.create\n\n// NEW - Resource-based\nimport { \n  portalViewPermission,      // replaces educates.workshops.view\n  workshopStartPermission,   // replaces educates.workshop-sessions.create\n} from '@terasky/backstage-plugin-educates-common';\n</code></pre> <p>For installation instructions, refer to the Installation Guide.</p>"},{"location":"plugins/educates/backend/install/","title":"Installing the Educates Backend Plugin","text":"<p>This guide will help you install and set up the Educates backend plugin in your Backstage instance.</p>"},{"location":"plugins/educates/backend/install/#prerequisites","title":"Prerequisites","text":"<p>Before installing the plugin, ensure you have:</p> <ol> <li>A running Backstage backend instance</li> <li>Access to one or more Educates training portals</li> <li>Required credentials for each training portal</li> </ol>"},{"location":"plugins/educates/backend/install/#installation-steps","title":"Installation Steps","text":""},{"location":"plugins/educates/backend/install/#1-add-the-package","title":"1. Add the Package","text":"<p>Install the plugin package using yarn:</p> <pre><code>yarn --cwd packages/backend add @terasky/backstage-plugin-educates-backend\n</code></pre>"},{"location":"plugins/educates/backend/install/#2-add-plugin-to-backend","title":"2. Add Plugin to Backend","text":"<p>Modify your <code>packages/backend/src/index.ts</code> to include the plugin:</p> <pre><code>import { createBackend } from '@backstage/backend-defaults';\n\nconst backend = createBackend();\n\n// ... other backend plugins\n\nbackend.add(import('@terasky/plugin-educates-backend'));\n\nbackend.start();\n</code></pre>"},{"location":"plugins/educates/backend/install/#3-configure-environment-variables","title":"3. Configure Environment Variables","text":"<p>Add the following environment variables to your <code>.env</code> file:</p> <pre><code># Example portal configuration\nEDUCATES_EXAMPLE_ROBOT_PASSWORD=your-robot-password\nEDUCATES_EXAMPLE_ROBOT_CLIENT_ID=your-client-id\nEDUCATES_EXAMPLE_ROBOT_CLIENT_SECRET=your-client-secret\n</code></pre>"},{"location":"plugins/educates/backend/install/#4-add-base-configuration","title":"4. Add Base Configuration","text":"<p>Add the following to your <code>app-config.yaml</code>:</p> <pre><code>educates:\n  trainingPortals:\n    - name: example-portal\n      url: https://example-training-portal.com\n      robotUsername: robot@educates\n      robotPassword: ${EDUCATES_EXAMPLE_ROBOT_PASSWORD}\n      clientId: ${EDUCATES_EXAMPLE_ROBOT_CLIENT_ID}\n      clientSecret: ${EDUCATES_EXAMPLE_ROBOT_CLIENT_SECRET}\n</code></pre>"},{"location":"plugins/educates/backend/install/#verification","title":"Verification","text":"<p>After installation, verify that:</p> <ol> <li>The plugin appears in your package.json dependencies</li> <li>The backend starts without errors</li> <li>The plugin endpoints are accessible</li> <li>Training portal connections are successful</li> </ol>"},{"location":"plugins/educates/backend/install/#testing-the-installation","title":"Testing the Installation","text":"<ol> <li> <p>Check the plugin health: <pre><code>curl http://localhost:7007/api/educates/health\n</code></pre></p> </li> <li> <p>List training portals: <pre><code>curl http://localhost:7007/api/educates/workshops/\\&lt;TRAINING PORTAL NAME\\&gt;/\n</code></pre></p> </li> </ol>"},{"location":"plugins/educates/backend/install/#troubleshooting","title":"Troubleshooting","text":"<p>Common issues and solutions:</p> <ol> <li> <p>Connection Errors</p> <ul> <li>Verify portal URL is correct</li> <li>Check credentials in environment variables</li> <li>Ensure portal is accessible from backend</li> </ul> </li> <li> <p>Authentication Issues</p> <ul> <li>Confirm robot credentials are valid</li> <li>Check client ID and secret</li> <li>Verify token refresh is working</li> </ul> </li> <li> <p>Plugin Not Loading</p> <ul> <li>Check backend plugin registration</li> <li>Verify package installation</li> <li>Review backend logs for errors</li> </ul> </li> </ol> <p>For configuration options and customization, proceed to the Configuration Guide.</p>"},{"location":"plugins/educates/frontend/about/","title":"Educates Frontend Plugin","text":""},{"location":"plugins/educates/frontend/about/#overview","title":"Overview","text":"<p>The Educates frontend plugin provides a comprehensive interface for discovering and accessing educational workshops within Backstage. It enables users to browse workshops from multiple training portals, view detailed information, and manage workshop sessions, all integrated seamlessly into the Backstage interface.</p>"},{"location":"plugins/educates/frontend/about/#features","title":"Features","text":""},{"location":"plugins/educates/frontend/about/#workshop-discovery","title":"Workshop Discovery","text":"<ul> <li>Browse available workshops across multiple portals</li> <li>Filter and search capabilities</li> <li>Workshop categorization and tagging</li> <li>Multi-portal support</li> </ul>"},{"location":"plugins/educates/frontend/about/#workshop-details","title":"Workshop Details","text":"<p>Comprehensive workshop information:</p> <ul> <li>Title and description</li> <li>Difficulty level</li> <li>Duration estimates</li> <li>Tags and labels</li> <li>Capacity information</li> <li>Availability status</li> </ul>"},{"location":"plugins/educates/frontend/about/#session-management","title":"Session Management","text":"<ul> <li>Launch workshops in new browser tabs</li> <li>Track active workshop sessions</li> </ul>"},{"location":"plugins/educates/frontend/about/#user-interface","title":"User Interface","text":"<ul> <li>Material design integration</li> <li>Responsive layout</li> <li>Intuitive navigation</li> <li>Consistent Backstage styling</li> </ul>"},{"location":"plugins/educates/frontend/about/#components","title":"Components","text":""},{"location":"plugins/educates/frontend/about/#educatespage","title":"EducatesPage","text":"<p>The main page component that provides:</p> <ul> <li>Workshop catalog view</li> <li>Portal selection</li> <li>Session management interface</li> </ul>"},{"location":"plugins/educates/frontend/about/#workshop-cards","title":"Workshop Cards","text":"<p>Individual workshop displays showing:</p> <ul> <li>Workshop title and description</li> <li>Key metadata</li> <li>Launch options</li> <li>Status indicators</li> </ul>"},{"location":"plugins/educates/frontend/about/#portal-selection","title":"Portal Selection","text":"<p>Interface for managing multiple training portals:</p> <ul> <li>Portal switching</li> <li>Portal-specific workshop lists</li> </ul>"},{"location":"plugins/educates/frontend/about/#technical-details","title":"Technical Details","text":""},{"location":"plugins/educates/frontend/about/#integration-points","title":"Integration Points","text":"<ul> <li>Backstage core platform</li> <li>Educates backend plugin</li> <li>Training portal APIs</li> <li>Permission framework</li> </ul>"},{"location":"plugins/educates/frontend/about/#permission-framework","title":"Permission Framework","text":"<p>Built-in support for Backstage's resource-based permission system:</p> <ul> <li><code>educates.portal.view</code>: Required for viewing and accessing specific training portals</li> <li>Resource-based permission that controls access to individual portals</li> <li> <p>Supports conditional access based on user roles and portal ownership</p> </li> <li> <p><code>educates.workshop.start</code>: Required for launching workshop sessions</p> </li> <li>Resource-based permission that controls access to individual workshops</li> <li>Supports fine-grained access control per workshop</li> </ul>"},{"location":"plugins/educates/frontend/about/#deprecated-permissions","title":"Deprecated Permissions","text":"<p>\u26a0\ufe0f The following permissions are removed in this version:</p> <ul> <li><code>educates.workshops.view</code> \u2192 Use <code>educates.portal.view</code> instead</li> <li><code>educates.workshop-sessions.create</code> \u2192 Use <code>educates.workshop.start</code> instead</li> </ul>"},{"location":"plugins/educates/frontend/about/#type-definitions","title":"Type Definitions","text":"<p>Utilizes shared types from the common package:</p> <ul> <li><code>Workshop</code></li> <li><code>WorkshopEnvironment</code></li> <li><code>TrainingPortalStatus</code></li> <li><code>WorkshopSession</code></li> </ul>"},{"location":"plugins/educates/frontend/about/#user-experience","title":"User Experience","text":""},{"location":"plugins/educates/frontend/about/#workshop-discovery_1","title":"Workshop Discovery","text":"<ol> <li>Navigate to the Workshops page (requires <code>educates.portal.view</code> permission)</li> <li>Browse available workshops by portal</li> <li>View detailed workshop information</li> </ol>"},{"location":"plugins/educates/frontend/about/#workshop-launch","title":"Workshop Launch","text":"<ol> <li>Select desired workshop</li> <li>Review workshop details</li> <li>Click launch button (requires <code>educates.workshop.start</code> permission)</li> <li>Access workshop in new browser tab</li> </ol>"},{"location":"plugins/educates/frontend/about/#session-management_1","title":"Session Management","text":"<ol> <li>View active sessions</li> <li>Monitor session status</li> </ol>"},{"location":"plugins/educates/frontend/about/#permission-requirements","title":"Permission Requirements","text":"<p>To use the frontend plugin, users need appropriate permissions:</p>"},{"location":"plugins/educates/frontend/about/#basic-access","title":"Basic Access","text":"<ul> <li><code>educates.portal.view</code>: Required to view the workshops page and browse available workshops</li> <li><code>educates.workshop.start</code>: Required to launch workshop sessions</li> </ul>"},{"location":"plugins/educates/frontend/about/#advanced-access-control","title":"Advanced Access Control","text":"<p>The plugin supports resource-based permissions that can be configured for: - Specific training portals - Individual workshops - Conditional access based on user roles - Portal and workshop ownership rules</p>"},{"location":"plugins/educates/frontend/about/#permission-integration","title":"Permission Integration","text":"<p>The frontend automatically handles permission checks: - Workshop browse functionality requires portal view permissions - Launch buttons are only enabled for workshops the user can start - Portal switching respects portal-specific access controls - Workshop cards display appropriate access indicators</p>"},{"location":"plugins/educates/frontend/configure/","title":"Configuring the Educates Frontend Plugin","text":"<p>This guide covers the configuration options available for the Educates frontend plugin.</p>"},{"location":"plugins/educates/frontend/configure/#new-frontend-system-configuration-alpha","title":"New Frontend System Configuration (Alpha)","text":"<p>When using the new frontend system through the <code>/alpha</code> export, the plugin is configured automatically with sensible defaults. The plugin will be automatically integrated into the navigation without requiring manual route configuration.</p>"},{"location":"plugins/educates/frontend/configure/#configuration-file","title":"Configuration File","text":"<p>The frontend plugin relies on the backend configuration. </p>"},{"location":"plugins/educates/frontend/configure/#available-permissions","title":"Available Permissions","text":"<p>Configure these permissions to control access to plugin features:</p> <ol> <li> <p><code>educates.workshops.view</code></p> <ul> <li>Required to view the workshops catalog</li> <li>Controls access to workshop details</li> </ul> </li> <li> <p><code>educates.workshop-sessions.create</code></p> <ul> <li>Required to launch workshop sessions</li> <li>Controls ability to create new sessions</li> </ul> </li> </ol>"},{"location":"plugins/educates/frontend/configure/#ui-customization","title":"UI Customization","text":""},{"location":"plugins/educates/frontend/configure/#theme-integration","title":"Theme Integration","text":"<p>The plugin follows your Backstage theme settings. Customize the appearance by modifying your theme configuration in <code>packages/app/src/themes/index.ts</code>:</p> <pre><code>import { createTheme } from '@material-ui/core';\n\nexport const customTheme = createTheme({\n  components: {\n    // Customize workshop card appearance\n    MuiCard: {\n      styleOverrides: {\n        root: {\n          // Your custom styles\n        },\n      },\n    },\n  },\n});\n</code></pre>"},{"location":"plugins/educates/frontend/configure/#portal-configuration","title":"Portal Configuration","text":"<p>Portal configuration is managed through the backend plugin. Refer to the backend configuration guide for details on:</p> <ul> <li>Adding training portals</li> <li>Configuring authentication</li> <li>Managing portal connections</li> <li>Setting up session handling</li> </ul>"},{"location":"plugins/educates/frontend/configure/#environment-variables","title":"Environment Variables","text":"<p>The frontend plugin doesn't require specific environment variables, but ensure the backend plugin's environment variables are properly configured as they affect frontend functionality.</p>"},{"location":"plugins/educates/frontend/install/","title":"Installing the Educates Frontend Plugin","text":"<p>This guide will help you install and set up the Educates frontend plugin in your Backstage instance.</p>"},{"location":"plugins/educates/frontend/install/#prerequisites","title":"Prerequisites","text":"<p>Before installing the plugin, ensure you have:</p> <ol> <li>A working Backstage instance</li> <li>The Educates backend plugin installed and configured</li> <li>Access to one or more Educates training portals</li> </ol>"},{"location":"plugins/educates/frontend/install/#installation-steps","title":"Installation Steps","text":""},{"location":"plugins/educates/frontend/install/#1-add-the-package","title":"1. Add the Package","text":"<p>Install the plugin package using yarn:</p> <pre><code>yarn --cwd packages/app add @terasky/backstage-plugin-educates\n</code></pre>"},{"location":"plugins/educates/frontend/install/#2-add-to-app-routes","title":"2. Add to App Routes","text":"<p>Add the Educates page to your app routes in <code>packages/app/src/App.tsx</code>:</p> <pre><code>import { EducatesPage } from '@terasky/backstage-plugin-educates';\n\nconst routes = (\n  &lt;FlatRoutes&gt;\n    {/* ... other routes ... */}\n    &lt;Route path=\"/educates\" element={&lt;EducatesPage /&gt;} /&gt;\n  &lt;/FlatRoutes&gt;\n);\n</code></pre>"},{"location":"plugins/educates/frontend/install/#3-add-to-sidebar","title":"3. Add to Sidebar","text":"<p>Add the Educates link to your sidebar in <code>packages/app/src/components/Root/Root.tsx</code>:</p> <pre><code>import { SchoolIcon } from '@material-ui/icons';\n\nexport const Root = () =&gt; (\n  &lt;SidebarPage&gt;\n    &lt;Sidebar&gt;\n      {/* ... other sidebar items ... */}\n      &lt;SidebarItem icon={SchoolIcon} to=\"/educates\" text=\"Workshops\" /&gt;\n    &lt;/Sidebar&gt;\n  &lt;/SidebarPage&gt;\n);\n</code></pre>"},{"location":"plugins/educates/frontend/install/#new-frontend-system-support-alpha","title":"New Frontend System Support (Alpha)","text":"<p>The plugin now supports the new frontend system available in the <code>/alpha</code> export. To use this:</p> <pre><code>import { createApp } from '@backstage/frontend-defaults';\nimport { educatesPlugin } from '@terasky/backstage-plugin-educates/alpha';\n\nexport default createApp({\n  features: [\n    ...\n    educatesPlugin,\n    ...\n  ],\n});\n</code></pre> <p>This replaces the need for manual route configuration in <code>App.tsx</code> and <code>Root.tsx</code> files. The plugin will be automatically integrated into the navigation.</p>"},{"location":"plugins/educates/frontend/install/#verification","title":"Verification","text":"<p>After installation, verify that:</p> <ol> <li>The plugin appears in your package.json dependencies</li> <li>The Workshops link appears in your sidebar</li> <li>The workshops page loads successfully</li> <li>You can view available workshops from your training portals</li> </ol>"},{"location":"plugins/educates/frontend/install/#troubleshooting","title":"Troubleshooting","text":"<p>Common issues and solutions:</p> <ol> <li> <p>Page Not Found</p> <ul> <li>Verify route configuration in App.tsx</li> <li>Check sidebar link path</li> <li>Ensure all imports are correct</li> </ul> </li> <li> <p>No Workshops Displayed</p> <ul> <li>Confirm backend plugin is installed and configured</li> <li>Check training portal configuration</li> <li>Verify permissions are properly set up</li> </ul> </li> </ol> <p>For configuration options and customization, proceed to the Configuration Guide.</p>"},{"location":"plugins/entity-scaffolder/overview/","title":"Entity Scaffolder Content Plugin","text":"<p>The Entity Scaffolder Content plugin for Backstage enables you to embed scaffolder templates directly within entity pages. This powerful feature allows you to contextualize templates based on the entity they're being accessed from, making template discovery and usage more intuitive.</p>"},{"location":"plugins/entity-scaffolder/overview/#features","title":"Features","text":"<ul> <li>Embedded Template Tab: Add a dedicated tab for scaffolder templates on entity pages</li> <li>Context-Aware Templates: Filter and populate templates based on entity context</li> <li>Dynamic Initial Values: Pre-populate template form fields using entity data</li> <li>Flexible Configuration: Customize template filtering and data mapping</li> <li>Seamless Integration: Works with existing scaffolder templates</li> </ul>"},{"location":"plugins/entity-scaffolder/overview/#plugin-components","title":"Plugin Components","text":""},{"location":"plugins/entity-scaffolder/overview/#frontend-plugin","title":"Frontend Plugin","text":"<p>The plugin provides frontend components for:</p> <ul> <li>Displaying templates within entity pages</li> <li>Filtering templates based on entity context</li> <li>Pre-populating template forms with entity data</li> </ul> <p>Learn more about the frontend plugin</p>"},{"location":"plugins/entity-scaffolder/overview/#screenshots","title":"Screenshots","text":"<p> Example of embedded scaffolder templates</p> <p> Template form with pre-populated data</p>"},{"location":"plugins/entity-scaffolder/overview/#documentation-structure","title":"Documentation Structure","text":"<ul> <li>About</li> <li>Installation</li> <li>Configuration</li> </ul>"},{"location":"plugins/entity-scaffolder/overview/#getting-started","title":"Getting Started","text":"<p>To get started with the Entity Scaffolder Content plugin:</p> <ol> <li>Install the frontend plugin</li> <li>Configure entity page integration</li> <li>Set up template filters and data mapping</li> <li>Start using contextualized templates</li> </ol> <p>For detailed installation and configuration instructions, refer to the frontend documentation linked above. </p>"},{"location":"plugins/entity-scaffolder/frontend/about/","title":"Entity Scaffolder Content Frontend Plugin","text":""},{"location":"plugins/entity-scaffolder/frontend/about/#overview","title":"Overview","text":"<p>The Entity Scaffolder Content frontend plugin enhances Backstage's scaffolder functionality by allowing you to embed template selection and creation directly within entity pages. This integration provides a more contextual and streamlined experience for users working with templates.</p>"},{"location":"plugins/entity-scaffolder/frontend/about/#features","title":"Features","text":""},{"location":"plugins/entity-scaffolder/frontend/about/#template-integration","title":"Template Integration","text":"<ul> <li>Embed scaffolder templates in entity pages</li> <li>Add dedicated template tabs to entity layouts</li> <li>Seamless integration with existing entity pages</li> </ul>"},{"location":"plugins/entity-scaffolder/frontend/about/#context-aware-filtering","title":"Context-Aware Filtering","text":"<ul> <li>Filter templates based on entity metadata</li> <li>Custom filter rules and conditions</li> <li>Group templates by categories</li> <li>Dynamic template visibility</li> </ul>"},{"location":"plugins/entity-scaffolder/frontend/about/#data-pre-population","title":"Data Pre-population","text":"<ul> <li>Auto-fill template forms with entity data</li> <li>Dynamic value mapping</li> <li>Custom data transformation</li> <li>Context-aware defaults</li> </ul>"},{"location":"plugins/entity-scaffolder/frontend/about/#user-interface","title":"User Interface","text":"<ul> <li>Clean and intuitive template browsing</li> <li>Consistent Backstage design language</li> <li>Responsive layout</li> <li>Integrated form handling</li> </ul>"},{"location":"plugins/entity-scaffolder/frontend/about/#components","title":"Components","text":""},{"location":"plugins/entity-scaffolder/frontend/about/#entityscaffoldercontent","title":"EntityScaffolderContent","text":"<p>The main component that provides:</p> <ul> <li>Template listing and filtering</li> <li>Integration with entity context</li> <li>Template form rendering</li> <li>Data pre-population logic</li> </ul> <p>Example usage: <pre><code>&lt;EntityScaffolderContent\n  templateGroupFilters={[\n    {\n      title: 'Crossplane Claims',\n      filter: (entity, template) =&gt;\n        template.metadata?.labels?.forEntity === 'system' &amp;&amp;\n        entity.spec?.type === 'kubernetes-namespace',\n    },\n  ]}\n  buildInitialState={entity =&gt; ({\n    xrNamespace: entity.metadata.name,\n    clusters: [entity.metadata?.annotations?.['backstage.io/managed-by-location']?.split(\": \")[1] ?? '']\n  })}\n/&gt;\n</code></pre></p>"},{"location":"plugins/entity-scaffolder/frontend/about/#template-filters","title":"Template Filters","text":"<p>Configure how templates are filtered and grouped:</p> <ul> <li>Define filter conditions</li> <li>Group templates by purpose</li> <li>Apply entity-specific rules</li> <li>Handle template metadata</li> </ul>"},{"location":"plugins/entity-scaffolder/frontend/about/#initial-state-builder","title":"Initial State Builder","text":"<p>Customize how entity data maps to template fields:</p> <ul> <li>Transform entity metadata</li> <li>Set default values</li> <li>Handle complex data structures</li> <li>Apply business logic</li> </ul>"},{"location":"plugins/entity-scaffolder/frontend/about/#technical-details","title":"Technical Details","text":""},{"location":"plugins/entity-scaffolder/frontend/about/#integration-points","title":"Integration Points","text":"<ul> <li>Backstage Scaffolder</li> <li>Entity Catalog</li> <li>Template Engine</li> <li>Form System</li> </ul>"},{"location":"plugins/entity-scaffolder/frontend/about/#component-props","title":"Component Props","text":""},{"location":"plugins/entity-scaffolder/frontend/about/#entityscaffoldercontent_1","title":"EntityScaffolderContent","text":"<ul> <li><code>templateGroupFilters</code>: Define template filtering and grouping</li> <li><code>buildInitialState</code>: Map entity data to template fields</li> <li><code>additionalTemplateFilters</code>: Extra template filtering rules</li> <li><code>defaultCategory</code>: Default template category</li> </ul>"},{"location":"plugins/entity-scaffolder/frontend/about/#user-experience","title":"User Experience","text":""},{"location":"plugins/entity-scaffolder/frontend/about/#template-discovery","title":"Template Discovery","text":"<ol> <li>Navigate to an entity page</li> <li>Access the templates tab</li> <li>View filtered, relevant templates</li> <li>Select appropriate template</li> </ol>"},{"location":"plugins/entity-scaffolder/frontend/about/#template-usage","title":"Template Usage","text":"<ol> <li>Choose a template</li> <li>Review pre-populated data</li> <li>Fill remaining fields</li> <li>Create from template</li> </ol>"},{"location":"plugins/entity-scaffolder/frontend/about/#template-filtering","title":"Template Filtering","text":"<ol> <li>Templates filtered automatically</li> <li>Grouped by configured categories</li> <li>Only relevant templates shown</li> <li>Entity context considered </li> </ol>"},{"location":"plugins/entity-scaffolder/frontend/configure/","title":"Configuring the Entity Scaffolder Content Frontend Plugin","text":"<p>This guide covers the configuration options available for the Entity Scaffolder Content frontend plugin.</p>"},{"location":"plugins/entity-scaffolder/frontend/configure/#new-frontend-system-configuration-alpha","title":"New Frontend System Configuration (Alpha)","text":"<p>When using the new frontend system through the <code>/alpha</code> export, the plugin is configured automatically with sensible defaults. The configuration options described below are still available and can be customized through the app configuration.</p>"},{"location":"plugins/entity-scaffolder/frontend/configure/#component-configuration","title":"Component Configuration","text":""},{"location":"plugins/entity-scaffolder/frontend/configure/#entityscaffoldercontent-props","title":"EntityScaffolderContent Props","text":"<p>The main component accepts the following configuration props:</p> <pre><code>interface EntityScaffolderContentProps {\n  // Define template filtering and grouping\n  templateGroupFilters: Array&lt;{\n    title: string;\n    filter: (entity: Entity, template: Template) =&gt; boolean;\n  }&gt;;\n\n  // Map entity data to template fields\n  buildInitialState?: (entity: Entity) =&gt; Record&lt;string, unknown&gt;;\n\n  // Scaffolder Field Extensions Support\n  ScaffolderFieldExtensions?: ReactNode;  \n\n  // Default template category\n  defaultCategory?: string;\n}\n</code></pre>"},{"location":"plugins/entity-scaffolder/frontend/configure/#template-group-filters","title":"Template Group Filters","text":"<p>Configure how templates are filtered and grouped based on entity context:</p> <pre><code>const templateGroupFilters = [\n  {\n    title: 'Kubernetes Resources',\n    filter: (entity, template) =&gt;\n      template.metadata?.labels?.type === 'kubernetes' &amp;&amp;\n      entity.spec?.type === 'kubernetes-namespace',\n  },\n  {\n    title: 'Application Templates',\n    filter: (entity, template) =&gt;\n      template.metadata?.labels?.type === 'application' &amp;&amp;\n      entity.spec?.type === 'service',\n  },\n];\n</code></pre>"},{"location":"plugins/entity-scaffolder/frontend/configure/#initial-state-builder","title":"Initial State Builder","text":"<p>Define how entity data maps to template form fields:</p> <pre><code>const buildInitialState = (entity: Entity) =&gt; ({\n  // Basic metadata mapping\n  name: entity.metadata.name,\n  namespace: entity.metadata.namespace,\n\n  // Extract from annotations\n  cluster: entity.metadata?.annotations?.['backstage.io/managed-by-location']?.split(\": \")[1],\n\n  // Custom transformations\n  labels: Object.entries(entity.metadata.labels || {}).map(\n    ([key, value]) =&gt; `${key}=${value}`\n  ),\n});\n</code></pre>"},{"location":"plugins/entity-scaffolder/frontend/configure/#field-extensions-support","title":"Field Extensions Support","text":"<p>Add field extensions support:</p> <pre><code>import { ScaffolderFieldExtensions } from '@backstage/plugin-scaffolder-react';\nimport { EntityPickerFieldExtension, RepoUrlPickerFieldExtension } from '@backstage/plugin-scaffolder';\n\nScaffolderFieldExtensions={\n  &lt;ScaffolderFieldExtensions&gt;\n    &lt;RepoUrlPickerFieldExtension /&gt;\n    &lt;EntityPickerFieldExtension /&gt;\n  &lt;/ScaffolderFieldExtensions&gt;\n}\n</code></pre>"},{"location":"plugins/entity-scaffolder/frontend/configure/#entity-page-integration","title":"Entity Page Integration","text":""},{"location":"plugins/entity-scaffolder/frontend/configure/#basic-integration","title":"Basic Integration","text":"<p>Add the plugin to an entity page:</p> <pre><code>import { EntityScaffolderContent } from '@terasky/backstage-plugin-entity-scaffolder-content';\nimport { GitOpsManifestUpdaterExtension } from '@terasky/backstage-plugin-gitops-manifest-updater';\nimport { ScaffolderFieldExtensions } from '@backstage/plugin-scaffolder-react';\nimport { EntityPickerFieldExtension, RepoUrlPickerFieldExtension } from '@backstage/plugin-scaffolder';\n\nconst entityPage = (\n  &lt;EntityLayout&gt;\n    &lt;EntityLayout.Route \n      path=\"/scaffolder\" \n      title=\"Templates\"\n    &gt;\n      &lt;EntityScaffolderContent\n        templateGroupFilters={templateGroupFilters}\n        buildInitialState={buildInitialState}\n        ScaffolderFieldExtensions={\n          &lt;ScaffolderFieldExtensions&gt;\n            &lt;RepoUrlPickerFieldExtension /&gt;\n            &lt;EntityPickerFieldExtension /&gt;\n            &lt;GitOpsManifestUpdaterExtension /&gt;\n          &lt;/ScaffolderFieldExtensions&gt;\n        }\n      /&gt;\n    &lt;/EntityLayout.Route&gt;\n  &lt;/EntityLayout&gt;\n);\n</code></pre>"},{"location":"plugins/entity-scaffolder/frontend/configure/#advanced-integration","title":"Advanced Integration","text":"<p>Configure for multiple entity types:</p> <pre><code>const serviceEntityPage = (\n  &lt;EntityLayout&gt;\n    &lt;EntityLayout.Route \n      path=\"/scaffolder\" \n      title=\"Service Templates\"\n    &gt;\n      &lt;EntityScaffolderContent\n        templateGroupFilters={[\n          {\n            title: 'Service Templates',\n            filter: (entity, template) =&gt;\n              template.metadata?.labels?.type === 'service' &amp;&amp;\n              entity.spec?.type === 'service',\n          },\n        ]}\n        buildInitialState={entity =&gt; ({\n          serviceName: entity.metadata.name,\n          owner: entity.spec?.owner,\n          type: entity.spec?.type,\n        })}\n        defaultCategory=\"Service Templates\"\n      /&gt;\n    &lt;/EntityLayout.Route&gt;\n  &lt;/EntityLayout&gt;\n);\n\nconst systemEntityPage = (\n  &lt;EntityLayout&gt;\n    &lt;EntityLayout.Route \n      path=\"/scaffolder\" \n      title=\"System Templates\"\n    &gt;\n      &lt;EntityScaffolderContent\n        templateGroupFilters={[\n          {\n            title: 'System Resources',\n            filter: (entity, template) =&gt;\n              template.metadata?.labels?.type === 'system' &amp;&amp;\n              entity.spec?.type === 'system',\n          },\n        ]}\n        buildInitialState={entity =&gt; ({\n          systemName: entity.metadata.name,\n          environment: entity.spec?.environment,\n        })}\n        defaultCategory=\"System Resources\"\n      /&gt;\n    &lt;/EntityLayout.Route&gt;\n  &lt;/EntityLayout&gt;\n);\n</code></pre>"},{"location":"plugins/entity-scaffolder/frontend/configure/#best-practices","title":"Best Practices","text":"<ol> <li> <p>Template Filtering</p> <ul> <li>Use clear, descriptive group titles</li> <li>Keep filter conditions simple and maintainable</li> <li>Consider template metadata structure</li> <li>Handle edge cases gracefully</li> </ul> </li> <li> <p>Data Mapping</p> <ul> <li>Validate entity data before mapping</li> <li>Provide sensible defaults</li> <li>Document data transformations</li> <li>Handle missing data gracefully</li> </ul> </li> <li> <p>Entity Integration</p> <ul> <li>Use consistent route paths</li> <li>Group related templates logically</li> <li>Consider user workflow</li> <li>Maintain clear navigation</li> </ul> </li> </ol> <p>For installation instructions, refer to the Installation Guide. </p>"},{"location":"plugins/entity-scaffolder/frontend/install/","title":"Installing the Entity Scaffolder Content Frontend Plugin","text":"<p>This guide will help you install and set up the Entity Scaffolder Content frontend plugin in your Backstage instance.</p>"},{"location":"plugins/entity-scaffolder/frontend/install/#prerequisites","title":"Prerequisites","text":"<p>Before installing the plugin, ensure you have:</p> <ol> <li>A working Backstage instance</li> <li>The Scaffolder plugin installed and configured</li> <li>Access to entity pages where you want to embed templates</li> </ol>"},{"location":"plugins/entity-scaffolder/frontend/install/#installation-steps","title":"Installation Steps","text":""},{"location":"plugins/entity-scaffolder/frontend/install/#1-add-the-package","title":"1. Add the Package","text":"<p>Install the plugin package using yarn:</p> <pre><code>yarn --cwd packages/app add @terasky/backstage-plugin-entity-scaffolder-content\n</code></pre>"},{"location":"plugins/entity-scaffolder/frontend/install/#2-add-to-entity-page","title":"2. Add to Entity Page","text":"<p>Modify your entity page configuration in <code>packages/app/src/components/catalog/EntityPage.tsx</code>:</p> <pre><code>import { EntityScaffolderContent } from '@terasky/backstage-plugin-entity-scaffolder-content';\n\n// Example for system entity page\nconst systemPage = (\n  &lt;EntityLayout&gt;\n    {/* ... other routes ... */}\n\n    &lt;EntityLayout.Route path=\"/scaffolder\" title=\"Templates\"&gt;\n      &lt;EntityScaffolderContent\n        templateGroupFilters={[\n          {\n            title: 'System Templates',\n            filter: (entity, template) =&gt;\n              template.metadata?.labels?.forEntity === 'system' &amp;&amp;\n              entity.spec?.type === 'kubernetes-namespace',\n          },\n        ]}\n        buildInitialState={entity =&gt; ({\n          namespace: entity.metadata.name,\n          // Add other initial state mappings\n        })}\n      /&gt;\n    &lt;/EntityLayout.Route&gt;\n  &lt;/EntityLayout&gt;\n);\n\n// Add similar configurations for other entity pages as needed\n</code></pre>"},{"location":"plugins/entity-scaffolder/frontend/install/#new-frontend-system-support-alpha","title":"New Frontend System Support (Alpha)","text":"<p>The plugin now supports the new frontend system available in the <code>/alpha</code> export. To use this:</p> <pre><code>import { createApp } from '@backstage/frontend-defaults';\nimport { entityScaffolderContentPlugin } from '@terasky/backstage-plugin-entity-scaffolder-content/alpha';\n\nexport default createApp({\n  features: [\n    ...\n    entityScaffolderContentPlugin,\n    ...\n  ],\n});\n</code></pre> <p>This replaces the need for manual route configuration in <code>EntityPage.tsx</code> and other files. The plugin will be automatically integrated into the appropriate entity pages.</p>"},{"location":"plugins/entity-scaffolder/frontend/install/#verification","title":"Verification","text":"<p>After installation, verify that:</p> <ol> <li>The plugin appears in your package.json dependencies</li> <li>The templates tab appears on configured entity pages</li> <li>Templates are properly filtered based on entity context</li> <li>Template forms are pre-populated with entity data</li> </ol>"},{"location":"plugins/entity-scaffolder/frontend/install/#troubleshooting","title":"Troubleshooting","text":"<p>Common issues and solutions:</p> <ol> <li> <p>Templates Tab Not Showing</p> <ul> <li>Verify EntityLayout.Route configuration</li> <li>Check component import path</li> <li>Ensure entity page configuration is applied</li> </ul> </li> <li> <p>Templates Not Filtered</p> <ul> <li>Review templateGroupFilters configuration</li> <li>Check template metadata and labels</li> <li>Verify entity type matching</li> </ul> </li> <li> <p>Form Pre-population Issues</p> <ul> <li>Check buildInitialState function</li> <li>Verify entity data access</li> <li>Review data transformation logic</li> </ul> </li> </ol> <p>For configuration options and customization, proceed to the Configuration Guide. </p>"},{"location":"plugins/gitops-manifest-updater/overview/","title":"GitOps Manifest Updater Plugin","text":"<p>The GitOps Manifest Updater plugin provides a powerful form component for updating Kubernetes manifests in Git repositories. It dynamically generates forms based on OpenAPI schemas from Custom Resource Definitions (CRDs), making it easy to update manifest specifications while maintaining GitOps best practices.</p>"},{"location":"plugins/gitops-manifest-updater/overview/#features","title":"Features","text":"<ul> <li>Dynamic Form Generation: Automatically create forms from CRD OpenAPI schemas</li> <li>Multiple API Formats: Supports both CRD-type and OpenAPI-type API entities (requires api-docs-module-crd for CRD-type)</li> <li>Git Integration: Seamless integration with GitHub and GitLab through Backstage's SCM integration</li> <li>Automated PR Creation: Automatically create pull requests with manifest changes</li> <li>Flexible Configuration: Support for both entity annotations and manual URL input</li> <li>Structure Preservation: Maintains file paths and directory structure</li> <li>Scaffolder Integration: Works as a field extension in Backstage's scaffolder</li> </ul>"},{"location":"plugins/gitops-manifest-updater/overview/#plugin-components","title":"Plugin Components","text":""},{"location":"plugins/gitops-manifest-updater/overview/#frontend-plugin","title":"Frontend Plugin","text":"<p>The plugin provides frontend components for:</p> <ul> <li>Dynamic form generation and validation</li> <li>Git repository integration</li> <li>Pull request creation and management</li> <li>Manifest file handling</li> </ul> <p>Learn more about the frontend plugin</p>"},{"location":"plugins/gitops-manifest-updater/overview/#documentation-structure","title":"Documentation Structure","text":"<ul> <li>About</li> <li>Installation</li> <li>Configuration</li> </ul>"},{"location":"plugins/gitops-manifest-updater/overview/#example-usage","title":"Example Usage","text":"<p>The plugin can be used in various scenarios:</p> <ol> <li> <p>Component Updates</p> <ul> <li>Update deployment configurations</li> <li>Modify resource requests/limits</li> <li>Change environment variables</li> </ul> </li> <li> <p>Infrastructure Management</p> <ul> <li>Update Crossplane resources</li> <li>Modify cluster configurations</li> <li>Adjust infrastructure settings</li> </ul> </li> <li> <p>Application Configuration</p> <ul> <li>Update application settings</li> <li>Modify feature flags</li> <li>Change runtime parameters</li> </ul> </li> </ol>"},{"location":"plugins/gitops-manifest-updater/overview/#getting-started","title":"Getting Started","text":"<p>To get started with the GitOps Manifest Updater plugin:</p> <ol> <li>Install the frontend plugin</li> <li>Configure scaffolder integration</li> <li>Set up Git repository access</li> <li>Start using dynamic manifest forms</li> </ol> <p>For detailed installation and configuration instructions, refer to the frontend documentation linked above.</p>"},{"location":"plugins/gitops-manifest-updater/frontend/about/","title":"GitOps Manifest Updater Frontend Plugin","text":""},{"location":"plugins/gitops-manifest-updater/frontend/about/#overview","title":"Overview","text":"<p>The GitOps Manifest Updater frontend plugin provides a dynamic form component that integrates with Backstage's scaffolder to enable easy updates to Kubernetes manifests in Git repositories. The plugin uses OpenAPI schemas from CRDs to generate intuitive forms for updating manifest specifications.</p>"},{"location":"plugins/gitops-manifest-updater/frontend/about/#features","title":"Features","text":""},{"location":"plugins/gitops-manifest-updater/frontend/about/#dynamic-form-generation","title":"Dynamic Form Generation","text":"<ul> <li>Automatic form creation from CRD schemas</li> <li>Support for CRD-type API entities (with full CRD YAML)</li> <li>Support for OpenAPI-type API entities (with generated OpenAPI specs)</li> <li>Field validation based on OpenAPI v3 schemas</li> <li>Support for complex data structures</li> <li>Custom field renderers</li> </ul>"},{"location":"plugins/gitops-manifest-updater/frontend/about/#git-integration","title":"Git Integration","text":"<ul> <li>GitHub repository support</li> <li>Automatic PR creation</li> <li>Branch management</li> <li>File path preservation</li> </ul>"},{"location":"plugins/gitops-manifest-updater/frontend/about/#scaffolder-integration","title":"Scaffolder Integration","text":"<ul> <li>Custom field extension</li> <li>Template compatibility</li> <li>Context-aware defaults</li> <li>Entity data integration</li> </ul>"},{"location":"plugins/gitops-manifest-updater/frontend/about/#user-interface","title":"User Interface","text":"<ul> <li>Intuitive form layout</li> <li>Real-time validation</li> <li>Error handling</li> <li>Progress feedback</li> </ul>"},{"location":"plugins/gitops-manifest-updater/frontend/about/#components","title":"Components","text":""},{"location":"plugins/gitops-manifest-updater/frontend/about/#gitopsmanifestupdaterextension","title":"GitOpsManifestUpdaterExtension","text":"<p>The main component that provides:</p> <ul> <li>Form generation and handling</li> <li>Git repository integration</li> <li>PR creation workflow</li> <li>Schema validation</li> </ul> <p>Example usage: <pre><code>&lt;ScaffolderFieldExtensions&gt;\n  &lt;GitOpsManifestUpdaterExtension /&gt;\n&lt;/ScaffolderFieldExtensions&gt;\n</code></pre></p>"},{"location":"plugins/gitops-manifest-updater/frontend/about/#form-generation","title":"Form Generation","text":"<p>The plugin generates forms based on:</p> <ul> <li>CRD OpenAPI schemas</li> <li>Field definitions</li> <li>Validation rules</li> <li>Default values</li> </ul>"},{"location":"plugins/gitops-manifest-updater/frontend/about/#repository-integration","title":"Repository Integration","text":"<p>Handles repository operations:</p> <ul> <li>File reading</li> <li>Change tracking</li> <li>PR creation</li> <li>Branch management</li> </ul>"},{"location":"plugins/gitops-manifest-updater/frontend/about/#technical-details","title":"Technical Details","text":""},{"location":"plugins/gitops-manifest-updater/frontend/about/#integration-points","title":"Integration Points","text":"<ul> <li>Backstage Scaffolder</li> <li>GitHub API</li> <li>OpenAPI Schema Parser</li> <li>Form System</li> </ul>"},{"location":"plugins/gitops-manifest-updater/frontend/about/#component-props","title":"Component Props","text":""},{"location":"plugins/gitops-manifest-updater/frontend/about/#gitopsmanifestupdaterextension_1","title":"GitOpsManifestUpdaterExtension","text":"<ul> <li>Integrates with scaffolder field extensions</li> <li>Handles form state management</li> <li>Processes manifest updates</li> <li>Creates pull requests</li> </ul>"},{"location":"plugins/gitops-manifest-updater/frontend/about/#schema-handling","title":"Schema Handling","text":"<ul> <li>OpenAPI schema parsing</li> <li>Form field mapping</li> <li>Validation rules</li> <li>Default value handling</li> </ul>"},{"location":"plugins/gitops-manifest-updater/frontend/about/#user-experience","title":"User Experience","text":""},{"location":"plugins/gitops-manifest-updater/frontend/about/#manifest-updates","title":"Manifest Updates","text":"<ol> <li>Select target repository</li> <li>Choose manifest file</li> <li>Update fields in form</li> <li>Submit changes</li> </ol>"},{"location":"plugins/gitops-manifest-updater/frontend/about/#pull-request-creation","title":"Pull Request Creation","text":"<ol> <li>Changes detected</li> <li>Branch created</li> <li>PR generated</li> <li>Review and merge</li> </ol>"},{"location":"plugins/gitops-manifest-updater/frontend/about/#form-interaction","title":"Form Interaction","text":"<ol> <li>Dynamic field rendering</li> <li>Real-time validation</li> <li>Error feedback</li> <li>Submit confirmation</li> </ol>"},{"location":"plugins/gitops-manifest-updater/frontend/about/#example-integrations","title":"Example Integrations","text":""},{"location":"plugins/gitops-manifest-updater/frontend/about/#entity-page-integration","title":"Entity Page Integration","text":"<pre><code>const serviceEntityPage = (\n  &lt;EntityLayout&gt;\n    &lt;EntityLayout.Route path=\"/scaffolder\" title=\"Entity Scaffolder\"&gt;\n      &lt;EntityScaffolderContent\n        templateGroupFilters={[\n          {\n            title: 'Management Templates',\n            filter: (entity, template) =&gt;\n              template.metadata?.labels?.target === 'component',\n          },\n        ]}\n        buildInitialState={entity =&gt; ({\n          entity: stringifyEntityRef(entity)\n        })}\n        ScaffolderFieldExtensions={\n          &lt;ScaffolderFieldExtensions&gt;\n            &lt;GitOpsManifestUpdaterExtension /&gt;\n          &lt;/ScaffolderFieldExtensions&gt;\n        }\n      /&gt;\n    &lt;/EntityLayout.Route&gt;\n  &lt;/EntityLayout&gt;\n);\n</code></pre>"},{"location":"plugins/gitops-manifest-updater/frontend/about/#template-integration","title":"Template Integration","text":"<pre><code>apiVersion: scaffolder.backstage.io/v1beta3\nkind: Template\nmetadata:\n  name: update-manifest\n  title: Update Kubernetes Manifest\nspec:\n  parameters:\n    - title: Update Manifest\n      properties:\n        manifestUpdate:\n          title: Manifest Update\n          type: string\n          ui:field: GitOpsManifestUpdater\n          ui:options:\n            repositoryUrl: ${{ parameters.repoUrl }}\n            branch: main\n            path: manifests/\n</code></pre> <p>For installation and configuration details, refer to the Installation Guide and Configuration Guide.</p>"},{"location":"plugins/gitops-manifest-updater/frontend/configure/","title":"Configuring the GitOps Manifest Updater Frontend Plugin","text":"<p>This guide covers the configuration options available for the GitOps Manifest Updater frontend plugin.</p>"},{"location":"plugins/gitops-manifest-updater/frontend/configure/#new-frontend-system-configuration-alpha","title":"New Frontend System Configuration (Alpha)","text":"<p>When using the new frontend system through the <code>/alpha</code> export, the plugin is configured automatically with sensible defaults. The plugin will be automatically integrated into the appropriate locations without requiring manual route configuration.</p>"},{"location":"plugins/gitops-manifest-updater/frontend/configure/#api-entity-type-support","title":"API Entity Type Support","text":"<p>The GitOps Manifest Updater plugin automatically supports both API entity formats generated by the kubernetes-ingestor plugin:</p>"},{"location":"plugins/gitops-manifest-updater/frontend/configure/#crd-type-api-entities-default","title":"CRD-Type API Entities (Default)","text":"<p>When the kubernetes-ingestor is configured with <code>ingestAPIsAsCRDs: true</code> (default), the plugin: - Reads the full CRD YAML definition from the API entity - Extracts the OpenAPI v3 schema from the CRD's version specifications - Matches the correct version based on the manifest's apiVersion - Generates the form using the extracted schema</p> <p>Requirements: - The <code>@terasky/backstage-plugin-api-docs-module-crd</code> plugin must be installed for viewing CRD-type API documentation in Backstage - No additional configuration needed for the GitOps Manifest Updater - it works automatically</p>"},{"location":"plugins/gitops-manifest-updater/frontend/configure/#openapi-type-api-entities-legacy","title":"OpenAPI-Type API Entities (Legacy)","text":"<p>When the kubernetes-ingestor is configured with <code>ingestAPIsAsCRDs: false</code>, the plugin: - Reads the generated OpenAPI specification from the API entity - Extracts the Resource schema from <code>components.schemas.Resource</code> - Uses the spec properties to generate the form</p> <p>Both formats are automatically detected and handled by the plugin, ensuring seamless operation regardless of your kubernetes-ingestor configuration.</p>"},{"location":"plugins/gitops-manifest-updater/frontend/configure/#example-configuration-for-github-based-scm","title":"Example Configuration for GitHub based SCM","text":"<pre><code>apiVersion: scaffolder.backstage.io/v1beta3\nkind: Template\nmetadata:\n  name: update-kubernetes-manifest\n  title: Update Kubernetes Manifest\n  labels:\n    target: component\n  description: A template to update a claim manifest in Git based on the registered OpenAPI Schema of the XRD\nspec:\n  owner: user:guest\n  type: service\n  parameters:\n    - title: Entity Selection\n      required:\n        - entity\n      properties:\n        entity:\n          title: Entity\n          type: string\n          description: Select the entity to update\n          ui:field: EntityPicker\n          ui:options:\n            catalogFilter:\n              - kind: Component\n        sourceFileUrl:\n          title: Source File URL\n          type: string\n          description: Override the source file URL (optional - only needed if entity doesn't have terasky.backstage.io/source-file-url annotation)\n    - title: GitOps Manifest Updater\n      required:\n        - gitOpsManifestUpdater\n      properties:\n        gitOpsManifestUpdater:\n          title: GitOps Manifest Updater\n          type: object\n          ui:field: GitOpsManifestUpdater\n  steps:\n    - id: get-entity\n      name: Get Entity\n      action: catalog:fetch\n      input:\n        entityRef: ${{ parameters.entity }}\n\n    - id: get-annotation-url\n      name: Get Annotation URL\n      action: roadiehq:utils:jsonata\n      input:\n        data: \n          annotations: ${{ steps['get-entity'].output.entity.metadata.annotations }}\n        expression: |\n          annotations.\"terasky.backstage.io/source-file-url\"\n\n    - id: resolve-url\n      name: Resolve URL\n      action: roadiehq:utils:jsonata\n      input:\n        data: \n          sourceFileUrl: ${{ parameters.sourceFileUrl }}\n          annotationUrl: ${{ steps['get-annotation-url'].output.result }}\n        expression: |\n          $exists(sourceFileUrl) ? sourceFileUrl : annotationUrl\n\n    - id: validate-url\n      name: Validate URL\n      action: roadiehq:utils:jsonata\n      input:\n        data: ${{ steps['resolve-url'].output.result }}\n        expression: |\n          $string($) ? $ : $error(\"No source URL provided. Please either add the terasky.backstage.io/source-file-url annotation to the entity or provide a sourceFileUrl parameter\")\n\n    - id: get-filepath\n      name: Get File Path\n      action: roadiehq:utils:jsonata\n      input:\n        data: ${{ steps['validate-url'].output.result }}\n        expression: |\n          $join($filter($split($, \"/\"), function($v, $i) { $i &gt;= 7}), \"/\")\n\n    - id: fetch-base\n      name: Fetch Current Manifest\n      action: fetch:plain:file\n      input:\n        url: ${{ steps['validate-url'].output.result }}\n        targetPath: ${{ steps['get-filepath'].output.result }}\n\n    - id: read-original\n      name: Read Original File\n      action: roadiehq:utils:fs:parse\n      input:\n        path: ${{ steps['get-filepath'].output.result }}\n        parser: yaml\n\n    - id: rebuild-manifest\n      name: Rebuild Manifest\n      action: roadiehq:utils:jsonata\n      input:\n        data:\n          original: ${{ steps['read-original'].output.content }}\n          updates: ${{ parameters.gitOpsManifestUpdater }}\n        expression: |\n          (\n            $newSpec := updates.spec ? updates.spec : updates;\n            $updatedMetadata := original.metadata;\n\n            /* Merge labels if provided */\n            $updatedMetadata := updates.metadata.labels ? \n              $merge([$updatedMetadata, {\"labels\": updates.metadata.labels}]) : \n              $updatedMetadata;\n\n            /* Merge annotations if provided */\n            $updatedMetadata := updates.metadata.annotations ? \n              $merge([$updatedMetadata, {\"annotations\": updates.metadata.annotations}]) : \n              $updatedMetadata;\n\n            {\n              \"apiVersion\": original.apiVersion,\n              \"kind\": original.kind,\n              \"metadata\": $updatedMetadata,\n              \"spec\": $newSpec\n            }\n          )\n\n    - id: write-updated\n      name: Write Updated File\n      action: roadiehq:utils:serialize:yaml\n      input:\n        data: ${{ steps['rebuild-manifest'].output.result }}\n\n    - id: save-file\n      name: Save File\n      action: roadiehq:utils:fs:write\n      input:\n        path: ${{ steps['get-filepath'].output.result }}\n        content: ${{ steps['write-updated'].output.serialized }}\n\n    - id: parse-url\n      name: Parse URL for PR\n      action: roadiehq:utils:jsonata\n      input:\n        data: ${{ steps['validate-url'].output.result }}\n        expression: |\n          {\n            \"owner\": $split($, \"/\")[3],\n            \"repo\": $split($, \"/\")[4],\n            \"branch\": $split($, \"/\")[6]\n          }\n\n    - id: format-branch-name\n      name: Format Branch Name\n      action: roadiehq:utils:jsonata\n      input:\n        data: ${{ steps['validate-url'].output.result }}\n        expression: |\n          \"backstage-sourced-update-\" &amp; $join($filter($split($, \"/\"), function($v, $i) { $i &gt;= 7}), \"-\")\n\n    - id: create-pull-request\n      name: create-pull-request\n      action: publish:github:pull-request\n      input:\n        repoUrl: ${{ 'github.com?owner=' + steps['parse-url'].output.result.owner + '&amp;repo=' + steps['parse-url'].output.result.repo }}\n        branchName: ${{ steps['format-branch-name'].output.result }}\n        title: Updating Kubernetes YAML for ${{ steps['get-entity'].output.entity.metadata.name }}\n        description: Updating Kubernetes YAML for ${{ steps['get-entity'].output.entity.metadata.name }}\n        targetBranchName: ${{ steps['parse-url'].output.result.branch }}\n\n  output:\n    links:\n      - title: Pull Request\n        url: ${{ steps['create-pull-request'].output.remoteUrl }}\n      - title: Download YAML Manifest\n        url: data:application/yaml;charset=utf-8,${{ steps['write-updated'].output.serialized }}\n</code></pre>"},{"location":"plugins/gitops-manifest-updater/frontend/configure/#example-configuration-for-gitlab-based-scm","title":"Example Configuration for Gitlab based SCM","text":"<pre><code>apiVersion: scaffolder.backstage.io/v1beta3\nkind: Template\nmetadata:\n  name: update-kubernetes-manifest-gitlab\n  title: Update Kubernetes Manifest From Gitlab\n  labels:\n    target: component\n  description: A template to update a claim manifest in Git based on the registered OpenAPI Schema of the XRD\nspec:\n  owner: user:guest\n  type: service\n  parameters:\n    - title: Entity Selection\n      required:\n        - entity\n      properties:\n        entity:\n          title: Entity\n          type: string\n          description: Select the entity to update\n          ui:field: EntityPicker\n          ui:options:\n            catalogFilter:\n              - kind: Component\n        sourceFileUrl:\n          title: Source File URL\n          type: string\n          description: Override the source file URL (optional - only needed if entity doesn't have terasky.backstage.io/source-file-url annotation)\n    - title: GitOps Manifest Updater\n      required:\n        - gitOpsManifestUpdater\n      properties:\n        gitOpsManifestUpdater:\n          title: GitOps Manifest Updater\n          type: object\n          ui:field: GitOpsManifestUpdater\n  steps:\n    - id: get-entity\n      name: Get Entity\n      action: catalog:fetch\n      input:\n        entityRef: ${{ parameters.entity }}\n\n    - id: get-annotation-url\n      name: Get Annotation URL\n      action: roadiehq:utils:jsonata\n      input:\n        data: \n          annotations: ${{ steps['get-entity'].output.entity.metadata.annotations }}\n        expression: |\n          annotations.\"terasky.backstage.io/source-file-url\"\n\n    - id: resolve-url\n      name: Resolve URL\n      action: roadiehq:utils:jsonata\n      input:\n        data: \n          sourceFileUrl: ${{ parameters.sourceFileUrl }}\n          annotationUrl: ${{ steps['get-annotation-url'].output.result }}\n        expression: |\n          $exists(sourceFileUrl) ? sourceFileUrl : annotationUrl\n\n    - id: validate-url\n      name: Validate URL\n      action: roadiehq:utils:jsonata\n      input:\n        data: ${{ steps['resolve-url'].output.result }}\n        expression: |\n          $string($) ? $ : $error(\"No source URL provided. Please either add the terasky.backstage.io/source-file-url annotation to the entity or provide a sourceFileUrl parameter\")\n\n    - id: get-filepath\n      name: Get File Path\n      action: roadiehq:utils:jsonata\n      input:\n        data: ${{ steps['validate-url'].output.result }}\n        expression: |\n          $join($filter($split($, \"/\"), function($v, $i) { $i &gt;= 8}), \"/\")\n\n    - id: fetch-base\n      name: Fetch Current Manifest\n      action: fetch:plain:file\n      input:\n        url: ${{ steps['validate-url'].output.result }}\n        targetPath: ${{ steps['get-filepath'].output.result }}\n\n    - id: read-original\n      name: Read Original File\n      action: roadiehq:utils:fs:parse\n      input:\n        path: ${{ steps['get-filepath'].output.result }}\n        parser: yaml\n\n    - id: rebuild-manifest\n      name: Rebuild Manifest\n      action: roadiehq:utils:jsonata\n      input:\n        data:\n          original: ${{ steps['read-original'].output.content }}\n          updates: ${{ parameters.gitOpsManifestUpdater }}\n        expression: |\n          (\n            $newSpec := updates.spec ? updates.spec : updates;\n            $updatedMetadata := original.metadata;\n\n            /* Merge labels if provided */\n            $updatedMetadata := updates.metadata.labels ? \n              $merge([$updatedMetadata, {\"labels\": updates.metadata.labels}]) : \n              $updatedMetadata;\n\n            /* Merge annotations if provided */\n            $updatedMetadata := updates.metadata.annotations ? \n              $merge([$updatedMetadata, {\"annotations\": updates.metadata.annotations}]) : \n              $updatedMetadata;\n\n            {\n              \"apiVersion\": original.apiVersion,\n              \"kind\": original.kind,\n              \"metadata\": $updatedMetadata,\n              \"spec\": $newSpec\n            }\n          )\n\n    - id: write-updated\n      name: Write Updated File\n      action: roadiehq:utils:serialize:yaml\n      input:\n        data: ${{ steps['rebuild-manifest'].output.result }}\n\n    - id: save-file\n      name: Save File\n      action: roadiehq:utils:fs:write\n      input:\n        path: ${{ steps['get-filepath'].output.result }}\n        content: ${{ steps['write-updated'].output.serialized }}\n\n    - id: parse-url\n      name: Parse URL for PR\n      action: roadiehq:utils:jsonata\n      input:\n        data: ${{ steps['validate-url'].output.result }}\n        expression: |\n          {\n            \"owner\": $split($, \"/\")[3],\n            \"repo\": $split($, \"/\")[4],\n            \"branch\": $split($, \"/\")[7]\n          }\n\n    - id: format-branch-name\n      name: Format Branch Name\n      action: roadiehq:utils:jsonata\n      input:\n        data: ${{ steps['validate-url'].output.result }}\n        expression: |\n          \"backstage-sourced-update-\" &amp; $join($filter($split($, \"/\"), function($v, $i) { $i &gt;= 8}), \"-\")\n\n    - id: create-merge-request\n      name: create-merge-request\n      action: publish:gitlab:merge-request\n      input:\n        repoUrl: ${{ 'gitlab.com?owner=' + steps['parse-url'].output.result.owner + '&amp;repo=' + steps['parse-url'].output.result.repo }}\n        branchName: ${{ steps['format-branch-name'].output.result }}\n        title: Updating Kubernetes YAML for ${{ steps['get-entity'].output.entity.metadata.name }}\n        description: Updating Kubernetes YAML for ${{ steps['get-entity'].output.entity.metadata.name }}\n        targetBranchName: ${{ steps['parse-url'].output.result.branch }}\n\n  output:\n    links:\n      - title: Merge Request\n        url: ${{ steps['create-merge-request'].output.mergeRequestUrl }}\n      - title: Download YAML Manifest\n        url: data:application/yaml;charset=utf-8,${{ steps['write-updated'].output.serialized }}\n</code></pre>"},{"location":"plugins/gitops-manifest-updater/frontend/configure/#component-configuration","title":"Component Configuration","text":""},{"location":"plugins/gitops-manifest-updater/frontend/configure/#dependencies","title":"Dependencies","text":"<p>When using CRD-type API entities (the default format from kubernetes-ingestor), ensure you have the api-docs-module-crd plugin installed:</p> <pre><code>yarn workspace app add @terasky/backstage-plugin-api-docs-module-crd\n</code></pre> <p>The api-docs-module-crd plugin is required for: - Viewing CRD-type API documentation in Backstage - Proper rendering of CRD schemas in the API docs page</p> <p>The GitOps Manifest Updater plugin itself works with both API types without additional configuration.</p>"},{"location":"plugins/gitops-manifest-updater/frontend/configure/#integration-examples","title":"Integration Examples","text":""},{"location":"plugins/gitops-manifest-updater/frontend/configure/#basic-integration","title":"Basic Integration","text":"<pre><code>&lt;ScaffolderFieldExtensions&gt;\n  &lt;GitOpsManifestUpdaterExtension /&gt;\n&lt;/ScaffolderFieldExtensions&gt;\n</code></pre>"},{"location":"plugins/gitops-manifest-updater/frontend/configure/#advanced-integration","title":"Advanced Integration","text":"<pre><code>&lt;ScaffolderFieldExtensions&gt;\n  &lt;GitOpsManifestUpdaterExtension\n    defaultBranch=\"develop\"\n    defaultPath=\"k8s/\"\n    schemaValidator={customValidator}\n    pullRequestCreator={customPRCreator}\n  /&gt;\n&lt;/ScaffolderFieldExtensions&gt;\n</code></pre>"},{"location":"plugins/gitops-manifest-updater/frontend/configure/#best-practices","title":"Best Practices","text":"<ol> <li> <p>Template Design</p> <ul> <li>Use clear, descriptive titles</li> <li>Provide helpful descriptions</li> <li>Set appropriate default values</li> <li>Include validation rules</li> </ul> </li> <li> <p>Repository Structure</p> <ul> <li>Organize manifests logically</li> <li>Use consistent file paths</li> <li>Follow GitOps practices</li> <li>Maintain clear documentation</li> </ul> </li> <li> <p>Pull Requests</p> <ul> <li>Use descriptive titles</li> <li>Provide detailed descriptions</li> <li>Apply appropriate labels</li> <li>Follow team conventions</li> </ul> </li> </ol> <p>For installation instructions, refer to the Installation Guide.</p>"},{"location":"plugins/gitops-manifest-updater/frontend/install/","title":"Installing the GitOps Manifest Updater Frontend Plugin","text":"<p>This guide will help you install and set up the GitOps Manifest Updater frontend plugin in your Backstage instance.</p>"},{"location":"plugins/gitops-manifest-updater/frontend/install/#prerequisites","title":"Prerequisites","text":"<p>Before installing the plugin, ensure you have:</p> <ol> <li>A working Backstage instance</li> <li>The Scaffolder plugin installed and configured</li> <li>Access to GitHub repositories</li> <li>Kubernetes CRDs with OpenAPI schemas</li> </ol>"},{"location":"plugins/gitops-manifest-updater/frontend/install/#installation-steps","title":"Installation Steps","text":""},{"location":"plugins/gitops-manifest-updater/frontend/install/#1-add-the-package","title":"1. Add the Package","text":"<p>Install the plugin package using yarn:</p> <pre><code>yarn --cwd packages/app add @terasky/backstage-plugin-gitops-manifest-updater\n</code></pre>"},{"location":"plugins/gitops-manifest-updater/frontend/install/#2-add-to-scaffolder-route","title":"2. Add to Scaffolder Route","text":"<p>Modify your app routes in <code>packages/app/src/App.tsx</code>:</p> <pre><code>import { GitOpsManifestUpdaterExtension } from '@terasky/backstage-plugin-gitops-manifest-updater';\nimport { ScaffolderFieldExtensions } from '@backstage/plugin-scaffolder-react';\n\nconst routes = (\n  &lt;FlatRoutes&gt;\n    {/* ... other routes ... */}\n    &lt;Route path=\"/create\" element={&lt;ScaffolderPage /&gt;}&gt;\n      &lt;ScaffolderFieldExtensions&gt;\n        &lt;GitOpsManifestUpdaterExtension /&gt;\n      &lt;/ScaffolderFieldExtensions&gt;\n    &lt;/Route&gt;\n  &lt;/FlatRoutes&gt;\n);\n</code></pre>"},{"location":"plugins/gitops-manifest-updater/frontend/install/#3-add-to-entity-pages","title":"3. Add to Entity Pages","text":"<p>Add the plugin to your entity pages in <code>packages/app/src/components/catalog/EntityPage.tsx</code>:</p> <pre><code>import { GitOpsManifestUpdaterExtension } from '@terasky/backstage-plugin-gitops-manifest-updater';\nimport { ScaffolderFieldExtensions } from '@backstage/plugin-scaffolder-react';\n\nconst serviceEntityPage = (\n  &lt;EntityLayout&gt;\n    &lt;EntityLayout.Route path=\"/scaffolder\" title=\"Entity Scaffolder\"&gt;\n      &lt;EntityScaffolderContent\n        templateGroupFilters={[\n          {\n            title: 'Management Templates',\n            filter: (entity, template) =&gt;\n              template.metadata?.labels?.target === 'component',\n          },\n        ]}\n        buildInitialState={entity =&gt; ({\n          entity: stringifyEntityRef(entity)\n        })}\n        ScaffolderFieldExtensions={\n          &lt;ScaffolderFieldExtensions&gt;\n            &lt;RepoUrlPickerFieldExtension /&gt;\n            &lt;EntityPickerFieldExtension /&gt;\n            &lt;GitOpsManifestUpdaterExtension /&gt;\n          &lt;/ScaffolderFieldExtensions&gt;\n        }\n      /&gt;\n    &lt;/EntityLayout.Route&gt;\n  &lt;/EntityLayout&gt;\n);\n</code></pre>"},{"location":"plugins/gitops-manifest-updater/frontend/install/#4-add-example-template","title":"4. Add Example Template","text":"<p>Add the example template to your templates directory:</p> <pre><code>apiVersion: scaffolder.backstage.io/v1beta3\nkind: Template\nmetadata:\n  name: update-kubernetes-manifest\n  title: Update Kubernetes Manifest\n  labels:\n    target: component\n  description: A template to update a claim manifest in Git based on the registered OpenAPI Schema of the XRD\nspec:\n  owner: user:guest\n  type: service\n  parameters:\n    - title: Entity Selection\n      required:\n        - entity\n      properties:\n        entity:\n          title: Entity\n          type: string\n          description: Select the entity to update\n          ui:field: EntityPicker\n          ui:options:\n            catalogFilter:\n              - kind: Component\n        sourceFileUrl:\n          title: Source File URL\n          type: string\n          description: Override the source file URL (optional - only needed if entity doesn't have terasky.backstage.io/source-file-url annotation)\n    - title: GitOps Manifest Updater\n      required:\n        - gitOpsManifestUpdater\n      properties:\n        gitOpsManifestUpdater:\n          title: GitOps Manifest Updater\n          type: object\n          ui:field: GitOpsManifestUpdater\n  steps:\n    - id: get-entity\n      name: Get Entity\n      action: catalog:fetch\n      input:\n        entityRef: ${{ parameters.entity }}\n\n    - id: get-annotation-url\n      name: Get Annotation URL\n      action: roadiehq:utils:jsonata\n      input:\n        data: \n          annotations: ${{ steps['get-entity'].output.entity.metadata.annotations }}\n        expression: |\n          annotations.\"terasky.backstage.io/source-file-url\"\n\n    - id: resolve-url\n      name: Resolve URL\n      action: roadiehq:utils:jsonata\n      input:\n        data: \n          sourceFileUrl: ${{ parameters.sourceFileUrl }}\n          annotationUrl: ${{ steps['get-annotation-url'].output.result }}\n        expression: |\n          $exists(sourceFileUrl) ? sourceFileUrl : annotationUrl\n\n    - id: validate-url\n      name: Validate URL\n      action: roadiehq:utils:jsonata\n      input:\n        data: ${{ steps['resolve-url'].output.result }}\n        expression: |\n          $string($) ? $ : $error(\"No source URL provided. Please either add the terasky.backstage.io/source-file-url annotation to the entity or provide a sourceFileUrl parameter\")\n\n    - id: get-filepath\n      name: Get File Path\n      action: roadiehq:utils:jsonata\n      input:\n        data: ${{ steps['validate-url'].output.result }}\n        expression: |\n          $join($filter($split($, \"/\"), function($v, $i) { $i &gt;= 7}), \"/\")\n\n    - id: fetch-base\n      name: Fetch Current Manifest\n      action: fetch:plain:file\n      input:\n        url: ${{ steps['validate-url'].output.result }}\n        targetPath: ${{ steps['get-filepath'].output.result }}\n\n    - id: read-original\n      name: Read Original File\n      action: roadiehq:utils:fs:parse\n      input:\n        path: ${{ steps['get-filepath'].output.result }}\n        parser: yaml\n\n    - id: rebuild-manifest\n      name: Rebuild Manifest\n      action: roadiehq:utils:jsonata\n      input:\n        data:\n          original: ${{ steps['read-original'].output.content }}\n          updates: ${{ parameters.gitOpsManifestUpdater }}\n        expression: |\n          (\n            $newSpec := updates.spec ? updates.spec : updates;\n            $updatedMetadata := original.metadata;\n\n            /* Merge labels if provided */\n            $updatedMetadata := updates.metadata.labels ? \n              $merge([$updatedMetadata, {\"labels\": updates.metadata.labels}]) : \n              $updatedMetadata;\n\n            /* Merge annotations if provided */\n            $updatedMetadata := updates.metadata.annotations ? \n              $merge([$updatedMetadata, {\"annotations\": updates.metadata.annotations}]) : \n              $updatedMetadata;\n\n            {\n              \"apiVersion\": original.apiVersion,\n              \"kind\": original.kind,\n              \"metadata\": $updatedMetadata,\n              \"spec\": $newSpec\n            }\n          )\n\n    - id: write-updated\n      name: Write Updated File\n      action: roadiehq:utils:serialize:yaml\n      input:\n        data: ${{ steps['rebuild-manifest'].output.result }}\n\n    - id: save-file\n      name: Save File\n      action: roadiehq:utils:fs:write\n      input:\n        path: ${{ steps['get-filepath'].output.result }}\n        content: ${{ steps['write-updated'].output.serialized }}\n\n    - id: parse-url\n      name: Parse URL for PR\n      action: roadiehq:utils:jsonata\n      input:\n        data: ${{ steps['validate-url'].output.result }}\n        expression: |\n          {\n            \"owner\": $split($, \"/\")[3],\n            \"repo\": $split($, \"/\")[4],\n            \"branch\": $split($, \"/\")[6]\n          }\n\n    - id: format-branch-name\n      name: Format Branch Name\n      action: roadiehq:utils:jsonata\n      input:\n        data: ${{ steps['validate-url'].output.result }}\n        expression: |\n          \"backstage-sourced-update-\" &amp; $join($filter($split($, \"/\"), function($v, $i) { $i &gt;= 7}), \"-\")\n\n    - id: create-pull-request\n      name: create-pull-request\n      action: publish:github:pull-request\n      input:\n        repoUrl: ${{ 'github.com?owner=' + steps['parse-url'].output.result.owner + '&amp;repo=' + steps['parse-url'].output.result.repo }}\n        branchName: ${{ steps['format-branch-name'].output.result }}\n        title: Updating Kubernetes YAML for ${{ steps['get-entity'].output.entity.metadata.name }}\n        description: Updating Kubernetes YAML for ${{ steps['get-entity'].output.entity.metadata.name }}\n        targetBranchName: ${{ steps['parse-url'].output.result.branch }}\n\n  output:\n    links:\n      - title: Pull Request\n        url: ${{ steps['create-pull-request'].output.remoteUrl }}\n      - title: Download YAML Manifest\n        url: data:application/yaml;charset=utf-8,${{ steps['write-updated'].output.serialized }}\n</code></pre>"},{"location":"plugins/gitops-manifest-updater/frontend/install/#new-frontend-system-support-alpha","title":"New Frontend System Support (Alpha)","text":"<p>The plugin now supports the new frontend system available in the <code>/alpha</code> export. To use this:</p> <pre><code>import { createApp } from '@backstage/frontend-defaults';\nimport { gitopsManifestUpdaterPlugin } from '@terasky/backstage-plugin-gitops-manifest-updater/alpha';\n\nexport default createApp({\n  features: [\n    ...\n    gitopsManifestUpdaterPlugin,\n    ...\n  ],\n});\n</code></pre> <p>This replaces the need for manual route configuration in <code>App.tsx</code> and other files. The plugin will be automatically integrated into the appropriate locations.</p>"},{"location":"plugins/gitops-manifest-updater/frontend/install/#verification","title":"Verification","text":"<p>After installation, verify that:</p> <ol> <li>The plugin appears in your package.json dependencies</li> <li>The GitOpsManifestUpdater field is available in templates</li> <li>Forms are generated correctly from CRD schemas</li> <li>Pull requests are created successfully</li> </ol>"},{"location":"plugins/gitops-manifest-updater/frontend/install/#troubleshooting","title":"Troubleshooting","text":"<p>Common issues and solutions:</p> <ol> <li> <p>Field Not Available</p> <ul> <li>Verify scaffolder field extension registration</li> <li>Check component imports</li> <li>Ensure template configuration is correct</li> </ul> </li> <li> <p>Schema Loading Issues</p> <ul> <li>Verify CRD accessibility</li> <li>Check OpenAPI schema format</li> <li>Review error messages in browser console</li> </ul> </li> <li> <p>PR Creation Problems</p> <ul> <li>Check GitHub token permissions</li> <li>Verify repository access</li> <li>Review branch protection rules</li> </ul> </li> </ol> <p>For configuration options and customization, proceed to the Configuration Guide.</p>"},{"location":"plugins/kro/overview/","title":"KRO (Kubernetes Resource Orchestrator) Plugins","text":"<p>The KRO plugins for Backstage provide a comprehensive solution for managing and visualizing KRO resources within your Backstage instance. These plugins enable teams to effectively monitor and control their Kubernetes resources provisioned through KRO.</p>"},{"location":"plugins/kro/overview/#plugin-suite-components","title":"Plugin Suite Components","text":"<p>The KRO plugin suite consists of several components:</p> <ul> <li>Frontend Plugin (<code>@terasky/backstage-plugin-kro-resources-frontend</code>): </li> <li>Provides visualization and management capabilities for KRO resources</li> <li>Displays resource graphs and relationships</li> <li>Shows YAML configurations and events</li> <li> <p>Integrates with Backstage's permission framework</p> </li> <li> <p>Backend Plugin (<code>@terasky/backstage-plugin-kro-resources-backend</code>):</p> </li> <li>Handles API integration with Kubernetes clusters</li> <li>Manages resource data retrieval and processing</li> <li>Provides endpoints for resource operations</li> <li>Implements permission management and access control</li> <li> <p>Exposes MCP actions for programmatic access</p> </li> <li> <p>Common Library (<code>@terasky/backstage-plugin-kro-common</code>):</p> </li> <li>Shared utilities and types</li> <li>Permission definitions</li> <li>Common interfaces for frontend and backend</li> <li>Resource type definitions</li> </ul>"},{"location":"plugins/kro/overview/#key-features","title":"Key Features","text":"<ul> <li>Resource Visualization: View KRO RGDs, instances, and managed resources</li> <li>YAML Management: Access and manage YAML configurations for all resource types</li> <li>Event Monitoring: Track events related to your KRO resources</li> <li>Resource Graph: Visual representation of resource relationships</li> <li>Permission Controls: Granular access control for different resource types and actions</li> <li>Overview Cards: Quick insights into resource status and relationships</li> </ul>"},{"location":"plugins/kro/overview/#screenshots","title":"Screenshots","text":""},{"location":"plugins/kro/overview/#resource-graph-view","title":"Resource Graph View","text":""},{"location":"plugins/kro/overview/#resource-table-view","title":"Resource Table View","text":""},{"location":"plugins/kro/overview/#overview-information","title":"Overview Information","text":""},{"location":"plugins/kro/overview/#available-permissions","title":"Available Permissions","text":"<p>The plugin suite provides granular permission controls for:</p> <ul> <li>KRO RGDs (list, view YAML, show events)</li> <li>KRO Instances (list, view YAML, show events)</li> <li>Managed Resources (list, view YAML, show events)</li> <li>Additional Resources like CRDs (list, view YAML, show events)</li> <li>Resource Graph visualization</li> </ul>"},{"location":"plugins/kro/overview/#mcp-actions-integration","title":"MCP Actions Integration","text":"<p>The KRO plugin provides MCP (Model Control Protocol) actions for interacting with KRO resources. To enable these actions:</p> <ol> <li> <p>First, ensure you have the MCP actions backend plugin installed and configured. See the MCP Actions Backend Plugin documentation for setup instructions.</p> </li> <li> <p>Add the plugin to your actions configuration in <code>app-config.yaml</code>:</p> </li> </ol> <pre><code>backend:\n  actions:\n    pluginSources:\n      - 'catalog'\n      - 'kro'\n      # ... other action sources\n</code></pre>"},{"location":"plugins/kro/overview/#available-mcp-actions","title":"Available MCP Actions","text":"<p>The plugin provides the following MCP actions:</p> <ul> <li><code>get_kro_resources</code>: Get all resources for a KRO instance</li> <li>Input: Cluster name, namespace, RGD details, and instance information</li> <li> <p>Output: List of resources and their relationships</p> </li> <li> <p><code>get_kro_resource_events</code>: Get events for a Kubernetes resource managed by KRO</p> </li> <li>Input: Cluster name, namespace, resource name, and kind</li> <li> <p>Output: List of events with timestamps and details</p> </li> <li> <p><code>get_kro_resource_graph</code>: Get the resource graph for a KRO instance</p> </li> <li>Input: Cluster name, namespace, RGD details, and instance information</li> <li>Output: Resource graph data showing relationships between resources</li> </ul>"},{"location":"plugins/kro/overview/#getting-started","title":"Getting Started","text":"<p>To get started with the KRO plugins, you'll need to:</p> <ol> <li>Install and configure the Kubernetes Ingestor plugin</li> <li>Set up the permissions backend (optional but recommended)</li> <li>Install the frontend components</li> <li>Configure the plugins according to your needs</li> <li>Configure MCP actions in your app-config.yaml</li> </ol> <p>For detailed installation and configuration instructions, refer to the individual plugin documentation:</p> <ul> <li>Kubernetes Ingestor Plugin Installation</li> <li>Kubernetes Ingestor Plugin Configuration</li> <li>Frontend Plugin Installation</li> <li>Frontend Plugin Configuration</li> <li>Backend Plugin Installation</li> <li>Backend Plugin Configuration</li> </ul>"},{"location":"plugins/kro/backend/about/","title":"KRO Resources Backend Plugin","text":"<p>The KRO Resources backend plugin (<code>@terasky/backstage-plugin-kro-resources-backend</code>) provides comprehensive functionality for managing KRO resources in your Backstage instance, including API integration, resource operations, and permission management.</p>"},{"location":"plugins/kro/backend/about/#features","title":"Features","text":"<ul> <li>Resource Management:</li> <li>Resource data retrieval and processing</li> <li>Event monitoring and tracking</li> <li>YAML configuration management</li> <li>Resource relationship mapping</li> <li> <p>Resource graph generation</p> </li> <li> <p>API Integration:</p> </li> <li>Kubernetes cluster communication</li> <li>Resource status monitoring</li> <li>Event streaming</li> <li> <p>Resource operation execution</p> </li> <li> <p>Permission Management:</p> </li> <li>Pre-defined permissions for KRO resources</li> <li>Granular control over resource access</li> <li>Integration with Backstage's permission framework</li> <li> <p>Flexible policy configuration</p> </li> <li> <p>MCP Actions:</p> </li> <li>Resource data retrieval</li> <li>Event monitoring</li> <li>Resource graph generation</li> <li>Resource operation execution</li> </ul>"},{"location":"plugins/kro/backend/about/#available-permissions","title":"Available Permissions","text":"<p>The plugin defines the following permissions:</p>"},{"location":"plugins/kro/backend/about/#instance-permissions","title":"Instance Permissions","text":"<ul> <li><code>kro.instances.list</code>: Control access to listing KRO instances</li> <li><code>kro.instances.view-yaml</code>: Control access to viewing instance YAML</li> <li><code>kro.instances.show-events</code>: Control access to viewing instance events</li> </ul>"},{"location":"plugins/kro/backend/about/#rgd-permissions","title":"RGD Permissions","text":"<ul> <li><code>kro.rgds.list</code>: Control access to listing RGDs</li> <li><code>kro.rgds.view-yaml</code>: Control access to viewing RGD YAML</li> <li><code>kro.rgds.show-events</code>: Control access to viewing RGD events</li> </ul>"},{"location":"plugins/kro/backend/about/#resource-permissions","title":"Resource Permissions","text":"<ul> <li><code>kro.resources.list</code>: Control access to listing managed resources</li> <li><code>kro.resources.view-yaml</code>: Control access to viewing resource YAML</li> <li><code>kro.resources.show-events</code>: Control access to viewing resource events</li> </ul>"},{"location":"plugins/kro/backend/about/#view-permissions","title":"View Permissions","text":"<ul> <li><code>kro.resource-graph.show</code>: Control access to resource graph visualization</li> <li><code>kro.overview.view</code>: Control access to KRO overview information</li> </ul> <p>All permissions are defined with the <code>read</code> action attribute.</p>"},{"location":"plugins/kro/backend/about/#integration-points","title":"Integration Points","text":"<p>The plugin integrates with:</p> <ul> <li>Backstage permission framework</li> <li>Kubernetes backend plugin</li> <li>Catalog backend for entity information</li> </ul>"},{"location":"plugins/kro/backend/about/#architecture","title":"Architecture","text":"<p>The plugin follows Backstage's backend architecture:</p> <pre><code>graph TD\n    A[Permission Framework] --&gt; B[KRO Permissions Plugin]\n    B --&gt; C[Permission Policies]\n    B --&gt; D[Permission Rules]\n    E[Kubernetes Plugin] --&gt; B\n    F[Catalog] --&gt; B\n</code></pre>"},{"location":"plugins/kro/backend/configure/","title":"Configuring the KRO Resources Backend Plugin","text":""},{"location":"plugins/kro/backend/configure/#configuration-options","title":"Configuration Options","text":"<p>The plugin can be configured through your <code>app-config.yaml</code>:</p> <pre><code>kro:\n  # Enable/disable permission controls\n  enablePermissions: true\n</code></pre>"},{"location":"plugins/kro/backend/install/","title":"Installing the KRO Resources Backend Plugin","text":""},{"location":"plugins/kro/backend/install/#prerequisites","title":"Prerequisites","text":"<ul> <li>Backstage backend</li> <li>Permission framework enabled</li> <li>Kubernetes plugin</li> </ul>"},{"location":"plugins/kro/backend/install/#installation-steps","title":"Installation Steps","text":"<ol> <li>Install the required packages:</li> </ol> <p><pre><code># From your Backstage root directory\nyarn --cwd packages/backend add @terasky/backstage-plugin-kro-resources-backend \n</code></pre> 2. Add the plugin to your backend:</p> <pre><code>// In your backend initialization\nbackend.add(import('@terasky/backstage-plugin-kro-resources-backend'));\n</code></pre>"},{"location":"plugins/kro/backend/install/#troubleshooting","title":"Troubleshooting","text":"<p>Common issues and solutions:</p> <ol> <li>Permission Errors: Ensure the service account has necessary RBAC permissions</li> <li>Connection Issues: Verify Kubernetes cluster configuration</li> <li>Missing Dependencies: Check all required packages are installed</li> <li>MCP Action Errors: Verify MCP configuration in app-config.yaml</li> </ol>"},{"location":"plugins/kro/frontend/about/","title":"KRO Resources Frontend Plugin","text":"<p>The KRO Resources frontend plugin (<code>@terasky/backstage-plugin-kro-resources-frontend</code>) provides a comprehensive UI for managing and visualizing KRO resources in your Backstage instance.</p>"},{"location":"plugins/kro/frontend/about/#features","title":"Features","text":"<ul> <li>Resource Graph: Interactive visualization of KRO resources and their relationships</li> <li>Resource Table: Detailed view of KRO instances and their managed resources</li> <li>Resource status and health monitoring</li> <li>Relationship tracking</li> <li>Resource type filtering</li> <li>Search and sort capabilities</li> <li>YAML Management: </li> <li>Access and inspect YAML configurations</li> <li>Copy to clipboard functionality</li> <li>Download YAML files</li> <li>Syntax highlighting</li> <li>Event Monitoring: </li> <li>Track events for all KRO-related resources</li> <li>Real-time event updates</li> <li>Event filtering and search</li> <li>Timestamp-based sorting</li> <li>Overview Cards: </li> <li>Quick status insights for KRO instances</li> <li>Resource counts and statistics</li> <li>Health status indicators</li> <li>Quick action buttons</li> </ul>"},{"location":"plugins/kro/frontend/about/#components","title":"Components","text":"<p>The plugin provides several React components:</p> <ul> <li><code>KroOverviewCard</code>: Shows status and basic information about a KRO instance</li> <li>Resource statistics</li> <li>Health indicators</li> <li>Quick actions</li> <li>Status summaries</li> <li><code>KroResourceGraph</code>: Interactive graph visualization of resource relationships</li> <li>Zoomable interface</li> <li>Node filtering</li> <li>Relationship highlighting</li> <li>Interactive node selection</li> <li><code>KroResourceTable</code>: Detailed table view of resources</li> <li>YAML and event access</li> <li>Status indicators</li> <li>Action buttons</li> <li>Filtering capabilities</li> <li><code>isKroAvailable</code>: Utility components for permission-based rendering</li> <li>Conditional rendering</li> <li>Permission checks</li> <li>Feature flags support</li> </ul>"},{"location":"plugins/kro/frontend/about/#integration-points","title":"Integration Points","text":"<p>The plugin integrates with:</p> <ul> <li>KRO Resources backend plugin for:</li> <li>Resource data retrieval</li> <li>Event monitoring</li> <li>YAML management</li> <li>Resource operations</li> <li>Permission framework for:</li> <li>Access control</li> <li>Feature gating</li> <li>Operation authorization</li> <li>Catalog for:</li> <li>Entity information</li> <li>Relationship mapping</li> <li>Component discovery</li> <li>New Frontend System (Alpha) for:</li> <li>Automatic route registration</li> <li>Component integration</li> <li>Extension points</li> </ul>"},{"location":"plugins/kro/frontend/about/#screenshots","title":"Screenshots","text":""},{"location":"plugins/kro/frontend/about/#resource-graph","title":"Resource Graph","text":""},{"location":"plugins/kro/frontend/about/#resource-table","title":"Resource Table","text":""},{"location":"plugins/kro/frontend/about/#yaml-viewer","title":"YAML Viewer","text":""},{"location":"plugins/kro/frontend/about/#events-view","title":"Events View","text":""},{"location":"plugins/kro/frontend/about/#overview-card","title":"Overview Card","text":""},{"location":"plugins/kro/frontend/install/","title":"Installing the KRO Resources Frontend Plugin","text":""},{"location":"plugins/kro/frontend/install/#prerequisites","title":"Prerequisites","text":"<ul> <li>Backstage application</li> <li>KRO Resources backend plugin (<code>@terasky/backstage-plugin-kro-resources-backend</code>)</li> <li>Kubernetes plugin</li> </ul>"},{"location":"plugins/kro/frontend/install/#installation-steps","title":"Installation Steps","text":"<ol> <li>Install the plugin package:</li> </ol> <pre><code># From your Backstage root directory\nyarn --cwd packages/app add @terasky/backstage-plugin-kro-resources-frontend\n</code></pre>"},{"location":"plugins/kro/frontend/install/#2-import-components","title":"2. Import Components","text":"<p>Add the necessary imports to your Entity Page file (typically <code>packages/app/src/components/catalog/EntityPage.tsx</code>):</p> <pre><code>import { \n    IfKroOverviewAvailable, \n    IfKroResourceGraphAvailable, \n    IfKroResourcesListAvailable, \n    isKroAvailable, \n    KroOverviewCard, \n    KroResourceGraph, \n    KroResourceTable, \n    useKroResourceListAvailable, \n    useKroResourceGraphAvailable \n} from '@terasky/backstage-plugin-kro-resources-frontend';\n</code></pre>"},{"location":"plugins/kro/frontend/install/#3-configure-the-entity-page","title":"3. Configure the Entity Page","text":"<p>Add the KRO components to your Entity Page:</p> <pre><code>const kroOverviewContent = (\n  &lt;Grid container spacing={3} alignItems=\"stretch\"&gt;\n    &lt;Grid item md={6}&gt;\n      &lt;EntityAboutCard variant=\"gridItem\" /&gt;\n    &lt;/Grid&gt;\n    &lt;IfKroOverviewAvailable&gt;\n      &lt;Grid item md={6}&gt;\n        &lt;KroOverviewCard /&gt;\n      &lt;/Grid&gt;\n    &lt;/IfKroOverviewAvailable&gt;\n    &lt;Grid item md={4} xs={12}&gt;\n      &lt;EntityLinksCard /&gt;\n    &lt;/Grid&gt;\n  &lt;/Grid&gt;\n);\n\n// Create the KRO entity page component with permission checks\nconst KroEntityPage = () =&gt; {\n  const isKroResourceListAvailable = useKroResourceListAvailable();\n  const isKroResourceGraphAvailable = useKroResourceGraphAvailable();\n\n  return (\n    &lt;EntityLayout&gt;\n      &lt;EntityLayout.Route path=\"/\" title=\"Overview\"&gt;\n        {kroOverviewContent}\n      &lt;/EntityLayout.Route&gt;\n\n      &lt;EntityLayout.Route if={isKroResourceListAvailable} path=\"/kro-resources\" title=\"KRO Resources\"&gt;\n        &lt;IfKroResourcesListAvailable&gt;\n          &lt;KroResourceTable /&gt;\n        &lt;/IfKroResourcesListAvailable&gt;\n      &lt;/EntityLayout.Route&gt;\n\n      &lt;EntityLayout.Route if={isKroResourceGraphAvailable} path=\"/kro-graph\" title=\"KRO Graph\"&gt;\n        &lt;IfKroResourceGraphAvailable&gt;\n          &lt;KroResourceGraph /&gt;\n        &lt;/IfKroResourceGraphAvailable&gt;\n      &lt;/EntityLayout.Route&gt;\n    &lt;/EntityLayout&gt;\n  );\n};\n</code></pre>"},{"location":"plugins/kro/frontend/install/#4-add-to-entity-switch","title":"4. Add to Entity Switch","text":"<p>Include the KRO entity page in your entity switch:</p> <pre><code>const componentPage = (\n  &lt;EntitySwitch&gt;\n    {/* ... other cases ... */}\n    &lt;EntitySwitch.Case if={isComponentType('kro-instance')}&gt;\n      &lt;KroEntityPage /&gt;\n    &lt;/EntitySwitch.Case&gt;\n  &lt;/EntitySwitch&gt;\n);\n</code></pre>"},{"location":"plugins/kro/frontend/install/#new-frontend-system-support-alpha","title":"New Frontend System Support (Alpha)","text":"<p>The plugin now supports the new frontend system available in the <code>/alpha</code> export. To use this:</p> <pre><code>import { createApp } from '@backstage/frontend-defaults';\nimport { kroResourcesPlugin } from '@terasky/backstage-plugin-kro-resources-frontend/alpha';\n\nexport default createApp({\n  features: [\n    ...\n    kroResourcesPlugin,\n    ...\n  ],\n});\n</code></pre> <p>This replaces the need for manual route configuration in <code>EntityPage.tsx</code> and other files. The plugin will be automatically integrated into the appropriate entity pages.</p>"},{"location":"plugins/kro/frontend/install/#verification","title":"Verification","text":"<p>After installation, verify that:</p> <ol> <li>The plugin appears in your package.json dependencies</li> <li>The components are properly imported in your Entity Page</li> <li>The KRO tabs appear for appropriate entity types</li> <li>The permission checks are working as expected</li> </ol>"},{"location":"plugins/kro/frontend/install/#troubleshooting","title":"Troubleshooting","text":"<p>Common issues and solutions:</p> <ol> <li>Missing Tabs: Ensure the entity has the correct component type</li> <li>Permission Issues: Verify the permissions backend is properly configured</li> <li>Resource Loading: Check the Kubernetes Ingestor configuration</li> </ol>"},{"location":"plugins/kubernetes/overview/","title":"Kubernetes Resources Plugin","text":"<p>The Kubernetes Resources plugin provides a powerful visualization and management interface for Kubernetes resources within Backstage. It enables users to explore resource relationships, view configurations, and monitor cluster events through an intuitive graphical interface.</p>"},{"location":"plugins/kubernetes/overview/#features","title":"Features","text":"<ul> <li>Interactive Resource Graph: Visualize relationships between Kubernetes resources</li> <li>YAML Manifest Viewer: View and copy resource configurations</li> <li>Event Monitoring: Track Kubernetes events for specific resources</li> <li>Resource Dependencies: Map and explore resource relationships</li> <li>Permission Controls: Fine-grained access control for different resource types</li> <li>Multi-Cluster Support: View resources across multiple Kubernetes clusters</li> </ul>"},{"location":"plugins/kubernetes/overview/#plugin-components","title":"Plugin Components","text":""},{"location":"plugins/kubernetes/overview/#frontend-plugin","title":"Frontend Plugin","text":"<p>The plugin provides frontend components for: - Resource graph visualization - YAML manifest viewing - Event monitoring - Resource exploration  </p> <p>Learn more about the frontend plugin</p>"},{"location":"plugins/kubernetes/overview/#backend-plugin","title":"Backend Plugin","text":"<p>The plugin requires a backend deployment that: - Aggregates resource data - Tracks dependencies - Manages permissions - Handles cluster communication  </p> <p>Learn more about the backend plugin</p>"},{"location":"plugins/kubernetes/overview/#screenshots","title":"Screenshots","text":"<p> Interactive resource dependency graph</p> <p> Resource events and YAML configuration view</p> <p> Table view of Kubernetes resources</p> <p> Permission-based access control</p>"},{"location":"plugins/kubernetes/overview/#available-permissions","title":"Available Permissions","text":"<p>The plugin supports the following permissions:</p> <ul> <li><code>kubernetes-resources.resources.list</code>: List and view Kubernetes resources</li> <li><code>kubernetes-resources.secrets.list</code>: List and view Secret resources</li> <li><code>kubernetes-resources.secrets.view-yaml</code>: View Secret YAML content</li> <li><code>kubernetes-resources.yaml.view</code>: View resource YAML content</li> <li><code>kubernetes-resources.events.show</code>: View resource events</li> <li><code>kubernetes-resources.graph.show</code>: View resource dependency graph</li> </ul>"},{"location":"plugins/kubernetes/overview/#documentation-structure","title":"Documentation Structure","text":"<ul> <li>Frontend Plugin<ul> <li>About</li> <li>Installation</li> <li>Configuration</li> </ul> </li> <li>Backend Plugin<ul> <li>About</li> <li>Installation</li> <li>Configuration</li> </ul> </li> </ul>"},{"location":"plugins/kubernetes/overview/#getting-started","title":"Getting Started","text":"<p>To get started with the Kubernetes Resources plugin:</p> <ol> <li>Deploy the backend component to your clusters</li> <li>Install the frontend plugin</li> <li>Configure proxy settings</li> <li>Set up entity annotations</li> <li>Configure permissions (optional)</li> </ol> <p>For detailed installation and configuration instructions, refer to the frontend and backend documentation linked above. </p>"},{"location":"plugins/kubernetes/backend/about/","title":"Kubernetes Resources Permissions Backend Plugin","text":""},{"location":"plugins/kubernetes/backend/about/#overview","title":"Overview","text":"<p>The Kubernetes Resources Permissions backend plugin provides comprehensive permission management and access control for Kubernetes resources within your Backstage instance. It integrates seamlessly with Backstage's permission framework to enforce fine-grained access policies for different types of Kubernetes resources.</p>"},{"location":"plugins/kubernetes/backend/about/#features","title":"Features","text":""},{"location":"plugins/kubernetes/backend/about/#permission-management","title":"Permission Management","text":"<ul> <li>Fine-grained access control for Kubernetes resources</li> </ul>"},{"location":"plugins/kubernetes/backend/about/#access-control","title":"Access Control","text":"<ul> <li>Resource-level permissions</li> <li>Action-based permissions (list, view YAML, show events)</li> <li>Integration with Backstage's permission framework</li> </ul>"},{"location":"plugins/kubernetes/backend/about/#api-endpoints","title":"API Endpoints","text":"<ul> <li>Permission check endpoints</li> <li>Resource access validation</li> <li>Policy enforcement endpoints</li> </ul>"},{"location":"plugins/kubernetes/backend/about/#technical-architecture","title":"Technical Architecture","text":""},{"location":"plugins/kubernetes/backend/about/#integration-points","title":"Integration Points","text":"<ul> <li>Backstage Permission Framework</li> <li>Kubernetes Resources Frontend Plugin</li> </ul>"},{"location":"plugins/kubernetes/backend/about/#permission-model","title":"Permission Model","text":"<p>The plugin implements a comprehensive permission model covering:</p>"},{"location":"plugins/kubernetes/backend/about/#permissions","title":"Permissions:","text":"<ul> <li>List Kubernetes Resources: kubernetes-resources.resources.list<ul> <li>Controls whether a user can list and view Kubernetes resources</li> </ul> </li> <li>List Kubernetes Secrets: kubernetes-resources.secrets.list<ul> <li>Controls whether a user can list and view Secret resources</li> </ul> </li> <li>View Secret YAML: kubernetes-resources.secrets.view-yaml<ul> <li>Controls whether a user can view the YAML content of Secret resources</li> </ul> </li> <li>View Resource YAML: kubernetes-resources.yaml.view<ul> <li>Controls whether a user can view the YAML content of Kubernetes resources</li> </ul> </li> <li>View Resource Events: kubernetes-resources.events.show<ul> <li>Controls whether a user can view events related to Kubernetes resources</li> </ul> </li> <li>View Resource Graph: kubernetes-resources.graph.show<ul> <li>Controls whether a user can view the resource dependency graph</li> </ul> </li> </ul>"},{"location":"plugins/kubernetes/backend/about/#security-considerations","title":"Security Considerations","text":"<ul> <li>Secure permission validation</li> <li>Token-based authentication</li> <li>Role-based access control</li> <li>Audit logging capabilities</li> </ul>"},{"location":"plugins/kubernetes/backend/about/#integration-benefits","title":"Integration Benefits","text":"<ol> <li> <p>Enhanced Security</p> <ul> <li>Granular access control</li> <li>Consistent permission enforcement</li> <li>Audit trail capabilities</li> </ul> </li> <li> <p>Improved Compliance</p> <ul> <li>Policy-based access control</li> <li>Resource usage tracking</li> <li>Access pattern monitoring</li> </ul> </li> <li> <p>Better User Experience</p> <ul> <li>Seamless integration with frontend</li> <li>Consistent permission behavior</li> <li>Clear access control feedback</li> </ul> </li> </ol>"},{"location":"plugins/kubernetes/backend/about/#use-cases","title":"Use Cases","text":""},{"location":"plugins/kubernetes/backend/about/#resource-access-control","title":"Resource Access Control","text":"<ul> <li>Control who can view different resource types</li> <li>Manage access to sensitive configurations</li> <li>Restrict event viewing capabilities</li> </ul>"},{"location":"plugins/kubernetes/backend/about/#compliance-management","title":"Compliance Management","text":"<ul> <li>Enforce organizational policies</li> <li>Track resource access patterns</li> <li>Maintain audit trails</li> </ul>"},{"location":"plugins/kubernetes/backend/about/#team-collaboration","title":"Team Collaboration","text":"<ul> <li>Define team-specific access levels</li> <li>Share resources securely</li> <li>Manage cross-team permissions</li> </ul>"},{"location":"plugins/kubernetes/backend/configure/","title":"Configuring the Kubernetes Resources Permissions Backend Plugin","text":"<p>The Kubernetes Resources Permissions backend plugin integrates with Backstage's permission framework to provide access control for Kubernetes resources.</p>"},{"location":"plugins/kubernetes/backend/configure/#available-permissions","title":"Available Permissions","text":"<p>The plugin provides the following permissions for managing Kubernetes resources:  </p> <ul> <li>List Kubernetes Resources: kubernetes-resources.resources.list  </li> <li>Controls whether a user can list and view Kubernetes resources</li> <li>List Kubernetes Secrets: kubernetes-resources.secrets.list  </li> <li>Controls whether a user can list and view Secret resources</li> <li>View Secret YAML: kubernetes-resources.secrets.view-yaml  </li> <li>Controls whether a user can view the YAML content of Secret resources</li> <li>View Resource YAML: kubernetes-resources.yaml.view  </li> <li>Controls whether a user can view the YAML content of Kubernetes resources</li> <li>View Resource Events: kubernetes-resources.events.show  </li> <li>Controls whether a user can view events related to Kubernetes resources</li> <li>View Resource Graph: kubernetes-resources.graph.show  </li> <li>Controls whether a user can view the resource dependency graph</li> </ul>"},{"location":"plugins/kubernetes/backend/configure/#basic-configuration","title":"Basic Configuration","text":"<p>The plugin uses Backstage's permission framework. To enable it, add the following to your <code>app-config.yaml</code>:</p> <pre><code>permission:\n  enabled: true # Enable Backstage permission framework\n</code></pre> <p>Plugin configuration:</p> <pre><code>kubernetesResources:\n  enablePermissions: true # Enable Kubernetes permission checks\n  # If using a non default annotation prefix in the kubernetes ingestor set this to the value from the kubernetes ingestor as well\n  annotationPrefix: terasky.backstage.io\n  concurrency: 10 # How many concurrent requests to make against the Kubernetes API to fetch resources\n\nproxy:\n  '/kubernetes-resources/&lt;CLUSTER NAME&gt;':\n      target: 'http://&lt;THE INGRESS URL OF THE DEPLOYED AGENT&gt;'\n      changeOrigin: true\n      headers:\n        Authorization: 'Bearer &lt;SAME TOKEN AS IS USED IN THE K8S PLUGIN CONFIGURATION&gt;\n</code></pre>"},{"location":"plugins/kubernetes/backend/configure/#using-the-community-rbac-plugin","title":"Using the Community RBAC Plugin","text":"<p>You can use the RBAC plugins from the backstage community and create roles via the UI or via a CSV file.</p>"},{"location":"plugins/kubernetes/backend/configure/#example-via-csv-and-config","title":"Example via CSV and config","text":"<p>app-config.yaml snippet</p> <pre><code>permission:\n  enabled: true\n  rbac:\n    policies-csv-file: /path/to/permissions.csv\n    policyFileReload: true\n    pluginsWithPermission:\n      - kubernetes\n      - kubernetes-resources\n</code></pre> <p>CSV file snippet</p> <pre><code>p, role:default/platformteam, kubernetes.proxy, use, allow\np, role:default/platformteam, kubernetes.resources.read, read, allow\np, role:default/platformteam, kubernetes.clusters.read, read, allow\np, role:default/platformteam, kubernetes-resources.graph.show, read, allow\np, role:default/platformteam, kubernetes-resources.secrets.list, read, allow\np, role:default/platformteam, kubernetes-resources.secrets.view-yaml, read, allow\np, role:default/platformteam, kubernetes-resources.resources.list, read, allow\np, role:default/platformteam, kubernetes-resources.events.show, read, allow\np, role:default/platformteam, kubernetes-resources.yaml.view, read, allow\ng, group:default/all_users, role:default/platformteam\n</code></pre>"},{"location":"plugins/kubernetes/backend/configure/#best-practices","title":"Best Practices","text":""},{"location":"plugins/kubernetes/backend/configure/#security","title":"Security","text":"<ol> <li>Permission Policies</li> <li>Follow the principle of least privilege<ul> <li>Regularly review and update policies</li> <li>Use specific permissions over wildcards</li> </ul> </li> <li>Authentication</li> <li>Use secure authentication methods<ul> <li>Implement token rotation</li> <li>Enable audit logging</li> </ul> </li> </ol>"},{"location":"plugins/kubernetes/backend/configure/#monitoring","title":"Monitoring","text":"<ol> <li>Logging</li> <li>Configure appropriate log levels<ul> <li>Implement log rotation</li> <li>Set up log aggregation</li> </ul> </li> <li>Metrics</li> <li>Monitor permission checks<ul> <li>Track API usage</li> <li>Set up alerts for anomalies</li> </ul> </li> </ol>"},{"location":"plugins/kubernetes/backend/configure/#troubleshooting","title":"Troubleshooting","text":""},{"location":"plugins/kubernetes/backend/configure/#common-issues","title":"Common Issues","text":"<ol> <li>Permission Denied</li> <li>Check policy configuration<ul> <li>Verify user roles</li> <li>Review permission logs</li> </ul> </li> <li>Integration Problems</li> <li>Verify service connections<ul> <li>Check authentication configuration</li> <li>Review Kubernetes plugin configurations</li> </ul> </li> </ol>"},{"location":"plugins/kubernetes/backend/install/","title":"Installing the Kubernetes Resources Permissions Backend Plugin","text":"<p>This guide will help you install and set up the kubernetes resources Permissions backend plugin in your Backstage instance.</p>"},{"location":"plugins/kubernetes/backend/install/#prerequisites","title":"Prerequisites","text":"<p>Before installing the backend plugin, ensure you have:</p> <ol> <li>A working Backstage instance</li> <li>Node.js and npm/yarn installed</li> <li>Access to your Backstage backend configuration</li> <li>Deployed the required agent in the target kubernetes cluster following the docs here</li> </ol>"},{"location":"plugins/kubernetes/backend/install/#installation-steps","title":"Installation Steps","text":""},{"location":"plugins/kubernetes/backend/install/#1-add-the-package","title":"1. Add the Package","text":"<p>Install the backend plugin package using your package manager:</p> <pre><code>yarn --cwd packages/backend add @terasky/backstage-plugin-kubernetes-resources-permissions-backend\n</code></pre>"},{"location":"plugins/kubernetes/backend/install/#2-add-to-backend","title":"2. Add to Backend","text":"<p>Modify your backend entry point (typically <code>packages/backend/src/index.ts</code>):</p> <pre><code>// In your backend initialization\nbackend.add(import('@terasky/backstage-plugin-kubernetes-resources-permissions-backend'));\n</code></pre>"},{"location":"plugins/kubernetes/backend/install/#3-configure-permissions","title":"3. Configure Permissions","text":"<p>Add the following to your <code>app-config.yaml</code>:</p> <pre><code>permission:\n  enabled: true # Enable Backstage permission framework\n\nkubernetesResources:\n  enablePermissions: true # Enable Kubernetes permission checks\n\nproxy:\n  '/kubernetes-resources/&lt;CLUSTER NAME&gt;':\n      target: 'http://&lt;THE INGRESS URL OF THE DEPLOYED AGENT&gt;'\n      changeOrigin: true\n      headers:\n        Authorization: 'Bearer &lt;SAME TOKEN AS IS USED IN THE K8S PLUGIN CONFIGURATION&gt;\n</code></pre>"},{"location":"plugins/kubernetes/backend/install/#verification","title":"Verification","text":"<p>After installation, verify that:</p> <ol> <li>The plugin appears in your package.json dependencies</li> <li>The backend starts without errors</li> <li>Permission endpoints are accessible</li> <li>Integration with the frontend plugin works correctly</li> </ol>"},{"location":"plugins/kubernetes/backend/install/#testing-the-installation","title":"Testing the Installation","text":"<ol> <li> <p>Check Backend Health <pre><code>curl http://localhost:7007/api/kubernetes-resources/health\n</code></pre></p> </li> <li> <p>Test Frontend Integration</p> <ul> <li>Open a kubernetes resource in the frontend</li> <li>Verify permission checks are working</li> <li>Check access control behavior</li> </ul> </li> </ol>"},{"location":"plugins/kubernetes/backend/install/#troubleshooting","title":"Troubleshooting","text":"<p>Common issues and solutions:</p>"},{"location":"plugins/kubernetes/backend/install/#1-backend-startup-issues","title":"1. Backend Startup Issues","text":"<pre><code># Check backend logs\nyarn workspace backend start --verbose\n</code></pre>"},{"location":"plugins/kubernetes/backend/install/#2-permission-framework-issues","title":"2. Permission Framework Issues","text":"<ul> <li>Verify permission framework is enabled</li> <li>Check permission policy configuration</li> <li>Review backend plugin configuration</li> </ul>"},{"location":"plugins/kubernetes/backend/install/#3-integration-problems","title":"3. Integration Problems","text":"<ul> <li>Ensure frontend and backend versions match</li> <li>Check network connectivity</li> <li>Verify API endpoint configuration</li> </ul>"},{"location":"plugins/kubernetes/backend/install/#next-steps","title":"Next Steps","text":"<p>After successful installation:</p> <ol> <li>Configure permission policies</li> <li>Set up role-based access control</li> <li>Test with different user roles</li> <li>Monitor permission enforcement</li> </ol> <p>Proceed to the Configuration Guide for detailed setup instructions.</p>"},{"location":"plugins/kubernetes/frontend/about/","title":"Kubernetes Resources Frontend Plugin","text":""},{"location":"plugins/kubernetes/frontend/about/#overview","title":"Overview","text":"<p>The Kubernetes Resources frontend plugin provides a rich user interface for visualizing and managing Kubernetes resources within Backstage. It offers both graph and table views of resources, along with detailed information about resource configurations and events.</p>"},{"location":"plugins/kubernetes/frontend/about/#features","title":"Features","text":""},{"location":"plugins/kubernetes/frontend/about/#resource-graph-view","title":"Resource Graph View","text":"<ul> <li>Interactive dependency visualization</li> <li>Resource relationship mapping</li> <li>Zoom and pan controls</li> <li>Resource filtering</li> <li>Click-through navigation</li> </ul>"},{"location":"plugins/kubernetes/frontend/about/#resource-details","title":"Resource Details","text":"<ul> <li>YAML manifest viewer</li> <li>Resource events timeline</li> <li>Configuration download</li> <li>Copy to clipboard</li> <li>Resource metadata display</li> </ul>"},{"location":"plugins/kubernetes/frontend/about/#table-view","title":"Table View","text":"<ul> <li>Resource listing</li> <li>Sorting and filtering</li> <li>Status indicators</li> <li>Quick actions</li> <li>Bulk operations</li> </ul>"},{"location":"plugins/kubernetes/frontend/about/#permission-integration","title":"Permission Integration","text":"<ul> <li>Role-based access control</li> <li>Resource-level permissions</li> <li>Secret handling</li> <li>Event visibility control</li> <li>YAML access management</li> </ul>"},{"location":"plugins/kubernetes/frontend/about/#components","title":"Components","text":""},{"location":"plugins/kubernetes/frontend/about/#kubernetesresourcespage","title":"KubernetesResourcesPage","text":"<p>The main component that provides: - Resource table view - Filtering capabilities - Resource details - Event monitoring  </p> <p>Example usage: <pre><code>import { KubernetesResourcesPage, isKubernetesResourcesAvailable } from '@terasky/backstage-plugin-kubernetes-resources-frontend';\n\nconst entityPage = (\n  &lt;EntityLayout&gt;\n    &lt;EntityLayout.Route \n      path=\"/kubernetes-resource-page\" \n      if={isKubernetesResourcesAvailable}\n      title=\"Kubernetes Resources\"\n    &gt;\n      &lt;KubernetesResourcesPage /&gt;\n    &lt;/EntityLayout.Route&gt;\n  &lt;/EntityLayout&gt;\n);\n</code></pre></p>"},{"location":"plugins/kubernetes/frontend/about/#kubernetesresourcegraph","title":"KubernetesResourceGraph","text":"<p>Interactive graph visualization component: - Resource dependency mapping - Interactive navigation - Resource details on click - Zoom and pan controls  </p> <p>Example usage: <pre><code>import { KubernetesResourceGraph, isKubernetesResourcesAvailable } from '@terasky/backstage-plugin-kubernetes-resources-frontend';\n\nconst entityPage = (\n  &lt;EntityLayout&gt;\n    &lt;EntityLayout.Route \n      path=\"/kubernetes-resource-graph\" \n      if={isKubernetesResourcesAvailable}\n      title=\"Resource Graph\"\n    &gt;\n      &lt;KubernetesResourceGraph /&gt;\n    &lt;/EntityLayout.Route&gt;\n  &lt;/EntityLayout&gt;\n);\n</code></pre></p>"},{"location":"plugins/kubernetes/frontend/about/#technical-details","title":"Technical Details","text":""},{"location":"plugins/kubernetes/frontend/about/#integration-points","title":"Integration Points","text":"<ul> <li>Kubernetes backend service</li> <li>Permission framework</li> <li>Entity catalog</li> <li>Proxy configuration</li> </ul>"},{"location":"plugins/kubernetes/frontend/about/#required-annotations","title":"Required Annotations","text":"<pre><code>annotations:\n  terasky.backstage.io/kubernetes-resource-name: 'resource-name'\n  terasky.backstage.io/kubernetes-resource-kind: 'ResourceKind'\n  terasky.backstage.io/kubernetes-resource-api-version: 'group/version'\n  terasky.backstage.io/kubernetes-resource-namespace: 'namespace' # Optional\n  backstage.io/managed-by-origin-location: 'cluster-name'\n</code></pre>"},{"location":"plugins/kubernetes/frontend/about/#permission-framework","title":"Permission Framework","text":"<p>The plugin integrates with Backstage's permission framework to control: - Resource visibility - YAML access - Event viewing - Secret management - Graph access  </p>"},{"location":"plugins/kubernetes/frontend/about/#user-experience","title":"User Experience","text":""},{"location":"plugins/kubernetes/frontend/about/#resource-discovery","title":"Resource Discovery","text":"<ol> <li>Navigate to resource page</li> <li>Filter and search resources</li> <li>View resource details</li> <li>Explore dependencies</li> </ol>"},{"location":"plugins/kubernetes/frontend/about/#graph-navigation","title":"Graph Navigation","text":"<ol> <li>Open graph view</li> <li>Explore resource relationships</li> <li>Click resources for details</li> <li>View related events</li> </ol>"},{"location":"plugins/kubernetes/frontend/about/#resource-management","title":"Resource Management","text":"<ol> <li>View resource YAML</li> <li>Monitor resource events</li> <li>Download configurations</li> <li>Track dependencies</li> </ol>"},{"location":"plugins/kubernetes/frontend/about/#example-integrations","title":"Example Integrations","text":""},{"location":"plugins/kubernetes/frontend/about/#basic-integration","title":"Basic Integration","text":"<pre><code>import {\n  KubernetesResourcesPage,\n  KubernetesResourceGraph,\n  isKubernetesResourcesAvailable,\n} from '@terasky/backstage-plugin-kubernetes-resources-frontend';\n\nconst serviceEntityPage = (\n  &lt;EntityLayout&gt;\n    &lt;EntityLayout.Route \n      path=\"/kubernetes-resource-page\" \n      if={isKubernetesResourcesAvailable}\n      title=\"Resources\"\n    &gt;\n      &lt;KubernetesResourcesPage /&gt;\n    &lt;/EntityLayout.Route&gt;\n    &lt;EntityLayout.Route \n      path=\"/kubernetes-resource-graph\" \n      if={isKubernetesResourcesAvailable}\n      title=\"Resource Graph\"\n    &gt;\n      &lt;KubernetesResourceGraph /&gt;\n    &lt;/EntityLayout.Route&gt;\n  &lt;/EntityLayout&gt;\n);\n</code></pre>"},{"location":"plugins/kubernetes/frontend/about/#advanced-integration","title":"Advanced Integration","text":"<pre><code>import {\n  KubernetesResourcesPage,\n  KubernetesResourceGraph,\n  isKubernetesResourcesAvailable,\n} from '@terasky/backstage-plugin-kubernetes-resources-frontend';\n\nconst kubernetesContent = (\n  &lt;&gt;\n    &lt;EntitySwitch&gt;\n      &lt;EntitySwitch.Case if={isKubernetesResourcesAvailable}&gt;\n        &lt;Grid container spacing={3}&gt;\n          &lt;Grid item xs={12}&gt;\n            &lt;KubernetesResourcesPage /&gt;\n          &lt;/Grid&gt;\n          &lt;Grid item xs={12}&gt;\n            &lt;KubernetesResourceGraph /&gt;\n          &lt;/Grid&gt;\n        &lt;/Grid&gt;\n      &lt;/EntitySwitch.Case&gt;\n    &lt;/EntitySwitch&gt;\n  &lt;/&gt;\n);\n\nconst serviceEntityPage = (\n  &lt;EntityLayout&gt;\n    &lt;EntityLayout.Route \n      path=\"/kubernetes\" \n      title=\"Kubernetes\"\n    &gt;\n      {kubernetesContent}\n    &lt;/EntityLayout.Route&gt;\n  &lt;/EntityLayout&gt;\n);\n</code></pre> <p>For installation and configuration details, refer to the Installation Guide and Configuration Guide. </p>"},{"location":"plugins/kubernetes/frontend/configure/","title":"Configuring the Kubernetes Resources Frontend Plugin","text":"<p>This guide covers the configuration options available for the Kubernetes Resources frontend plugin.</p>"},{"location":"plugins/kubernetes/frontend/configure/#new-frontend-system-configuration-alpha","title":"New Frontend System Configuration (Alpha)","text":"<p>When using the new frontend system through the <code>/alpha</code> export, the plugin is configured automatically with sensible defaults. The configuration in <code>app-config.yaml</code> is still respected:</p> <pre><code>kubernetesResources:\n  # Whether to enable permission checks\n  enablePermissions: true\n  # If using a non default annotation prefix in the kubernetes ingestor set this to the value from the kubernetes ingestor as well\n  annotationPrefix: terasky.backstage.io\n  # Maximum concurrent requests to Kubernetes API\n  concurrency: 10\n</code></pre> <p>The plugin will be automatically integrated into the appropriate entity pages without requiring manual route configuration.</p>"},{"location":"plugins/kubernetes/frontend/configure/#configuration-file","title":"Configuration File","text":"<p>The plugin is configured through your <code>app-config.yaml</code>. Here's a comprehensive example:</p> <pre><code>kubernetesResources:\n  # Whether to enable permission checks\n  enablePermissions: true\n  # If using a non default annotation prefix in the kubernetes ingestor set this to the value from the kubernetes ingestor as well\n  annotationPrefix: terasky.backstage.io\n  # Maximum concurrent requests to Kubernetes API\n  concurrency: 10\n</code></pre>"},{"location":"plugins/kubernetes/frontend/configure/#permission-configuration","title":"Permission Configuration","text":"<p>If you're using the permission framework, configure it in your backend:</p> <pre><code>import { kubernetesResourcesPermissions } from '@terasky/backstage-plugin-kubernetes-resources-common';\n\nexport default async function createRouter(\n  env: PluginEnvironment,\n): Promise&lt;Router&gt; {\n  return createRouter({\n    config: env.config,\n    logger: env.logger,\n    discovery: env.discovery,\n    policy: {\n      permission: {\n        name: kubernetesResourcesPermissions.resourcesList,\n        attributes: {},\n      },\n      result: AuthorizeResult.ALLOW,\n    },\n  });\n}\n</code></pre>"},{"location":"plugins/kubernetes/frontend/configure/#component-configuration","title":"Component Configuration","text":""},{"location":"plugins/kubernetes/frontend/configure/#kubernetesresourcespage-props","title":"KubernetesResourcesPage Props","text":"<pre><code>interface KubernetesResourcesPageProps {\n  // Optional: Default cluster selection\n  defaultCluster?: string;\n\n  // Optional: Default namespace\n  defaultNamespace?: string;\n\n  // Optional: Resource types to show\n  resourceTypes?: string[];\n\n  // Optional: Refresh interval in seconds\n  refreshInterval?: number;\n}\n</code></pre>"},{"location":"plugins/kubernetes/frontend/configure/#kubernetesresourcegraph-props","title":"KubernetesResourceGraph Props","text":"<pre><code>interface KubernetesResourceGraphProps {\n  // Optional: Graph layout direction\n  direction?: 'TB' | 'LR';\n\n  // Optional: Node spacing\n  nodeSpacing?: number;\n\n  // Optional: Edge routing\n  edgeRouting?: 'bezier' | 'straight';\n\n  // Optional: Auto-refresh interval\n  refreshInterval?: number;\n}\n</code></pre>"},{"location":"plugins/kubernetes/frontend/configure/#integration-examples","title":"Integration Examples","text":""},{"location":"plugins/kubernetes/frontend/configure/#basic-page-integration","title":"Basic Page Integration","text":"<pre><code>import { KubernetesResourcesPage } from '@terasky/backstage-plugin-kubernetes-resources-frontend';\n\nconst resourcesPage = (\n  &lt;KubernetesResourcesPage\n    defaultCluster=\"production\"\n    defaultNamespace=\"default\"\n    refreshInterval={30}\n  /&gt;\n);\n</code></pre>"},{"location":"plugins/kubernetes/frontend/configure/#advanced-graph-integration","title":"Advanced Graph Integration","text":"<pre><code>import { KubernetesResourceGraph } from '@terasky/backstage-plugin-kubernetes-resources-frontend';\n\nconst graphPage = (\n  &lt;KubernetesResourceGraph\n    direction=\"LR\"\n    nodeSpacing={100}\n    edgeRouting=\"bezier\"\n    refreshInterval={60}\n  /&gt;\n);\n</code></pre>"},{"location":"plugins/kubernetes/frontend/configure/#proxy-configuration","title":"Proxy Configuration","text":"<p>Configure proxy settings for each cluster:</p> <pre><code>proxy:\n  '/kubernetes-resources/production':\n    target: 'http://k8s-tracker.prod.example.com'\n    changeOrigin: true\n    headers:\n      Authorization: 'Bearer ${K8S_TOKEN}'\n\n  '/kubernetes-resources/staging':\n    target: 'http://k8s-tracker.staging.example.com'\n    changeOrigin: true\n    headers:\n      Authorization: 'Bearer ${K8S_STAGING_TOKEN}'\n</code></pre>"},{"location":"plugins/kubernetes/frontend/configure/#entity-annotations","title":"Entity Annotations","text":"<p>Configure entity annotations for resource mapping:</p> <pre><code>annotations:\n  # Required annotations\n  terasky.backstage.io/kubernetes-resource-name: 'nginx-deployment'\n  terasky.backstage.io/kubernetes-resource-kind: 'Deployment'\n  terasky.backstage.io/kubernetes-resource-api-version: 'apps/v1'\n  backstage.io/managed-by-origin-location: 'production'\n\n  # Optional annotations\n  terasky.backstage.io/kubernetes-resource-namespace: 'web-apps'\n</code></pre>"},{"location":"plugins/kubernetes/frontend/configure/#best-practices","title":"Best Practices","text":"<ol> <li> <p>Proxy Configuration</p> <ul> <li>Use environment variables for tokens</li> <li>Configure timeouts appropriately</li> <li>Enable error handling</li> <li>Set proper headers</li> </ul> </li> <li> <p>Permission Management</p> <ul> <li>Define clear role boundaries</li> <li>Restrict secret access</li> <li>Control YAML visibility</li> <li>Manage event access</li> </ul> </li> <li> <p>Resource Organization</p> <ul> <li>Use consistent naming</li> <li>Group related resources</li> <li>Set appropriate refresh intervals</li> <li>Configure proper layouts</li> </ul> </li> </ol> <p>For installation instructions, refer to the Installation Guide. </p>"},{"location":"plugins/kubernetes/frontend/install/","title":"Installing the Kubernetes Resources Frontend Plugin","text":"<p>This guide will help you install and set up the Kubernetes Resources frontend plugin in your Backstage instance.</p>"},{"location":"plugins/kubernetes/frontend/install/#prerequisites","title":"Prerequisites","text":"<p>Before installing the plugin, ensure you have:</p> <ol> <li>A working Backstage instance</li> <li>The Kubernetes backend deployment installed in your clusters</li> <li>Access to Kubernetes clusters</li> <li>Proper proxy configuration</li> </ol>"},{"location":"plugins/kubernetes/frontend/install/#installation-steps","title":"Installation Steps","text":""},{"location":"plugins/kubernetes/frontend/install/#1-add-the-package","title":"1. Add the Package","text":"<p>Install the plugin package using yarn:</p> <pre><code>yarn --cwd packages/app add @terasky/backstage-plugin-kubernetes-resources-frontend\n</code></pre>"},{"location":"plugins/kubernetes/frontend/install/#2-add-to-entity-page","title":"2. Add to Entity Page","text":"<p>Modify your entity page configuration in <code>packages/app/src/components/catalog/EntityPage.tsx</code>:</p> <pre><code>import {\n  KubernetesResourcesPage,\n  KubernetesResourceGraph,\n  isKubernetesResourcesAvailable,\n} from '@terasky/backstage-plugin-kubernetes-resources-frontend';\n\nconst serviceEntityPage = (\n  &lt;EntityLayout&gt;\n    &lt;EntityLayout.Route \n      path=\"/kubernetes-resource-page\" \n      if={isKubernetesResourcesAvailable}\n      title=\"Kubernetes Resources\"\n    &gt;\n      &lt;KubernetesResourcesPage /&gt;\n    &lt;/EntityLayout.Route&gt;\n    &lt;EntityLayout.Route \n      path=\"/kubernetes-resource-graph\" \n      if={isKubernetesResourcesAvailable}\n      title=\"Resource Graph\"\n    &gt;\n      &lt;KubernetesResourceGraph /&gt;\n    &lt;/EntityLayout.Route&gt;\n  &lt;/EntityLayout&gt;\n);\n</code></pre>"},{"location":"plugins/kubernetes/frontend/install/#3-configure-proxy-settings","title":"3. Configure Proxy Settings","text":"<p>Add proxy configuration to your <code>app-config.yaml</code>:</p> <pre><code>proxy:\n  '/kubernetes-resources/&lt;CLUSTER NAME&gt;':\n    target: 'http://&lt;THE INGRESS URL OF THE DEPLOYED APP&gt;'\n    changeOrigin: true\n    headers:\n      Authorization: 'Bearer &lt;SAME TOKEN AS IS USED IN THE K8S PLUGIN CONFIGURATION&gt;'\n</code></pre>"},{"location":"plugins/kubernetes/frontend/install/#4-deploy-backend-component","title":"4. Deploy Backend Component","text":"<p>Deploy the Kubernetes dependency tracker to your clusters:</p> <pre><code>export INGRESS_HOST_NAME=\"k8s-dependency-tracker.example.com\"\nwget https://github.com/TeraSky-OSS/kubernetes-dependency-tracker/releases/download/0.1.0/kubernetes-manifest.yaml\nsed -i \"s/REPLACE_ME/${INGRESS_HOST_NAME}/g\" kubernetes-manifest.yaml\nkubectl apply -f kubernetes-manifest.yaml\n</code></pre>"},{"location":"plugins/kubernetes/frontend/install/#5-configure-entity-annotations","title":"5. Configure Entity Annotations","text":"<p>Add required annotations to your catalog entities:</p> <pre><code>annotations:\n  terasky.backstage.io/kubernetes-resource-name: 'resource-name'\n  terasky.backstage.io/kubernetes-resource-kind: 'ResourceKind'\n  terasky.backstage.io/kubernetes-resource-api-version: 'group/version'\n  terasky.backstage.io/kubernetes-resource-namespace: 'namespace' # Optional\n  backstage.io/managed-by-origin-location: 'cluster-name'\n</code></pre>"},{"location":"plugins/kubernetes/frontend/install/#new-frontend-system-support-alpha","title":"New Frontend System Support (Alpha)","text":"<p>The plugin now supports the new frontend system available in the <code>/alpha</code> export. To use this:</p> <pre><code>import { createApp } from '@backstage/frontend-defaults';\nimport { kubernetesResourcesPlugin } from '@terasky/backstage-plugin-kubernetes-resources-frontend/alpha';\n\nexport default createApp({\n  features: [\n    ...\n    kubernetesResourcesPlugin,\n    ...\n  ],\n});\n</code></pre> <p>This replaces the need for manual route configuration in <code>EntityPage.tsx</code> and other files. The plugin will be automatically integrated into the appropriate entity pages.</p>"},{"location":"plugins/kubernetes/frontend/install/#verification","title":"Verification","text":"<p>After installation, verify that:</p> <ol> <li>The plugin appears in your package.json dependencies</li> <li>The Kubernetes resources pages are accessible</li> <li>Resource graphs are rendering correctly</li> <li>Events and YAML views are working</li> <li>Proxy configuration is functioning</li> </ol>"},{"location":"plugins/kubernetes/frontend/install/#troubleshooting","title":"Troubleshooting","text":"<p>Common issues and solutions:</p> <ol> <li>Resources Not Loading</li> <li>Check proxy configuration</li> <li>Verify backend deployment</li> <li>Ensure cluster access</li> <li> <p>Check entity annotations</p> </li> <li> <p>Graph Not Rendering</p> </li> <li>Verify browser console for errors</li> <li>Check resource permissions</li> <li>Ensure backend connectivity</li> <li> <p>Review proxy settings</p> </li> <li> <p>Permission Issues</p> </li> <li>Configure permission framework</li> <li>Check token permissions</li> <li>Verify role bindings</li> <li>Review access controls</li> </ol> <p>For configuration options and customization, proceed to the Configuration Guide. </p>"},{"location":"plugins/kubernetes-ingestor/overview/","title":"Kubernetes Ingestor Plugin","text":"<p>The Kubernetes Ingestor plugin is a powerful backend plugin for Backstage that automatically creates catalog entities from Kubernetes resources. It provides comprehensive support for standard Kubernetes workloads, custom resources, Crossplane resources, and KRO (Kubernetes Resource Orchestrator) resources, making it easy to maintain an up-to-date catalog of your infrastructure and applications.</p>"},{"location":"plugins/kubernetes-ingestor/overview/#features","title":"Features","text":"<ul> <li>Automatic Resource Discovery: Ingest standard Kubernetes workloads automatically</li> <li>Custom Resource Support: Add custom GVKs for ingestion</li> <li>Crossplane Integration: Auto-ingest Crossplane claims and XRDs</li> <li>KRO Integration: Auto-ingest KRO RGDs and instances</li> <li>Template Generation: Create templates for Crossplane XRDs and KRO RGDs with enhanced repository picker support and reliable YAML download links (base64-encoded)</li> <li>API Entity Creation: Generate API entities for XRDs and RGDs with configurable formats (CRD or OpenAPI type)</li> <li>CRD-Type API Support: Ingest APIs as CRD-type entities with full CRD YAML definitions (requires api-docs-module-crd plugin)</li> <li>API Auto-Registration: Automatically create API entities from OpenAPI/Swagger definitions exposed by your workloads</li> <li>API-Only Ingestion: Ingest CRDs, XRDs, and RGDs as API entities only without template generation</li> <li>Resource Entity Support: Ingest Kubernetes objects as Resource entities instead of Component entities</li> <li>Relationship Mapping: Track dependencies between resources and APIs</li> <li>Flexible Configuration: Customize ingestion behavior and mapping</li> <li>Annotation Support: Rich annotation system for entity customization</li> <li>Enhanced Repository Selection: Dropdown pickers for repository and organization selection in scaffolder templates</li> </ul>"},{"location":"plugins/kubernetes-ingestor/overview/#plugin-components","title":"Plugin Components","text":""},{"location":"plugins/kubernetes-ingestor/overview/#backend-plugin","title":"Backend Plugin","text":"<p>The plugin provides backend functionality for: - Resource discovery and ingestion - Template generation - API entity creation - Relationship management  </p> <p>Learn more about the backend plugin</p>"},{"location":"plugins/kubernetes-ingestor/overview/#resource-types","title":"Resource Types","text":""},{"location":"plugins/kubernetes-ingestor/overview/#standard-workloads","title":"Standard Workloads","text":"<ul> <li>Deployments</li> <li>StatefulSets</li> <li>DaemonSets</li> <li>Jobs</li> <li>CronJobs</li> <li>And more...</li> </ul>"},{"location":"plugins/kubernetes-ingestor/overview/#crossplane-resources","title":"Crossplane Resources","text":"<ul> <li>Claims (v1)</li> <li>XRs (v2)</li> <li>XRDs</li> <li>APIs</li> <li>Dependencies</li> </ul>"},{"location":"plugins/kubernetes-ingestor/overview/#kro-resources","title":"KRO Resources","text":"<ul> <li>RGDs (Resource Graph Definitions)</li> <li>RGD Instances</li> <li>Generated CRDs</li> <li>Managed Resources</li> <li>Dependencies</li> </ul>"},{"location":"plugins/kubernetes-ingestor/overview/#custom-resources","title":"Custom Resources","text":"<ul> <li>User-defined GVKs</li> <li>Custom workload types</li> <li>Specific resource kinds</li> </ul>"},{"location":"plugins/kubernetes-ingestor/overview/#documentation-structure","title":"Documentation Structure","text":"<ul> <li>About</li> <li>Installation</li> <li>Configuration</li> </ul>"},{"location":"plugins/kubernetes-ingestor/overview/#annotations","title":"Annotations","text":"<p>The plugin supports a rich set of annotations for customizing entity creation:</p> <pre><code>General Annotations:\n  terasky.backstage.io/add-to-catalog: true/false\n  terasky.backstage.io/exclude-from-catalog: true/false\n  terasky.backstage.io/backstage-namespace: string\n  terasky.backstage.io/owner: string\n\nNamespace Annotations:\n  terasky.backstage.io/system-type: string\n  terasky.backstage.io/domain: string\n\nWorkload Resource Annotations:\n  terasky.backstage.io/system: string\n  terasky.backstage.io/source-code-repo-url: string\n  terasky.backstage.io/source-branch: string\n  terasky.backstage.io/techdocs-path: string\n  terasky.backstage.io/kubernetes-label-selector: string\n  terasky.backstage.io/component-type: string\n  terasky.backstage.io/subcomponent-of: string\n  terasky.backstage.io/lifecycle: string\n  terasky.backstage.io/dependsOn: string              # comma or newline separated\n  terasky.backstage.io/providesApis: string           # comma or newline separated\n  terasky.backstage.io/consumesApis: string           # comma or newline separated\n  terasky.backstage.io/component-annotations: string  # comma or newline separated (key=value)\n  terasky.backstage.io/links: string                  # JSON array. Each element must match: { \"url\": string, \"title\"?: string, \"icon\"?: string }\n                                                      #   Example: [{\"url\": \"https://docs.example.com\", \"title\": \"Docs\"}]\n  terasky.backstage.io/title: string\n  terasky.backstage.io/name: string\n  terasky.backstage.io/description: string\n\nAPI Auto-Registration Annotations:\n  terasky.backstage.io/provides-api-from-def: string      # URL for $text reference (runtime fetch)\n  terasky.backstage.io/provides-api-from-url: string      # URL to fetch and embed at ingestion\n  terasky.backstage.io/provides-api-from-resource-ref: JSON  # K8s resource reference\n</code></pre> <p>For multiline annotations, you can use the YAML block style <code>|</code>. Example:</p> <pre><code>terasky.backstage.io/dependsOn: |\n  resource:default/my-resource\n  component:default/my-component\nterasky.backstage.io/links: |\n  [\n    {\n      \"url\": \"https://docs.example.com\",\n      \"title\": \"Docs\",\n    },\n    {\n      \"url\": \"https://dashboard.example.com\",\n      \"title\": \"Dashboard\",\n      \"icon\": \"dashboard\"\n    }\n  ]\n</code></pre>"},{"location":"plugins/kubernetes-ingestor/overview/#getting-started","title":"Getting Started","text":"<p>To get started with the Kubernetes Ingestor plugin: 1. Install the backend plugin 2. Configure RBAC settings 3. Set up ingestion rules 4. Configure template generation 5. Start discovering resources  </p> <p>For detailed installation and configuration instructions, refer to the backend documentation linked above.</p>"},{"location":"plugins/kubernetes-ingestor/backend/about/","title":"Kubernetes Ingestor Backend Plugin","text":""},{"location":"plugins/kubernetes-ingestor/backend/about/#overview","title":"Overview","text":"<p>The Kubernetes Ingestor backend plugin is a catalog entity provider that automatically creates and maintains Backstage catalog entities from Kubernetes resources. It supports standard workloads, custom resources, and provides deep integration with Crossplane for managing cloud infrastructure.</p>"},{"location":"plugins/kubernetes-ingestor/backend/about/#features","title":"Features","text":""},{"location":"plugins/kubernetes-ingestor/backend/about/#resource-discovery","title":"Resource Discovery","text":"<ul> <li>Automatic workload detection</li> <li>Custom resource type support</li> <li>Namespace filtering</li> <li>Selective ingestion</li> <li>Multi-cluster support</li> </ul>"},{"location":"plugins/kubernetes-ingestor/backend/about/#crossplane-integration","title":"Crossplane Integration","text":"<ul> <li>Claim resource ingestion (v1)</li> <li>XR resource ingestion (v2)</li> <li>XRD template generation</li> <li>API entity creation</li> <li>Relationship tracking</li> </ul>"},{"location":"plugins/kubernetes-ingestor/backend/about/#template-generation","title":"Template Generation","text":"<ul> <li>XRD-based templates</li> <li>Multiple publishing targets</li> <li>Git integration</li> <li>YAML download option</li> <li>Customizable outputs</li> </ul>"},{"location":"plugins/kubernetes-ingestor/backend/about/#entity-management","title":"Entity Management","text":"<ul> <li>Automatic updates</li> <li>Relationship mapping</li> <li>System organization</li> <li>Metadata handling</li> <li>Annotation processing</li> <li>Flexible entity types (Component or Resource)</li> <li>API-only ingestion mode</li> </ul>"},{"location":"plugins/kubernetes-ingestor/backend/about/#components","title":"Components","text":""},{"location":"plugins/kubernetes-ingestor/backend/about/#entity-provider","title":"Entity Provider","text":"<p>The core component that: - Discovers resources - Creates entities - Maintains relationships - Updates catalog  </p>"},{"location":"plugins/kubernetes-ingestor/backend/about/#template-generator","title":"Template Generator","text":"<p>Generates software templates for: - Crossplane XRDs - Custom resources - Resource creation - Configuration management - YAML download links (base64-encoded for browser compatibility)  </p>"},{"location":"plugins/kubernetes-ingestor/backend/about/#api-manager","title":"API Manager","text":"<p>Handles API-related tasks: - API entity creation (CRD-type or OpenAPI-type) - Relationship tracking - Version management - Documentation links - Schema extraction and processing</p>"},{"location":"plugins/kubernetes-ingestor/backend/about/#technical-details","title":"Technical Details","text":""},{"location":"plugins/kubernetes-ingestor/backend/about/#resource-processing","title":"Resource Processing","text":"<p>The plugin processes resources through: 1. Discovery phase 2. Filtering phase 3. Entity creation 4. Relationship mapping 5. Catalog update  </p>"},{"location":"plugins/kubernetes-ingestor/backend/about/#mapping-models","title":"Mapping Models","text":"<p>Supports various mapping models: - Namespace mapping - Name mapping - Title mapping - System mapping - Reference mapping  </p>"},{"location":"plugins/kubernetes-ingestor/backend/about/#task-runners","title":"Task Runners","text":"<p>Configurable task runners for: - Resource discovery - Template generation - API updates - Relationship maintenance  </p>"},{"location":"plugins/kubernetes-ingestor/backend/about/#integration-points","title":"Integration Points","text":""},{"location":"plugins/kubernetes-ingestor/backend/about/#kubernetes-integration","title":"Kubernetes Integration","text":"<ul> <li>Cluster access</li> <li>Resource watching</li> <li>Event handling</li> <li>State management</li> </ul>"},{"location":"plugins/kubernetes-ingestor/backend/about/#crossplane-integration_1","title":"Crossplane Integration","text":"<ul> <li>XRD processing</li> <li>Claim handling</li> <li>API generation</li> <li>Template creation</li> </ul>"},{"location":"plugins/kubernetes-ingestor/backend/about/#git-integration","title":"Git Integration","text":"<ul> <li>Repository access</li> <li>PR creation</li> <li>Branch management</li> <li>File handling</li> </ul>"},{"location":"plugins/kubernetes-ingestor/backend/about/#use-cases","title":"Use Cases","text":""},{"location":"plugins/kubernetes-ingestor/backend/about/#standard-workload-management","title":"Standard Workload Management","text":"<ol> <li>Discover workloads</li> <li>Create components</li> <li>Map relationships</li> <li>Maintain metadata</li> </ol>"},{"location":"plugins/kubernetes-ingestor/backend/about/#crossplane-resource-management","title":"Crossplane Resource Management","text":"<ol> <li>Process XRDs</li> <li>Generate templates</li> <li>Create API entities</li> <li>Track relationships</li> </ol>"},{"location":"plugins/kubernetes-ingestor/backend/about/#custom-resource-management","title":"Custom Resource Management","text":"<ol> <li>Define custom types</li> <li>Configure ingestion</li> <li>Process resources</li> <li>Create entities</li> </ol>"},{"location":"plugins/kubernetes-ingestor/backend/about/#example-workflows","title":"Example Workflows","text":""},{"location":"plugins/kubernetes-ingestor/backend/about/#workload-discovery","title":"Workload Discovery","text":"<pre><code>kubernetesIngestor:\n  components:\n    enabled: true\n    taskRunner:\n      frequency: 10\n      timeout: 600\n    excludedNamespaces:\n      - kube-system\n    customWorkloadTypes:\n      - group: pkg.crossplane.io\n        apiVersion: v1\n        plural: providers\n</code></pre>"},{"location":"plugins/kubernetes-ingestor/backend/about/#template-generation_1","title":"Template Generation","text":"<pre><code>kubernetesIngestor:\n  crossplane:\n    xrds:\n      publishPhase:\n        allowedTargets: ['github.com', 'gitlab.com']\n        target: github\n        git:\n          repoUrl: github.com?owner=org&amp;repo=templates\n          targetBranch: main\n        allowRepoSelection: true\n</code></pre>"},{"location":"plugins/kubernetes-ingestor/backend/about/#download-link-encoding","title":"Download Link Encoding","text":"<p>Generated templates include \"Download YAML Manifest\" links that use base64 encoding (e.g., <code>data:application/yaml;base64,...</code>). This encoding format: - Ensures reliable downloads across all browsers - Follows W3C standards for data URIs - Preserves YAML formatting and newlines - Provides smaller file sizes compared to URL encoding</p> <p>For installation and configuration details, refer to the Installation Guide and Configuration Guide.</p>"},{"location":"plugins/kubernetes-ingestor/backend/configure/","title":"Configuring the Kubernetes Ingestor Backend Plugin","text":"<p>This guide covers the configuration options available for the Kubernetes Ingestor backend plugin.</p>"},{"location":"plugins/kubernetes-ingestor/backend/configure/#configuration-file","title":"Configuration File","text":"<p>The plugin is configured through your <code>app-config.yaml</code>. Here's a comprehensive example:</p> <pre><code>kubernetesIngestor:\n  # Optional field to set the default owner of the ingested resources.\n  defaultOwner: kubernetes-auto-ingested\n  # Whether to ingest API entities as CRD type instead of OpenAPI type (default: true)\n  # When true, API entities will have type \"crd\" with the full CRD YAML as definition\n  # When false, API entities will have type \"openapi\" with generated OpenAPI spec\n  # Note: CRD-type APIs require the api-docs-module-crd plugin for proper rendering\n  ingestAPIsAsCRDs: true\n  # Mappings of kubernetes resource metadata to backstage entity metadata\n  # The list bellow are the default values when the mappings are not set in the app-config.yaml\n  # The recommended values are:\n  # namespaceModel: 'cluster' # cluster, namespace, default\n  # nameModel: 'name-cluster' # name-cluster, name-namespace, name\n  # titleModel: 'name' # name, name-cluster, name-namespace\n  # systemModel: 'cluster-namespace' # cluster, namespace, cluster-namespace, default\n  # referencesNamespaceModel: 'default' # default, same\n  mappings:\n    namespaceModel: 'cluster' # cluster, namespace, default\n    nameModel: 'name-cluster' # name-cluster, name-namespace, name-kind, name, uid\n    titleModel: 'name' # name, name-cluster, name-namespace\n    systemModel: 'namespace' # cluster, namespace, cluster-namespace, default\n    referencesNamespaceModel: 'default' # default, same\n  # Default owner for ingested entities when no owner annotation is set\n  defaultOwner: 'kubernetes-auto-ingested'\n  # A list of cluster names to ingest resources from. If empty, resources from all clusters under kubernetes.clusterLocatorMethods.clusters will be ingested.\n  # Note: Clusters using OIDC authentication are automatically excluded as they require client-side authentication.\n  # allowedClusterNames:\n  #   - my-cluster-name\n  # Cluster name mapping for entity annotations (optional)\n  # Maps backend cluster names (SA auth) to frontend cluster names (OIDC auth)\n  # clusterNameMapping:\n  #   mode: 'prefix-replacement'  # or 'explicit'\n  #   sourcePrefix: 'sa-'\n  #   targetPrefix: 'oidc-'\n  #   # For explicit mode:\n  #   # mappings:\n  #   #   'sa-cls-01': 'oidc-cls-01'\n  #   #   'sa-cls-02': 'oidc-cls-02'\n  components:\n    # Whether to enable creation of backstage components for Kubernetes workloads\n    enabled: true\n    # Whether to ingest Kubernetes workloads as Resource entities instead of Component entities (default: false)\n    ingestAsResources: false\n    taskRunner:\n      # How often to query the clusters for data\n      frequency: 10\n      # Max time to process the data per cycle\n      timeout: 600\n    # Namespaces to exclude the resources from\n    excludedNamespaces:\n      - kube-public\n      - kube-system\n    # Custom Resource Types to also generate components for\n    customWorkloadTypes:\n      - group: pkg.crossplane.io\n        apiVersion: v1\n        plural: providers\n        # singular: provider # explicit singular form - needed when auto-detection fails\n        # defaultType: provider # Optional: fallback component type when annotation is missing. Default is service\n    # By default all standard kubernetes workload types are ingested. This allows you to disable this behavior\n    disableDefaultWorkloadTypes: false\n    # Allows ingestion to be opt-in or opt-out by either requiring or not a dedicated annotation to ingest a resource (terasky.backstage.io/add-to-catalog or terasky.backstage.io/exclude-from-catalog)\n    onlyIngestAnnotatedResources: false\n  crossplane:\n    # Whether to completely disable crossplane related code for both XRDs and Claims. defaults to enabled if not provided for backwards compatibility\n    enabled: true\n    # This section is relevant for crossplane v1 claims as well as Crossplane v2 XRs.\n    # In the future when v1 and claims are deprecated this field will change names but currently \n    # for backwards compatibility will stay as is\n    claims:\n      # Whether to create components for all claim resources (v1) and XRs (v2) in your cluster\n      ingestAllClaims: true\n      # Whether to ingest claims and XRs as Resource entities instead of Component entities (default: false)\n      ingestAsResources: false\n    xrds:\n      # Whether to ingest XRDs as API entities only without generating templates (default: false)\n      ingestOnlyAsAPI: false\n      # Settings related to the final steps of a software template\n      publishPhase:\n        # Base URLs of Git servers you want to allow publishing to\n        allowedTargets: ['github.com', 'gitlab.com']\n        # What to publish to. currently supports github, gitlab, bitbucket, bitbucketCloud and YAML (provides a link to download the file)\n        target: github\n        git:\n          # Follows the backstage standard format which is github.com?owner=&lt;REPO OWNER&gt;&amp;repo=&lt;REPO NAME&gt;\n          repoUrl:\n          targetBranch: main\n        # Whether the user should be able to select the repo they want to push the manifest to or not\n        allowRepoSelection: true\n        # Whether to request user OAuth credentials when selecting a repository URL (defaults to false)\n        requestUserCredentialsForRepoUrl: false\n      # Whether to enable the creation of software templates for all XRDs\n      enabled: true\n      taskRunner:\n        # How often to query the clusters for data\n        frequency: 10\n        # Max time to process the data per cycle\n        timeout: 600\n      # Allows ingestion to be opt-in or opt-out by either requiring or not a dedicated annotation to ingest a xrd (terasky.backstage.io/add-to-catalog or terasky.backstage.io/exclude-from-catalog)\n      ingestAllXRDs: true\n      # Will convert default values from the XRD into placeholders in the UI instead of always adding them to the generated manifest.\n      convertDefaultValuesToPlaceholders: true\n  genericCRDTemplates:\n    # Whether to ingest CRDs as API entities only without generating templates (default: false)\n    ingestOnlyAsAPI: false\n    # Settings related to the final steps of a software template\n    publishPhase:\n      # Base URLs of Git servers you want to allow publishing to\n      allowedTargets: ['github.com', 'gitlab.com']\n      # What to publish to. currently supports github, gitlab, bitbucket, bitbucketCloud and YAML (provides a link to download the file)\n      target: github\n      git:\n        # Follows the backstage static format which is github.com?owner=&lt;REPO OWNER&gt;&amp;repo=&lt;REPO NAME&gt;\n        repoUrl:\n        targetBranch: main\n      # Whether the user should be able to select the repo they want to push the manifest to or not\n      allowRepoSelection: true\n      # Whether to request user OAuth credentials when selecting a repository URL (defaults to false)\n      requestUserCredentialsForRepoUrl: false\n    crdLabelSelector:\n      key: terasky.backstage.io/generate-form\n      value: \"true\"\n    crds:\n      - certificates.cert-manager.io\n  kro:\n    # Whether to completely disable KRO related code for both RGDs and instances. defaults to disabled if not provided\n    enabled: false\n    # Whether to ingest KRO instances as Resource entities instead of Component entities (default: false)\n    instances:\n      ingestAsResources: false\n    rgds:\n      # Whether to ingest RGDs as API entities only without generating templates (default: false)\n      ingestOnlyAsAPI: false\n      # Settings related to the final steps of a software template\n      publishPhase:\n        # Base URLs of Git servers you want to allow publishing to\n        allowedTargets: ['github.com', 'gitlab.com']\n        # What to publish to. currently supports github, gitlab, bitbucket, bitbucketCloud and YAML (provides a link to download the file)\n        target: github\n        git:\n          # Follows the backstage standard format which is github.com?owner=&lt;REPO OWNER&gt;&amp;repo=&lt;REPO NAME&gt;\n          repoUrl:\n          targetBranch: main\n        # Whether the user should be able to select the repo they want to push the manifest to or not\n        allowRepoSelection: true\n        # Whether to request user OAuth credentials when selecting a repository URL (defaults to false)\n        requestUserCredentialsForRepoUrl: false\n      # Whether to enable the creation of software templates for all RGDs\n      enabled: true\n      taskRunner:\n        # How often to query the clusters for data\n        frequency: 10\n        # Max time to process the data per cycle\n        timeout: 600\n  # Whether to auto add the argo cd plugins annotation to the ingested components if the ingested resources have the ArgoCD tracking annotation added to them. defaults to true\n  argoIntegration: true\n</code></pre>"},{"location":"plugins/kubernetes-ingestor/backend/configure/#cluster-authentication-requirements","title":"Cluster Authentication Requirements","text":"<p>The Kubernetes Ingestor plugin runs on the backend and communicates directly with Kubernetes clusters. This means it requires authentication methods that work for server-to-server communication.</p>"},{"location":"plugins/kubernetes-ingestor/backend/configure/#supported-authentication-providers","title":"Supported Authentication Providers","text":"<p>The following authentication providers are supported:</p> <ul> <li><code>serviceAccount</code> - Uses a Kubernetes service account token</li> <li><code>google</code> - Uses Google Cloud service account credentials</li> <li><code>aws</code> - Uses AWS IAM credentials</li> <li><code>azure</code> - Uses Azure service principal credentials</li> <li><code>localKubectlProxy</code> - Uses a local kubectl proxy</li> </ul>"},{"location":"plugins/kubernetes-ingestor/backend/configure/#excluded-authentication-providers","title":"Excluded Authentication Providers","text":"<p>The following authentication providers are automatically excluded because they require client-side (browser-based) authentication:</p> <ul> <li><code>oidc</code> - OpenID Connect requires user interaction for authentication</li> </ul> <p>Clusters configured with these auth providers will be silently skipped during ingestion. If you need to ingest resources from an OIDC-authenticated cluster, consider:</p> <ol> <li>Adding a service account with appropriate RBAC permissions to the cluster</li> <li>Configuring a separate cluster entry with <code>authProvider: serviceAccount</code> pointing to the same cluster</li> </ol>"},{"location":"plugins/kubernetes-ingestor/backend/configure/#cluster-name-mapping","title":"Cluster Name Mapping","text":"<p>When working with multiple authentication methods for the same cluster, you may need to register the cluster twice: once with service account authentication for backend ingestion, and once with OIDC authentication for frontend user interactions. The cluster name mapping feature allows the ingestor to use one cluster name for data collection while annotating entities with a different cluster name for frontend interactions.</p>"},{"location":"plugins/kubernetes-ingestor/backend/configure/#use-case","title":"Use Case","text":"<p>You need different authentication methods for different contexts: - Backend/Ingestion: Service Account (SA) authentication to scrape and ingest Kubernetes resources - Frontend: OIDC authentication for user interactions through the Backstage UI</p> <p>By using cluster name mapping, the ingestor will connect to clusters using SA authentication but annotate entities with the OIDC cluster name, ensuring users interact with the correct cluster configuration.</p>"},{"location":"plugins/kubernetes-ingestor/backend/configure/#configuration","title":"Configuration","text":"<p>The plugin supports two mapping modes: prefix replacement and explicit mappings.</p>"},{"location":"plugins/kubernetes-ingestor/backend/configure/#prefix-replacement-mode","title":"Prefix Replacement Mode","text":"<p>Use this mode when your clusters follow a naming convention with prefixes:</p> <pre><code>kubernetesIngestor:\n  clusterNameMapping:\n    mode: 'prefix-replacement'\n    sourcePrefix: 'sa-'\n    targetPrefix: 'oidc-'\n</code></pre> <p>Examples: - Backend cluster: <code>sa-cls-01</code> \u2192 Frontend cluster: <code>oidc-cls-01</code> - Backend cluster: <code>sa-cls-02</code> \u2192 Frontend cluster: <code>oidc-cls-02</code> - Backend cluster: <code>sa-prod-us-east</code> \u2192 Frontend cluster: <code>oidc-prod-us-east</code></p>"},{"location":"plugins/kubernetes-ingestor/backend/configure/#explicit-mapping-mode","title":"Explicit Mapping Mode","text":"<p>Use this mode when you need specific, one-to-one mappings between cluster names:</p> <pre><code>kubernetesIngestor:\n  clusterNameMapping:\n    mode: 'explicit'\n    mappings:\n      'sa-cls-01': 'oidc-cls-01'\n      'sa-cls-02': 'oidc-cls-02'\n      'backend-prod': 'frontend-prod'\n      'svc-acct-dev': 'user-auth-dev'\n</code></pre> <p>Behavior: - Mapped clusters use the specified frontend cluster name - Unmapped clusters use their original names (backward compatible)</p>"},{"location":"plugins/kubernetes-ingestor/backend/configure/#complete-example","title":"Complete Example","text":"<p>Here's a complete example showing both the Kubernetes plugin configuration and the Ingestor mapping:</p> <pre><code>kubernetes:\n  serviceLocatorMethod:\n    type: 'multiTenant'\n  clusterLocatorMethods:\n    - type: 'config'\n      clusters:\n        # Service Account clusters for backend ingestion\n        - name: sa-cls-01\n          url: https://cluster-01.example.com\n          authProvider: 'serviceAccount'\n          serviceAccountToken: ${K8S_SA_TOKEN_CLS_01}\n\n        - name: sa-cls-02\n          url: https://cluster-02.example.com\n          authProvider: 'serviceAccount'\n          serviceAccountToken: ${K8S_SA_TOKEN_CLS_02}\n\n        # OIDC clusters for frontend interactions\n        - name: oidc-cls-01\n          url: https://cluster-01.example.com\n          authProvider: 'oidc'\n          oidcTokenProvider: default\n\n        - name: oidc-cls-02\n          url: https://cluster-02.example.com\n          authProvider: 'oidc'\n          oidcTokenProvider: default\n\nkubernetesIngestor:\n  enabled: true\n\n  # Configure cluster name mapping\n  clusterNameMapping:\n    mode: 'prefix-replacement'\n    sourcePrefix: 'sa-'\n    targetPrefix: 'oidc-'\n\n  # Optionally restrict ingestion to specific clusters\n  allowedClusterNames:\n    - 'sa-cls-01'\n    - 'sa-cls-02'\n</code></pre>"},{"location":"plugins/kubernetes-ingestor/backend/configure/#how-it-works","title":"How It Works","text":"<ol> <li>The ingestor connects to clusters using Service Account authentication (e.g., <code>sa-cls-01</code>)</li> <li>It scrapes resources and creates Backstage entities</li> <li>When setting the <code>backstage.io/kubernetes-cluster</code> annotation on entities, it applies the configured mapping</li> <li>The annotation value becomes the mapped cluster name (e.g., <code>oidc-cls-01</code>)</li> <li>When users interact with these entities in the Backstage UI, the Kubernetes plugin uses the OIDC cluster configuration</li> </ol>"},{"location":"plugins/kubernetes-ingestor/backend/configure/#cluster-name-normalization","title":"Cluster Name Normalization","text":"<p>For entity naming, organization, tagging, and template generation purposes, the plugin automatically strips the configured prefixes to ensure consistent naming regardless of which authentication method was used. This means:</p> <ul> <li>Entity names (when using <code>name-cluster</code> model): <code>myapp-cls-01</code> (not <code>myapp-sa-cls-01</code> or <code>myapp-oidc-cls-01</code>)</li> <li>Entity titles (when using <code>name-cluster</code> model): <code>myapp-cls-01</code> (not <code>myapp-sa-cls-01</code> or <code>myapp-oidc-cls-01</code>)</li> <li>Namespaces (when using <code>cluster</code> model): <code>cls-01</code> (not <code>sa-cls-01</code> or <code>oidc-cls-01</code>)</li> <li>Systems (when using <code>cluster</code> or <code>cluster-namespace</code> models): <code>cls-01</code> or <code>cls-01-default</code> (not <code>sa-cls-01-default</code>)</li> <li>Tags: <code>cluster:cls-01</code> (not <code>cluster:sa-cls-01</code> or <code>cluster:oidc-cls-01</code>)</li> <li>Template cluster options (in scaffolder templates): Users see and select <code>cls-01</code> in dropdowns (not <code>sa-cls-01</code> or <code>oidc-cls-01</code>)</li> </ul> <p>Example:</p> <p>With configuration: <pre><code>clusterNameMapping:\n  mode: 'prefix-replacement'\n  sourcePrefix: 'sa-'\n  targetPrefix: 'oidc-'\n</code></pre></p> <p>And clusters: <code>sa-cls-01</code>, <code>sa-cls-02</code>, <code>oidc-cls-01</code>, <code>oidc-cls-02</code></p> <ul> <li>Entity from <code>sa-cls-01</code> gets tag <code>cluster:cls-01</code> (prefix stripped)</li> <li>Entity from <code>oidc-cls-01</code> would also get tag <code>cluster:cls-01</code> (prefix stripped)</li> <li>But the <code>backstage.io/kubernetes-cluster</code> annotation will be <code>oidc-cls-01</code> (prefix mapped)</li> </ul> <p>This ensures that: 1. Entities from the same physical cluster have consistent names/tags regardless of auth method 2. Users searching for \"cls-01\" will find all related entities 3. The Kubernetes plugin still uses the correct OIDC cluster for user interactions</p>"},{"location":"plugins/kubernetes-ingestor/backend/configure/#affected-entities","title":"Affected Entities","text":"<p>The cluster name mapping applies to the following entity types: - Kubernetes workload components (Deployments, StatefulSets, etc.) - Crossplane Claims (XRCs) - Crossplane Composite Resources (XRs) - KRO Instances</p> <p>Note: The mapping only affects the <code>backstage.io/kubernetes-cluster</code> annotation value. Cluster tags (e.g., <code>cluster:sa-cls-01</code>) remain unchanged for filtering and searching purposes.</p>"},{"location":"plugins/kubernetes-ingestor/backend/configure/#advanced-features","title":"Advanced Features","text":""},{"location":"plugins/kubernetes-ingestor/backend/configure/#api-entity-types-crd-vs-openapi","title":"API Entity Types: CRD vs OpenAPI","text":"<p>The plugin supports two formats for API entities generated from Custom Resource Definitions (CRDs), Crossplane XRDs, and KRO RGDs:</p>"},{"location":"plugins/kubernetes-ingestor/backend/configure/#crd-type-api-entities-default","title":"CRD-Type API Entities (Default)","text":"<pre><code>kubernetesIngestor:\n  ingestAPIsAsCRDs: true  # Default: true\n</code></pre> <p>When <code>ingestAPIsAsCRDs</code> is set to <code>true</code> (or not set): - API entities will have <code>spec.type: \"crd\"</code> - The <code>spec.definition</code> field contains the full CRD YAML including the OpenAPI v3 schema - Provides a more complete representation of the Kubernetes resource including metadata, status definitions, and printer columns - Requires the <code>@terasky/backstage-plugin-api-docs-module-crd</code> frontend plugin to properly render CRD-type APIs in the Backstage UI</p> <p>Example CRD-Type API Entity: <pre><code>apiVersion: backstage.io/v1alpha1\nkind: API\nmetadata:\n  name: clusterapp-example.clustered.crossplane.io--v1\nspec:\n  type: crd\n  lifecycle: production\n  owner: kubernetes-auto-ingested\n  system: kubernetes-auto-ingested\n  definition: |\n    apiVersion: apiextensions.k8s.io/v1\n    kind: CustomResourceDefinition\n    metadata:\n      name: clusterapps.example.clustered.crossplane.io\n    spec:\n      group: example.clustered.crossplane.io\n      names:\n        kind: ClusterApp\n        plural: clusterapps\n      versions:\n        - name: v1\n          schema:\n            openAPIV3Schema:\n              # Full OpenAPI schema here\n</code></pre></p>"},{"location":"plugins/kubernetes-ingestor/backend/configure/#openapi-type-api-entities-legacy","title":"OpenAPI-Type API Entities (Legacy)","text":"<pre><code>kubernetesIngestor:\n  ingestAPIsAsCRDs: false\n</code></pre> <p>When <code>ingestAPIsAsCRDs</code> is set to <code>false</code>: - API entities will have <code>spec.type: \"openapi\"</code> - The <code>spec.definition</code> field contains a generated OpenAPI v3 specification - Provides a simplified view focused on the API operations - Works with Backstage's built-in API documentation viewer</p> <p>Example OpenAPI-Type API Entity: <pre><code>apiVersion: backstage.io/v1alpha1\nkind: API\nmetadata:\n  name: clusterapp-example.clustered.crossplane.io--v1\nspec:\n  type: openapi\n  lifecycle: production\n  owner: kubernetes-auto-ingested\n  system: kubernetes-auto-ingested\n  definition: |\n    openapi: 3.0.0\n    info:\n      title: clusterapps.example.clustered.crossplane.io\n      version: v1\n    components:\n      schemas:\n        Resource:\n          type: object\n          properties:\n            # OpenAPI schema here\n</code></pre></p>"},{"location":"plugins/kubernetes-ingestor/backend/configure/#choosing-the-right-format","title":"Choosing the Right Format","text":"<p>Use CRD-Type (Default) when: - You want complete CRD documentation including metadata and status fields - You need access to printer columns and subresource definitions - You want consistency with how CRDs are represented in Kubernetes - You have the api-docs-module-crd frontend plugin installed</p> <p>Use OpenAPI-Type when: - You prefer the simplified OpenAPI view - You don't have the api-docs-module-crd plugin installed - You want to use Backstage's built-in API documentation viewer - You're migrating from an older version and want to maintain compatibility</p>"},{"location":"plugins/kubernetes-ingestor/backend/configure/#plugin-dependencies","title":"Plugin Dependencies","text":"<p>When using CRD-type API entities (<code>ingestAPIsAsCRDs: true</code>), you must install the api-docs-module-crd frontend plugin:</p> <pre><code>yarn workspace app add @terasky/backstage-plugin-api-docs-module-crd\n</code></pre> <p>See the api-docs-module-crd plugin documentation for installation and configuration instructions.</p> <p>Note: The gitops-manifest-updater plugin automatically supports both CRD-type and OpenAPI-type API entities, so no additional configuration is needed for that plugin.</p>"},{"location":"plugins/kubernetes-ingestor/backend/configure/#ingest-only-as-api","title":"Ingest Only as API","text":"<p>The plugin supports ingesting Custom Resource Definitions (CRDs) as API entities only, without generating the corresponding Backstage templates. This is useful when you want to document your APIs but don't need users to create instances through Backstage.</p>"},{"location":"plugins/kubernetes-ingestor/backend/configure/#xrds-crossplane-composite-resource-definitions","title":"XRDs (Crossplane Composite Resource Definitions)","text":"<pre><code>kubernetesIngestor:\n  crossplane:\n    xrds:\n      enabled: true\n      ingestOnlyAsAPI: false  # Default: false\n</code></pre> <p>When <code>ingestOnlyAsAPI</code> is set to <code>true</code>: - API entities will be created for each XRD - Software templates will NOT be generated - Users can view the API documentation but cannot create new claims through Backstage</p>"},{"location":"plugins/kubernetes-ingestor/backend/configure/#kro-rgds-resourcegraphdefinitions","title":"KRO RGDs (ResourceGraphDefinitions)","text":"<pre><code>kubernetesIngestor:\n  kro:\n    enabled: true\n    rgds:\n      enabled: true\n      ingestOnlyAsAPI: false  # Default: false\n</code></pre> <p>When <code>ingestOnlyAsAPI</code> is set to <code>true</code>: - API entities will be created for each RGD - Software templates will NOT be generated - Users can view the API documentation but cannot create new instances through Backstage</p>"},{"location":"plugins/kubernetes-ingestor/backend/configure/#generic-crds","title":"Generic CRDs","text":"<pre><code>kubernetesIngestor:\n  genericCRDTemplates:\n    ingestOnlyAsAPI: false  # Default: false\n    crds:\n      - certificates.cert-manager.io\n</code></pre> <p>When <code>ingestOnlyAsAPI</code> is set to <code>true</code>: - API entities will be created for each configured CRD - Software templates will NOT be generated - Users can view the API documentation but cannot create new resources through Backstage</p> <p>Use Cases for API-Only Ingestion: 1. Documentation Only: You want to document your APIs in Backstage but don't want users to create instances through the platform 2. External Creation: Resources are created through other systems (CI/CD pipelines, GitOps, etc.) and you only want API visibility 3. Read-Only View: You want teams to browse available APIs without the ability to create new instances</p>"},{"location":"plugins/kubernetes-ingestor/backend/configure/#ingest-as-resources","title":"Ingest as Resources","text":"<p>The plugin supports ingesting Kubernetes objects as Backstage Resource entities instead of Component entities. In Backstage's data model, Resources represent infrastructure resources (databases, queues, storage) while Components represent software components (services, applications).</p>"},{"location":"plugins/kubernetes-ingestor/backend/configure/#components-regular-kubernetes-resources","title":"Components (Regular Kubernetes Resources)","text":"<pre><code>kubernetesIngestor:\n  components:\n    enabled: true\n    ingestAsResources: false  # Default: false\n</code></pre> <p>When <code>ingestAsResources</code> is set to <code>true</code>: - Regular Kubernetes workloads (Deployments, StatefulSets, etc.) will be ingested as Resource entities - The entity kind will be <code>Resource</code> instead of <code>Component</code> - Resource entities do not support <code>providesApis</code> and <code>consumesApis</code> relations (Component-specific)</p>"},{"location":"plugins/kubernetes-ingestor/backend/configure/#crossplane-claims-and-composite-resources-xrs","title":"Crossplane Claims and Composite Resources (XRs)","text":"<pre><code>kubernetesIngestor:\n  crossplane:\n    claims:\n      ingestAsResources: false  # Default: false\n</code></pre> <p>When <code>ingestAsResources</code> is set to <code>true</code>: - Both Crossplane claims and composite resources (XRs) will be ingested as Resource entities - The entity kind will be <code>Resource</code> instead of <code>Component</code> - Resource entities do not support <code>consumesApis</code> relations (Component-specific) - All Crossplane-specific annotations will still be present - This applies to both v1 claims/XRs and v2 claims/composites</p> <p>Note: XRs use the same configuration as claims because they are tightly coupled - claims create XRs, so they should be treated consistently.</p>"},{"location":"plugins/kubernetes-ingestor/backend/configure/#kro-instances","title":"KRO Instances","text":"<pre><code>kubernetesIngestor:\n  kro:\n    instances:\n      ingestAsResources: false  # Default: false\n</code></pre> <p>When <code>ingestAsResources</code> is set to <code>true</code>: - KRO instances will be ingested as Resource entities - The entity kind will be <code>Resource</code> instead of <code>Component</code> - Resource entities do not support <code>consumesApis</code> relations (Component-specific) - All KRO-specific annotations will still be present</p> <p>Use Cases for Resource Ingestion: 1. Infrastructure Resources: When Kubernetes objects represent infrastructure resources (databases, message queues, storage) rather than applications 2. Clear Separation: To distinguish between applications (Components) and the infrastructure they depend on (Resources) 3. Catalog Organization: To organize your catalog with proper entity types that match Backstage's data model</p>"},{"location":"plugins/kubernetes-ingestor/backend/configure/#combining-options","title":"Combining Options","text":"<p>You can use both <code>ingestOnlyAsAPI</code> and <code>ingestAsResources</code> together. For example:</p> <pre><code>kubernetesIngestor:\n  crossplane:\n    claims:\n      ingestAsResources: true  # Existing claims are Resources\n    xrds:\n      enabled: true\n      ingestOnlyAsAPI: true  # Only document APIs, no templates\n</code></pre> <p>This configuration: - Documents the APIs without template generation - Represents existing claim/XR instances as infrastructure resources - Provides API documentation without the ability to create new instances through Backstage</p>"},{"location":"plugins/kubernetes-ingestor/backend/configure/#api-auto-registration-from-workloads","title":"API Auto-Registration from Workloads","text":"<p>The plugin supports automatic registration of API entities from OpenAPI/Swagger definitions exposed by your workloads. This feature allows you to annotate Kubernetes resources (Deployments, Crossplane claims, KRO instances, etc.) to automatically fetch their API definitions and create corresponding API entities in the Backstage catalog.</p> <p>When an API entity is auto-registered: - The API entity is created with the same name as the component - The API entity title is set to <code>{Component Title} API</code> (e.g., \"Petstore API\") - The API entity is assigned to the same system as the component - The component's <code>providesApis</code> field is automatically updated to reference the API - The API definition is stored in YAML format - The <code>servers</code> field in the OpenAPI spec is automatically processed (see below)</p>"},{"location":"plugins/kubernetes-ingestor/backend/configure/#option-1-external-url-reference-text-directive","title":"Option 1: External URL Reference ($text directive)","text":"<p>Use this annotation when you want Backstage to fetch the API definition at runtime rather than embedding it in the catalog. This uses Backstage's <code>$text</code> substitution directive, which means the content is fetched when the entity is processed rather than during ingestion:</p> <pre><code>apiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: petstore\n  annotations:\n    terasky.backstage.io/title: \"Petstore\"\n    terasky.backstage.io/provides-api-from-def: \"http://petstore.example.com/api/v3/openapi.json\"\nspec:\n  # ... deployment spec\n</code></pre> <p>This creates an API entity with the following definition structure:</p> <pre><code>spec:\n  definition:\n    $text: http://petstore.example.com/api/v3/openapi.json\n</code></pre> <p>When to use this option: - When the API spec is frequently updated and you want the latest version - When you don't want to store large API specs in the catalog database - When the API endpoint is always accessible from the Backstage backend</p> <p>Note: The URL must be accessible by the Backstage backend at runtime when the entity is processed.</p>"},{"location":"plugins/kubernetes-ingestor/backend/configure/#option-2-fetch-and-embed","title":"Option 2: Fetch and Embed","text":"<p>Use this annotation when you want the plugin to fetch the API definition during ingestion and embed it directly in the catalog:</p> <pre><code>apiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: petstore\n  annotations:\n    terasky.backstage.io/title: \"Petstore\"\n    terasky.backstage.io/provides-api-from-url: \"http://petstore.example.com/swagger/openapi.json\"\nspec:\n  # ... deployment spec\n</code></pre> <p>The URL can point to: - OpenAPI 3.x specifications (JSON or YAML) - Swagger 2.x specifications (JSON or YAML) - URLs from Git providers (GitHub, GitLab, Bitbucket, Azure DevOps) with automatic authentication</p> <p>Git Provider URLs: When pointing to files hosted on Git providers, the plugin automatically uses Backstage's <code>UrlReaderService</code> for integrated authentication, caching, and rate limiting. This means your configured Git integrations will be used to authenticate requests. For example:</p> <pre><code># GitHub raw content URL (uses configured GitHub integration)\nterasky.backstage.io/provides-api-from-url: \"https://raw.githubusercontent.com/org/repo/main/openapi.json\"\n\n# GitLab raw file URL (uses configured GitLab integration)\nterasky.backstage.io/provides-api-from-url: \"https://gitlab.com/org/repo/-/raw/main/openapi.yaml\"\n</code></pre> <p>Internal Service URLs: For non-Git URLs (e.g., internal service Swagger endpoints), the plugin uses direct HTTP requests, which is appropriate for endpoints that don't require Backstage integration authentication.</p> <p>The plugin will automatically: 1. Fetch the API definition from the URL 2. Convert JSON to YAML if necessary 3. Create an API entity named after the component 4. Link the API to the component via <code>providesApis</code></p>"},{"location":"plugins/kubernetes-ingestor/backend/configure/#option-3-kubernetes-resource-reference","title":"Option 3: Kubernetes Resource Reference","text":"<p>Use this annotation when the API endpoint information needs to be extracted from another Kubernetes resource (e.g., a Service's LoadBalancer IP):</p> <pre><code>apiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: petstore\n  annotations:\n    terasky.backstage.io/title: \"Petstore\"\n    terasky.backstage.io/provides-api-from-resource-ref: |\n      {\n        \"kind\": \"Service\",\n        \"name\": \"petstore-svc\",\n        \"apiVersion\": \"v1\",\n        \"path\": \"/swagger/openapi.json\",\n        \"target-protocol\": \"http\",\n        \"target-port\": \"80\",\n        \"target-field\": \".status.loadBalancer.ingress[0].ip\"\n      }\nspec:\n  # ... deployment spec\n</code></pre> <p>Resource Reference Fields:</p> Field Required Description <code>kind</code> Yes The Kubernetes resource kind (e.g., \"Service\", \"Ingress\") <code>name</code> Yes The name of the Kubernetes resource <code>apiVersion</code> Yes The API version (e.g., \"v1\", \"networking.k8s.io/v1\") <code>namespace</code> No The namespace (defaults to the annotated resource's namespace) <code>path</code> Yes The path to append to the endpoint URL (e.g., \"/swagger/openapi.json\") <code>target-protocol</code> Yes The protocol to use: \"http\" or \"https\" <code>target-port</code> Yes The port number to use <code>target-field</code> Yes JSONPath-like expression to extract the endpoint from the resource <p>Supported <code>target-field</code> Examples:</p> <pre><code># Get LoadBalancer IP from a Service\n\"target-field\": \".status.loadBalancer.ingress[0].ip\"\n\n# Get LoadBalancer hostname from a Service\n\"target-field\": \".status.loadBalancer.ingress[0].hostname\"\n\n# Get cluster IP from a Service\n\"target-field\": \".spec.clusterIP\"\n\n# Get external IP from a Service (first one)\n\"target-field\": \".spec.externalIPs[0]\"\n\n# Get FQDN from Ingress\n\"target-field\": \".spec.rules[0].host\"\n</code></pre> <p>The plugin will: 1. Fetch the referenced Kubernetes resource 2. Extract the endpoint using the <code>target-field</code> expression 3. Construct the full URL: <code>{target-protocol}://{extracted-endpoint}:{target-port}{path}</code> 4. Fetch the API definition from the constructed URL 5. Create an API entity and link it to the component</p>"},{"location":"plugins/kubernetes-ingestor/backend/configure/#server-url-processing","title":"Server URL Processing","text":"<p>The plugin automatically processes the <code>servers</code> field in OpenAPI specifications to ensure usable server URLs:</p> <p>Relative URLs: If the <code>servers[0].url</code> field contains a relative path (e.g., <code>/api/v1</code>), it is automatically converted to a full URL based on where the API specification was fetched from.</p> <pre><code># Original spec fetched from http://api.example.com:8080/swagger.json\nservers:\n  - url: /api/v1\n\n# After processing\nservers:\n  - url: http://api.example.com:8080/api/v1\n</code></pre> <p>Different Server URLs: If the <code>servers[0].url</code> field contains a full URL that differs from the fetch location, the plugin preserves the original URL and adds a second server entry based on the fetch location:</p> <pre><code># Original spec fetched from http://internal.example.com:8080/swagger.json\nservers:\n  - url: https://external.example.com/api\n\n# After processing - both URLs are preserved\nservers:\n  - url: https://external.example.com/api\n  - url: http://internal.example.com:8080/api\n    description: Server based on API fetch location\n</code></pre> <p>Empty or Missing Servers: If the <code>servers</code> field is empty or missing, the plugin adds a server entry based on the fetch URL.</p> <p>This automatic processing ensures that API documentation in Backstage always includes usable server URLs for testing and exploration.</p>"},{"location":"plugins/kubernetes-ingestor/backend/configure/#error-handling","title":"Error Handling","text":"<p>If the plugin fails to fetch the API definition (network error, invalid URL, resource not found, etc.): - A warning is logged with details about the failure - The component is still created without the API reference - The plugin continues processing other resources</p> <p>This ensures that a failing API endpoint doesn't prevent the rest of your catalog from being ingested.</p>"},{"location":"plugins/kubernetes-ingestor/backend/configure/#use-cases","title":"Use Cases","text":"<ol> <li>Microservices with Swagger UI: Annotate deployments to auto-register their OpenAPI specs</li> <li>External APIs: Reference APIs exposed via LoadBalancer services</li> <li>Internal Services: Use ClusterIP or service DNS for internal API documentation</li> <li>Crossplane-provisioned APIs: Auto-register APIs from infrastructure provisioned by Crossplane</li> <li>KRO Application Stacks: Document APIs from multi-resource applications managed by KRO</li> </ol>"},{"location":"plugins/kubernetes-ingestor/backend/configure/#mapping-models","title":"Mapping Models","text":""},{"location":"plugins/kubernetes-ingestor/backend/configure/#namespace-model","title":"Namespace Model","text":"<p>Controls how Kubernetes namespaces map to Backstage: - <code>cluster</code>: Use cluster name - <code>namespace</code>: Use namespace name - <code>default</code>: Use default namespace  </p>"},{"location":"plugins/kubernetes-ingestor/backend/configure/#name-model","title":"Name Model","text":"<p>Determines entity name generation: - <code>name-cluster</code>: Combine name and cluster - <code>name-namespace</code>: Combine name and namespace - <code>name-kind</code>: Combine name and resource kind - <code>name</code>: Use resource name only - <code>uid</code>: Use the resources UID to ensure no colisions</p>"},{"location":"plugins/kubernetes-ingestor/backend/configure/#title-model","title":"Title Model","text":"<p>Controls entity title generation: - <code>name</code>: Use resource name - <code>name-cluster</code>: Combine name and cluster - <code>name-namespace</code>: Combine name and namespace  </p>"},{"location":"plugins/kubernetes-ingestor/backend/configure/#system-model","title":"System Model","text":"<p>Defines system mapping: - <code>cluster</code>: Use cluster name - <code>namespace</code>: Use namespace name - <code>cluster-namespace</code>: Combine both - <code>default</code>: Use default system  </p>"},{"location":"plugins/kubernetes-ingestor/backend/configure/#ownership","title":"Ownership","text":""},{"location":"plugins/kubernetes-ingestor/backend/configure/#default-owner","title":"Default Owner","text":"<p>If a resource does not define an owner annotation, the ingestor uses <code>kubernetesIngestor.defaultOwner</code>.</p> <p>Default: <code>kubernetes-auto-ingested</code></p> <pre><code>kubernetesIngestor:\n  defaultOwner: platform-engineering-team\n</code></pre>"},{"location":"plugins/kubernetes-ingestor/backend/configure/#owner-inheritance-from-namespace","title":"Owner Inheritance from Namespace","text":"<p>When <code>inheritOwnerFromNamespace</code> is enabled, Components created from workloads will automatically inherit the owner annotation from their Namespace if the workload doesn't have an explicit owner annotation.</p> <p>Owner annotation precedence (highest to lowest): 1. Workload annotation - Explicit override on the workload resource 2. Namespace annotation - Inherited from the Namespace (when enabled) 3. Plugin default owner - Fallback to <code>kubernetesIngestor.defaultOwner</code></p> <p>Default: <code>false</code></p> <pre><code>kubernetesIngestor:\n  inheritOwnerFromNamespace: false\n  defaultOwner: platform-engineering-team\n</code></pre> <p>Use Case: In organizations where namespaces represent team boundaries, this feature allows you to set the owner annotation once at the Namespace level instead of on each individual workload. For example, if all workloads in the <code>team-platform</code> namespace should be owned by <code>group:default/team-platform</code>, you can:</p> <ol> <li> <p>Set the annotation on the Namespace:    <pre><code>apiVersion: v1\nkind: Namespace\nmetadata:\n  name: team-platform\n  annotations:\n    terasky.backstage.io/owner: group:default/team-platform\n</code></pre></p> </li> <li> <p>Enable inheritance in the configuration:    <pre><code>kubernetesIngestor:\n  inheritOwnerFromNamespace: true\n</code></pre></p> </li> <li> <p>All workloads in that namespace will automatically inherit the owner from the namespace. Workload-level annotations can override the namespace-level owner if needed.</p> </li> </ol> <p>Note: This feature only applies to namespaced resources. Cluster-scoped resources will continue to use the plugin default owner if no explicit annotation is set.</p>"},{"location":"plugins/kubernetes-ingestor/backend/configure/#component-configuration","title":"Component Configuration","text":""},{"location":"plugins/kubernetes-ingestor/backend/configure/#task-runner-settings","title":"Task Runner Settings","text":"<pre><code>taskRunner:\n  # Run every 10 seconds\n  frequency: 10\n\n  # Allow up to 10 minutes per cycle\n  timeout: 600\n</code></pre>"},{"location":"plugins/kubernetes-ingestor/backend/configure/#resource-type-configuration","title":"Resource Type Configuration","text":"<pre><code>components:\n  # Custom resource types\n  customWorkloadTypes:\n    - group: apps.example.com\n      apiVersion: v1\n      plural: applications\n      singular: application\n      defaultType: app  # Optional: fallback component type when annotation is missing. Default is service\n\n  # Exclude system namespaces\n  excludedNamespaces:\n    - kube-system\n    - kube-public\n</code></pre>"},{"location":"plugins/kubernetes-ingestor/backend/configure/#default-type-for-custom-workloads","title":"Default Type for Custom Workloads","text":"<p>The <code>defaultType</code> field allows you to specify a fallback Backstage component type for custom workload types when the <code>terasky.backstage.io/component-type</code> annotation is not present on the resource.</p> <p>Component type resolution priority: 1. Annotation: Use <code>terasky.backstage.io/component-type</code> annotation if present on the resource 2. defaultType: Use the <code>defaultType</code> value from the custom workload configuration (if set) 3. Fallback: Use <code>service</code> as the final default</p>"},{"location":"plugins/kubernetes-ingestor/backend/configure/#crossplane-integration","title":"Crossplane Integration","text":""},{"location":"plugins/kubernetes-ingestor/backend/configure/#claims-configuration","title":"Claims Configuration","text":"<pre><code>crossplane:\n  enabled: true\n  claims:\n    # Auto-ingest all claims\n    ingestAllClaims: true\n</code></pre>"},{"location":"plugins/kubernetes-ingestor/backend/configure/#xrd-configuration","title":"XRD Configuration","text":"<pre><code>xrds:\n  # Template generation settings\n  publishPhase:\n    target: github\n    allowRepoSelection: true\n    requestUserCredentialsForRepoUrl: false\n    git:\n      repoUrl: github.com?owner=org&amp;repo=templates\n      targetBranch: main\n\n  # Processing settings\n  convertDefaultValuesToPlaceholders: true\n  ingestAllXRDs: true\n</code></pre>"},{"location":"plugins/kubernetes-ingestor/backend/configure/#repository-selection-options","title":"Repository Selection Options","text":"<p>When <code>allowRepoSelection</code> is enabled, you can configure the repository selection user experience:</p> <ul> <li><code>requestUserCredentialsForRepoUrl</code> (default: <code>false</code>): When set to <code>true</code>, enables an enhanced repository picker that allows users to select repositories and organizations from dropdown lists instead of manually typing the repository name. This adds the <code>requestUserCredentials</code> option to the RepoUrlPicker with <code>secretsKey: USER_OAUTH_TOKEN</code>, which enables the dropdown pickers for a better user experience.</li> </ul> <p>This is useful when you want to: - Provide a more user-friendly repository selection experience - Allow users to browse and select from their accessible repositories - Reduce errors from manual repository name entry - Enable organization/owner selection from dropdown lists</p>"},{"location":"plugins/kubernetes-ingestor/backend/configure/#kro-integration","title":"KRO Integration","text":""},{"location":"plugins/kubernetes-ingestor/backend/configure/#rgd-configuration","title":"RGD Configuration","text":"<pre><code>kro:\n  enabled: true\n  rgds:\n    # Template generation settings\n    publishPhase:\n      target: github\n      allowRepoSelection: true\n      requestUserCredentialsForRepoUrl: false\n      git:\n        repoUrl: github.com?owner=org&amp;repo=templates\n        targetBranch: main\n\n    # Processing settings\n    enabled: true\n    taskRunner:\n      frequency: 10\n      timeout: 600\n</code></pre>"},{"location":"plugins/kubernetes-ingestor/backend/configure/#repository-selection-options_1","title":"Repository Selection Options","text":"<p>Similar to XRD configuration, when <code>allowRepoSelection</code> is enabled for KRO RGDs:</p> <ul> <li><code>requestUserCredentialsForRepoUrl</code> (default: <code>false</code>): When set to <code>true</code>, enables an enhanced repository picker that allows users to select repositories and organizations from dropdown lists instead of manually typing the repository name.</li> </ul> <p>This provides the same improved user experience as described in the XRD configuration section, ensuring consistent repository selection behavior across both Crossplane and KRO resource templates.</p>"},{"location":"plugins/kubernetes-ingestor/backend/configure/#best-practices","title":"Best Practices","text":"<ol> <li> <p>Resource Mapping</p> <ul> <li>Choose consistent mapping models</li> <li>Use clear naming conventions</li> <li>Consider namespace organization</li> <li>Plan system boundaries</li> </ul> </li> <li> <p>Performance Tuning</p> <ul> <li>Adjust task runner frequency</li> <li>Set appropriate timeouts</li> <li>Configure excluded namespaces</li> <li>Optimize resource selection</li> </ul> </li> <li> <p>Template Management</p> <ul> <li>Use version control</li> <li>Maintain consistent structure</li> <li>Document customizations</li> <li>Test generated templates</li> </ul> </li> </ol> <p>For installation instructions, refer to the Installation Guide.</p>"},{"location":"plugins/kubernetes-ingestor/backend/install/","title":"Installing the Kubernetes Ingestor Backend Plugin","text":"<p>This guide will help you install and set up the Kubernetes Ingestor backend plugin in your Backstage instance.</p>"},{"location":"plugins/kubernetes-ingestor/backend/install/#prerequisites","title":"Prerequisites","text":"<p>Before installing the plugin, ensure you have:</p> <ol> <li>A working Backstage backend instance</li> <li>Access to Kubernetes clusters</li> <li>Proper RBAC configuration</li> <li>Git repository access (for template publishing)</li> </ol>"},{"location":"plugins/kubernetes-ingestor/backend/install/#installation-steps","title":"Installation Steps","text":""},{"location":"plugins/kubernetes-ingestor/backend/install/#1-add-the-packages","title":"1. Add the Packages","text":"<p>Install the required packages using yarn:</p> <pre><code># Install the main plugin\nyarn --cwd packages/backend add @terasky/backstage-plugin-kubernetes-ingestor\n\n# Install the utilities package for template generation\nyarn --cwd packages/backend add @terasky/backstage-plugin-scaffolder-backend-module-terasky-utils\n</code></pre>"},{"location":"plugins/kubernetes-ingestor/backend/install/#2-add-to-backend","title":"2. Add to Backend","text":"<p>Modify your backend in <code>packages/backend/src/index.ts</code>:</p> <pre><code>import { createBackend } from '@backstage/backend-defaults';\n\nconst backend = createBackend();\n\n// Add the Kubernetes Ingestor plugin\nbackend.add(import('@terasky/backstage-plugin-kubernetes-ingestor'));\n\n// Add required scaffolder modules for template generation\nbackend.add(import('@backstage/plugin-scaffolder-backend-module-github'));\nbackend.add(import('@backstage/plugin-scaffolder-backend-module-gitlab'));\nbackend.add(import('@backstage/plugin-scaffolder-backend-module-bitbucket'));\nbackend.add(import('@terasky/backstage-plugin-scaffolder-backend-module-terasky-utils'));\n\nbackend.start();\n</code></pre>"},{"location":"plugins/kubernetes-ingestor/backend/install/#3-configure-rbac","title":"3. Configure RBAC","text":"<p>Set up the required RBAC permissions in your Kubernetes clusters:</p> <pre><code>apiVersion: rbac.authorization.k8s.io/v1\nkind: ClusterRole\nmetadata:\n  name: backstage-kubernetes-ingestor\nrules:\n  - apiGroups: [\"*\"]\n    resources: [\"*\"]\n    verbs: [\"get\", \"list\", \"watch\"]\n---\napiVersion: rbac.authorization.k8s.io/v1\nkind: ClusterRoleBinding\nmetadata:\n  name: backstage-kubernetes-ingestor\nsubjects:\n  - kind: ServiceAccount\n    name: backstage-kubernetes-ingestor\n    namespace: backstage\nroleRef:\n  kind: ClusterRole\n  name: backstage-kubernetes-ingestor\n  apiGroup: rbac.authorization.k8s.io\n</code></pre>"},{"location":"plugins/kubernetes-ingestor/backend/install/#4-configure-plugin","title":"4. Configure Plugin","text":"<p>Add configuration to your <code>app-config.yaml</code>:</p> <pre><code>kubernetesIngestor:\n  # Resource mapping configuration\n  mappings:\n    namespaceModel: 'cluster'\n    nameModel: 'name-cluster'\n    titleModel: 'name'\n    systemModel: 'namespace'\n    referencesNamespaceModel: 'default'\n\n  # Component ingestion settings\n  components:\n    enabled: true\n    ingestAsResources: false  # Set to true to create as Resource entities\n    taskRunner:\n      frequency: 10\n      timeout: 600\n    excludedNamespaces:\n      - kube-public\n      - kube-system\n    customWorkloadTypes:\n      - group: pkg.crossplane.io\n        apiVersion: v1\n        plural: providers\n        defaultType: service  # Optional: fallback component type when annotation is missing \n\n  # Crossplane integration\n  crossplane:\n    enabled: true\n    claims:\n      ingestAllClaims: true\n      ingestAsResources: false  # Set to true for claims and XRs as Resources\n    xrds:\n      enabled: true\n      ingestOnlyAsAPI: false  # Set to true to skip template generation\n      publishPhase:\n        allowedTargets: ['github.com', 'gitlab.com']\n        target: github\n        git:\n          repoUrl: github.com?owner=org&amp;repo=templates\n          targetBranch: main\n        allowRepoSelection: true\n      taskRunner:\n        frequency: 10\n        timeout: 600\n\n  # KRO integration (optional)\n  kro:\n    enabled: false\n    instances:\n      ingestAsResources: false  # Set to true for instances as Resources\n    rgds:\n      enabled: true\n      ingestOnlyAsAPI: false  # Set to true to skip template generation\n\n  # Generic CRD templates (optional)\n  genericCRDTemplates:\n    ingestOnlyAsAPI: false  # Set to true to skip template generation\n\n  argoIntegration: true\n</code></pre>"},{"location":"plugins/kubernetes-ingestor/backend/install/#5-configure-git-integration","title":"5. Configure Git Integration","text":"<p>Set up environment variables for Git access:</p> <pre><code>export GITHUB_TOKEN=your-token\nexport GITLAB_TOKEN=your-token\nexport BITBUCKET_TOKEN=your-token\n</code></pre>"},{"location":"plugins/kubernetes-ingestor/backend/install/#verification","title":"Verification","text":"<p>After installation, verify that:</p> <ol> <li>The plugin appears in your package.json dependencies</li> <li>The backend starts without errors</li> <li>Resources are being ingested</li> <li>Templates are being generated</li> <li>APIs are being created</li> </ol>"},{"location":"plugins/kubernetes-ingestor/backend/install/#troubleshooting","title":"Troubleshooting","text":"<p>Common issues and solutions:</p> <ol> <li> <p>Resource Discovery Issues</p> <ul> <li>Check RBAC configuration</li> <li>Verify cluster access</li> <li>Review excluded namespaces</li> <li>Check task runner logs</li> </ul> </li> <li> <p>Template Generation Problems</p> <ul> <li>Verify Git credentials</li> <li>Check repository access</li> <li>Review XRD configuration</li> <li>Check scaffolder modules</li> </ul> </li> <li> <p>API Creation Issues</p> <ul> <li>Verify Crossplane setup</li> <li>Check XRD access</li> <li>Review relationship mapping</li> <li>Check API entity format</li> </ul> </li> </ol> <p>For configuration options and customization, proceed to the Configuration Guide.</p>"},{"location":"plugins/kyverno/overview/","title":"Kyverno Plugin","text":"<p>The Kyverno plugin for Backstage provides comprehensive integration with Kyverno policy reports, enabling teams to monitor and manage their Kubernetes policy compliance directly within the Backstage interface.</p>"},{"location":"plugins/kyverno/overview/#plugin-components","title":"Plugin Components","text":""},{"location":"plugins/kyverno/overview/#frontend-plugin-teraskybackstage-plugin-kyverno-policy-reports","title":"Frontend Plugin (<code>@terasky/backstage-plugin-kyverno-policy-reports</code>)","text":"<p>The frontend plugin adds visualization capabilities for Kyverno policy reports, allowing users to: - View policy reports associated with components - Monitor compliance statistics and metrics - Access detailed policy information and YAML configurations - Track policy results across different clusters - View Crossplane-specific policy reports - Display overview cards with compliance statistics - Provide YAML viewers with copy/download functionality</p> <p>Learn more about the frontend plugin</p>"},{"location":"plugins/kyverno/overview/#backend-plugin-teraskybackstage-plugin-kyverno-policy-reports-backend","title":"Backend Plugin (<code>@terasky/backstage-plugin-kyverno-policy-reports-backend</code>)","text":"<p>The backend plugin provides comprehensive functionality: - Integration with Kubernetes clusters to fetch policy reports - API endpoints for retrieving policy information - Permission management and access control - MCP actions for programmatic access - Support for both namespaced and cluster-scoped policies - Integration with Backstage's permission framework</p> <p>Learn more about the backend plugin</p>"},{"location":"plugins/kyverno/overview/#common-library-teraskybackstage-plugin-kyverno-common","title":"Common Library (<code>@terasky/backstage-plugin-kyverno-common</code>)","text":"<p>The common library provides shared functionality: - Permission definitions and types - Common interfaces and models - Shared utilities for frontend and backend - Type definitions for policy reports and resources</p>"},{"location":"plugins/kyverno/overview/#documentation-structure","title":"Documentation Structure","text":"<ul> <li>Frontend Plugin<ul> <li>About</li> <li>Installation</li> <li>Configuration</li> </ul> </li> <li>Backend Plugin<ul> <li>About</li> <li>Installation</li> <li>Configuration</li> </ul> </li> </ul>"},{"location":"plugins/kyverno/overview/#screenshots","title":"Screenshots","text":""},{"location":"plugins/kyverno/overview/#policy-reports-overview","title":"Policy Reports Overview","text":""},{"location":"plugins/kyverno/overview/#detailed-resource-view","title":"Detailed Resource View","text":""},{"location":"plugins/kyverno/overview/#policy-yaml-view","title":"Policy YAML View","text":""},{"location":"plugins/kyverno/overview/#component-overview","title":"Component Overview","text":""},{"location":"plugins/kyverno/overview/#mcp-actions-integration","title":"MCP Actions Integration","text":"<p>The Kyverno plugin provides MCP (Model Control Protocol) actions for interacting with Kyverno policies and policy reports. To enable these actions:</p> <ol> <li> <p>First, ensure you have the MCP actions backend plugin installed and configured. See the MCP Actions Backend Plugin documentation for setup instructions.</p> </li> <li> <p>Add the plugin to your actions configuration in <code>app-config.yaml</code>:</p> </li> </ol> <pre><code>backend:\n  actions:\n    pluginSources:\n      - 'catalog'\n      - 'kyverno'\n      # ... other action sources\n</code></pre>"},{"location":"plugins/kyverno/overview/#available-mcp-actions","title":"Available MCP Actions","text":"<p>The plugin provides the following MCP actions:</p> <ul> <li><code>get_kyverno_policy_reports</code>: Get policy reports for a specific entity</li> <li>Input: Entity metadata (name and namespace)</li> <li> <p>Output: List of policy reports with results and summaries</p> </li> <li> <p><code>get_kyverno_policy</code>: Get details of a specific Kyverno policy</p> </li> <li>Input: Cluster name, policy name, and optional namespace</li> <li>Output: Full policy details and configuration</li> </ul>"},{"location":"plugins/kyverno/overview/#getting-started","title":"Getting Started","text":"<p>To get started with the Kyverno plugin:</p> <ol> <li>Install and configure the backend plugin</li> <li>Set up the frontend components</li> <li>Configure MCP actions in your app-config.yaml</li> <li>Configure permission rules and access policies</li> <li>Start monitoring your policy compliance</li> </ol>"},{"location":"plugins/kyverno/backend/about/","title":"Kyverno Policy Reports Backend Plugin","text":""},{"location":"plugins/kyverno/backend/about/#overview","title":"Overview","text":"<p>The Kyverno Policy Reports backend plugin (<code>@terasky/backstage-plugin-kyverno-policy-reports-backend</code>) provides comprehensive functionality for managing Kyverno policy reports in your Backstage instance. This includes API integration with Kubernetes clusters, policy report retrieval and processing, permission management, and MCP actions support.</p>"},{"location":"plugins/kyverno/backend/about/#features","title":"Features","text":""},{"location":"plugins/kyverno/backend/about/#kubernetes-integration","title":"Kubernetes Integration","text":"<ul> <li>Direct communication with Kubernetes API server</li> <li>Policy report retrieval and processing</li> <li>Support for both namespaced and cluster-scoped policies</li> <li>Real-time policy status monitoring</li> </ul>"},{"location":"plugins/kyverno/backend/about/#policy-report-management","title":"Policy Report Management","text":"<ul> <li>Comprehensive policy report retrieval</li> <li>Policy YAML manifest access</li> <li>Policy status tracking</li> <li>Support for Crossplane resources</li> <li>Event monitoring and aggregation</li> </ul>"},{"location":"plugins/kyverno/backend/about/#permission-management","title":"Permission Management","text":"<ul> <li>Integration with Backstage's permission framework</li> <li>Fine-grained access control for policy reports</li> <li>Configurable permission policies</li> <li>Role-based access control</li> </ul>"},{"location":"plugins/kyverno/backend/about/#mcp-actions-support","title":"MCP Actions Support","text":"<ul> <li>Policy report retrieval actions</li> <li>Policy details access</li> <li>Integration with Backstage's actions framework</li> <li>Programmatic access to policy data</li> </ul>"},{"location":"plugins/kyverno/backend/about/#api-integration","title":"API Integration","text":"<ul> <li>RESTful API endpoints</li> <li>Secure data access</li> <li>Permission validation middleware</li> <li>Frontend component integration</li> <li>Kubernetes API proxy support</li> </ul>"},{"location":"plugins/kyverno/backend/about/#technical-details","title":"Technical Details","text":""},{"location":"plugins/kyverno/backend/about/#available-permissions","title":"Available Permissions","text":"<p>The plugin provides three main permission types:</p> <ol> <li> <p>Overview Access (<code>kyverno.overview.view</code>)</p> <ul> <li>Access to summary policy report data</li> <li>High-level compliance metrics</li> <li>Component status overview</li> </ul> </li> <li> <p>Report Access (<code>kyverno.reports.view</code>)</p> <ul> <li>Access to detailed policy reports</li> <li>Resource-specific compliance data</li> <li>Policy violation details</li> </ul> </li> <li> <p>Policy YAML Access (<code>kyverno.policy.view-yaml</code>)</p> <ul> <li>Access to policy YAML manifests</li> <li>Policy configuration details</li> <li>Rule specifications</li> </ul> </li> </ol>"},{"location":"plugins/kyverno/backend/about/#integration-points","title":"Integration Points","text":"<ul> <li>Backstage Permission Framework</li> <li>Kyverno Policy Reports Frontend</li> <li>Kubernetes API Server</li> <li>Backstage Catalog</li> </ul>"},{"location":"plugins/kyverno/backend/about/#security-considerations","title":"Security Considerations","text":"<ul> <li>Role-based access control</li> <li>Permission validation</li> <li>Secure data handling</li> <li>Audit trail capabilities</li> </ul>"},{"location":"plugins/kyverno/backend/configure/","title":"Configuring the Kyverno Policy Reports Backend Plugin","text":"<p>This guide covers the configuration options for the Kyverno Policy Reports backend plugin.</p>"},{"location":"plugins/kyverno/backend/configure/#basic-configuration","title":"Basic Configuration","text":"<p>The plugin uses Backstage's permission framework. To enable it, add the following to your <code>app-config.yaml</code>:</p> <pre><code>permission:\n  enabled: true # Enable Backstage permission framework\n\nkyverno:\n  enablePermissions: true # Whether to enable permission checks for the kyverno plugin.\n</code></pre>"},{"location":"plugins/kyverno/backend/configure/#using-the-community-rbac-plugin","title":"Using the Community RBAC Plugin","text":"<p>You can use the RBAC plugins from the backstage community and create roles via the UI or via a CSV file.</p>"},{"location":"plugins/kyverno/backend/configure/#example-via-csv-and-config","title":"Example via CSV and config","text":"<p>app-config.yaml snippet <pre><code>permission:\n  enabled: true\n  rbac:\n    policies-csv-file: /path/to/permissions.csv\n    policyFileReload: true\n    pluginsWithPermission:\n      - kubernetes\n      - kyverno\n</code></pre></p> <p>CSV file snippet <pre><code>p, role:default/platformteam, kubernetes.proxy, use, allow\np, role:default/platformteam, kubernetes.resources.read, read, allow\np, role:default/platformteam, kubernetes.clusters.read, read, allow\np, role:default/platformteam, kyverno.overview.view, read, allow\np, role:default/platformteam, kyverno.policy.view-yaml, read, allow\np, role:default/platformteam, kyverno.reports.view, read, allow\ng, group:default/all_users, role:default/platformteam\n</code></pre></p>"},{"location":"plugins/kyverno/backend/configure/#available-permissions","title":"Available Permissions","text":"<p>The plugin provides three main permission types that you can use in your policies:</p> <ol> <li><code>kyverno.overview.view</code>: Controls access to overview policy report data</li> <li><code>kyverno.reports.view</code>: Controls access to detailed policy report data</li> <li><code>kyverno.policy.view-yaml</code>: Controls access to policy YAML manifests</li> </ol>"},{"location":"plugins/kyverno/backend/configure/#best-practices","title":"Best Practices","text":"<ol> <li> <p>Permission Management</p> <ul> <li>Follow the principle of least privilege</li> <li>Regularly review and update policies</li> <li>Use specific permissions over wildcards</li> </ul> </li> <li> <p>Security</p> <ul> <li>Enable audit logging</li> <li>Implement proper error handling</li> <li>Validate all inputs</li> </ul> </li> <li> <p>Integration</p> <ul> <li>Verify Kubernetes plugin configurations</li> <li>Check authentication settings</li> <li>Monitor permission enforcement</li> </ul> </li> </ol>"},{"location":"plugins/kyverno/backend/install/","title":"Installing the Kyverno Backend Plugin","text":"<p>This guide will help you install and set up the Kyverno backend plugin in your Backstage instance.</p>"},{"location":"plugins/kyverno/backend/install/#prerequisites","title":"Prerequisites","text":"<p>Before installing the plugin, ensure you have:</p> <ol> <li>A working Backstage backend</li> <li>Kyverno installed in your Kubernetes cluster(s)</li> <li>Access to modify your Backstage backend configuration</li> </ol>"},{"location":"plugins/kyverno/backend/install/#installation-steps","title":"Installation Steps","text":""},{"location":"plugins/kyverno/backend/install/#1-add-the-package","title":"1. Add the Package","text":"<p>Install the plugin package using yarn:</p> <pre><code>yarn --cwd packages/backend add @terasky/backstage-plugin-kyverno-policy-reports-backend\n</code></pre>"},{"location":"plugins/kyverno/backend/install/#2-add-to-backend","title":"2. Add to Backend","text":"<p>Add the plugin to your backend (typically <code>packages/backend/src/index.ts</code>):</p> <pre><code>backend.add(import('@terasky/backstage-plugin-kyverno-policy-reports-backend'));\n</code></pre>"},{"location":"plugins/kyverno/backend/install/#verification","title":"Verification","text":"<p>After installation, verify that:</p> <ol> <li>The plugin appears in your package.json dependencies</li> <li>The backend starts without errors</li> <li>Permission endpoints are accessible</li> <li>Integration with the frontend plugin works correctly</li> </ol>"},{"location":"plugins/kyverno/backend/install/#troubleshooting","title":"Troubleshooting","text":"<p>Common issues and solutions:</p> <ol> <li> <p>Backend Startup Issues</p> <ul> <li>Check the backend logs for errors</li> <li>Verify the plugin import statement</li> <li>Ensure all dependencies are installed</li> </ul> </li> <li> <p>Permission Framework Issues</p> <ul> <li>Confirm the permission framework is enabled</li> <li>Check permission policy configuration</li> <li>Verify integration with frontend components</li> </ul> </li> </ol> <p>For configuration options and customization, proceed to the Configuration Guide.</p>"},{"location":"plugins/kyverno/frontend/about/","title":"Kyverno Policy Reports Frontend Plugin","text":""},{"location":"plugins/kyverno/frontend/about/#overview","title":"Overview","text":"<p>The Kyverno Policy Reports frontend plugin (<code>@terasky/backstage-plugin-kyverno-policy-reports</code>) enhances your Backstage instance with comprehensive visualization capabilities for Kyverno policy reports. It provides detailed insights into policy compliance, violations, and overall security posture of your Kubernetes resources, with special support for Crossplane resources.</p>"},{"location":"plugins/kyverno/frontend/about/#features","title":"Features","text":""},{"location":"plugins/kyverno/frontend/about/#policy-report-overview","title":"Policy Report Overview","text":"<ul> <li>Aggregated policy compliance metrics</li> <li>Error, fail, pass, skip, and warning counts</li> <li>Cluster-wide policy status visualization</li> <li>Component-level compliance summary</li> </ul>"},{"location":"plugins/kyverno/frontend/about/#detailed-policy-analysis","title":"Detailed Policy Analysis","text":"<ul> <li>Resource-specific policy results</li> <li>Expandable detailed views</li> <li>Policy YAML inspection capabilities</li> <li>Copy-to-clipboard functionality</li> </ul>"},{"location":"plugins/kyverno/frontend/about/#crossplane-integration","title":"Crossplane Integration","text":"<ul> <li>Support for Crossplane Claims and Composite resources</li> <li>Dedicated policy report views for Crossplane components</li> <li>Integrated compliance monitoring for cloud resources</li> </ul>"},{"location":"plugins/kyverno/frontend/about/#components","title":"Components","text":""},{"location":"plugins/kyverno/frontend/about/#kyvernopolicyreportstable","title":"KyvernoPolicyReportsTable","text":"<p>The main component for displaying policy reports: - Cluster-organized policy results - Expandable resource details - Policy YAML viewer integration - Sorting and filtering capabilities  </p>"},{"location":"plugins/kyverno/frontend/about/#kyvernooverviewcard","title":"KyvernoOverviewCard","text":"<p>A summary card for the component overview page: - Quick compliance status view - Key metrics visualization - Direct access to detailed reports  </p>"},{"location":"plugins/kyverno/frontend/about/#crossplane-specific-components","title":"Crossplane-Specific Components","text":"<p>Special components for Crossplane integration: - <code>KyvernoCrossplanePolicyReportsTable</code> - <code>KyvernoCrossplaneOverviewCard</code> </p>"},{"location":"plugins/kyverno/frontend/about/#technical-details","title":"Technical Details","text":""},{"location":"plugins/kyverno/frontend/about/#integration-points","title":"Integration Points","text":"<ul> <li>Kubernetes resources</li> <li>Kyverno policies</li> <li>Crossplane resources</li> <li>Backstage catalog entities</li> </ul>"},{"location":"plugins/kyverno/frontend/about/#permission-framework","title":"Permission Framework","text":"<ul> <li>Integration with Backstage permissions</li> <li>Configurable access controls</li> <li>Role-based viewing capabilities</li> </ul>"},{"location":"plugins/kyverno/frontend/about/#available-permissions","title":"Available Permissions","text":"<ul> <li><code>kyverno.overview.view</code>: Access to overview data</li> <li><code>kyverno.reports.view</code>: Access to detailed reports</li> <li><code>kyverno.policy.view-yaml</code>: Access to policy YAML content</li> </ul>"},{"location":"plugins/kyverno/frontend/about/#screenshots","title":"Screenshots","text":""},{"location":"plugins/kyverno/frontend/about/#policy-reports-table","title":"Policy Reports Table","text":""},{"location":"plugins/kyverno/frontend/about/#detailed-resource-view","title":"Detailed Resource View","text":""},{"location":"plugins/kyverno/frontend/about/#policy-yaml-inspection","title":"Policy YAML Inspection","text":""},{"location":"plugins/kyverno/frontend/about/#overview-card","title":"Overview Card","text":""},{"location":"plugins/kyverno/frontend/configure/","title":"Configuring the Kyverno Policy Reports Frontend Plugin","text":"<p>This guide covers the configuration options for the Kyverno Policy Reports frontend plugin.</p>"},{"location":"plugins/kyverno/frontend/configure/#new-frontend-system-configuration-alpha","title":"New Frontend System Configuration (Alpha)","text":"<p>When using the new frontend system through the <code>/alpha</code> export, the plugin is configured automatically with sensible defaults. The configuration in <code>app-config.yaml</code> is still respected:</p> <pre><code>kyverno:\n  enablePermissions: false  # Whether to enable permission checks for the kyverno plugin\n</code></pre> <p>The plugin will be automatically integrated into the appropriate entity pages without requiring manual route configuration.</p>"},{"location":"plugins/kyverno/frontend/configure/#basic-configuration","title":"Basic Configuration","text":"<p>Add the following to your <code>app-config.yaml</code>:</p> <pre><code>kyverno:\n  enablePermissions: false  # Whether to enable permission checks for the kyverno plugin\n</code></pre>"},{"location":"plugins/kyverno/frontend/configure/#configuration-options","title":"Configuration Options","text":""},{"location":"plugins/kyverno/frontend/configure/#permission-framework-integration","title":"Permission Framework Integration","text":"<p>When <code>enablePermissions</code> is set to <code>true</code>, the plugin integrates with Backstage's permission framework. The following permissions are available: - <code>kyverno.overview.view</code>: Access to overview policy report data - <code>kyverno.reports.view</code>: Access to detailed policy report data - <code>kyverno.policy.view-yaml</code>: Access to view the YAML manifest of Kyverno policies  </p>"},{"location":"plugins/kyverno/frontend/configure/#component-customization","title":"Component Customization","text":""},{"location":"plugins/kyverno/frontend/configure/#overview-card-placement","title":"Overview Card Placement","text":"<p>You can customize where the Kyverno overview card appears in your entity overview page:</p> <pre><code>&lt;Grid container spacing={3} alignItems=\"stretch\"&gt;\n  &lt;EntitySwitch&gt;\n    &lt;EntitySwitch.Case if={isKubernetesAvailable}&gt;\n      &lt;Grid item md={6} xs={12}&gt;  // Adjust size as needed\n        &lt;KyvernoOverviewCard /&gt;\n      &lt;/Grid&gt;\n    &lt;/EntitySwitch.Case&gt;\n  &lt;/EntitySwitch&gt;\n&lt;/Grid&gt;\n</code></pre>"},{"location":"plugins/kyverno/frontend/configure/#policy-reports-table-customization","title":"Policy Reports Table Customization","text":"<p>The policy reports table can be placed in a dedicated tab:</p> <pre><code>&lt;EntityLayout&gt;\n  &lt;EntityLayout.Route \n    path=\"/kyverno-policy-reports\" \n    title=\"Kyverno Policy Reports\"\n  &gt;\n    &lt;KyvernoPolicyReportsTable /&gt;\n  &lt;/EntityLayout.Route&gt;\n&lt;/EntityLayout&gt;\n</code></pre>"},{"location":"plugins/kyverno/frontend/configure/#crossplane-integration","title":"Crossplane Integration","text":"<p>For Crossplane resources, use the dedicated components:</p> <pre><code>// Overview Card\n&lt;KyvernoCrossplaneOverviewCard /&gt;\n\n// Policy Reports Table\n&lt;KyvernoCrossplanePolicyReportsTable /&gt;\n</code></pre>"},{"location":"plugins/kyverno/frontend/configure/#best-practices","title":"Best Practices","text":"<ol> <li> <p>Permission Management</p> <ul> <li>Start with permissions disabled during initial setup</li> <li>Enable permissions once basic functionality is verified</li> <li>Configure granular permissions based on user roles</li> </ul> </li> <li> <p>Component Placement</p> <ul> <li>Place the overview card where it's easily visible</li> <li>Group policy-related components together</li> <li>Consider the relationship with other security tools</li> </ul> </li> <li> <p>User Experience</p> <ul> <li>Provide clear access to policy details</li> <li>Ensure consistent placement across different entity types</li> <li>Consider adding documentation links for policy understanding</li> </ul> </li> </ol>"},{"location":"plugins/kyverno/frontend/install/","title":"Installing the Kyverno Policy Reports Frontend Plugin","text":"<p>This guide will help you install and set up the Kyverno Policy Reports frontend plugin in your Backstage instance.</p>"},{"location":"plugins/kyverno/frontend/install/#prerequisites","title":"Prerequisites","text":"<p>Before installing the plugin, ensure you have:</p> <ol> <li>A working Backstage instance</li> <li>Kyverno installed in your Kubernetes cluster(s)</li> <li>The Kyverno Policy Reports backend plugin (<code>@terasky/backstage-plugin-kyverno-policy-reports-backend</code>) installed</li> </ol>"},{"location":"plugins/kyverno/frontend/install/#installation-steps","title":"Installation Steps","text":""},{"location":"plugins/kyverno/frontend/install/#1-add-the-package","title":"1. Add the Package","text":"<p>Install the plugin package using yarn:</p> <pre><code>yarn --cwd packages/app add @terasky/backstage-plugin-kyverno-policy-reports\n</code></pre>"},{"location":"plugins/kyverno/frontend/install/#2-import-components","title":"2. Import Components","text":"<p>Add the necessary imports to your Entity Page file (typically <code>packages/app/src/components/catalog/EntityPage.tsx</code>):</p> <pre><code>import { \n  KyvernoPolicyReportsTable, \n  KyvernoOverviewCard,\n  // Optional: For Crossplane integration\n  KyvernoCrossplanePolicyReportsTable,\n  KyvernoCrossplaneOverviewCard\n} from '@terasky/backstage-plugin-kyverno-policy-reports';\n</code></pre>"},{"location":"plugins/kyverno/frontend/install/#3-add-to-entity-page","title":"3. Add to Entity Page","text":""},{"location":"plugins/kyverno/frontend/install/#basic-setup","title":"Basic Setup","text":"<p>Add the Kyverno components to your entity page:</p> <pre><code>const overviewContent = (\n  &lt;Grid container spacing={3} alignItems=\"stretch\"&gt;\n    {/* ... other grid items ... */}\n\n    &lt;EntitySwitch&gt;\n      &lt;EntitySwitch.Case if={isKubernetesAvailable}&gt;\n        &lt;Grid item md={6}&gt;\n          &lt;KyvernoOverviewCard /&gt;\n        &lt;/Grid&gt;\n      &lt;/EntitySwitch.Case&gt;\n    &lt;/EntitySwitch&gt;\n\n    {/* ... other grid items ... */}\n  &lt;/Grid&gt;\n);\n\nconst serviceEntityPage = (\n  &lt;EntityLayout&gt;\n    {/* ... other routes ... */}\n\n    &lt;EntityLayout.Route path=\"/kyverno-policy-reports\" title=\"Kyverno Policy Reports\"&gt;\n      &lt;KyvernoPolicyReportsTable /&gt;\n    &lt;/EntityLayout.Route&gt;\n\n    {/* ... other routes ... */}\n  &lt;/EntityLayout&gt;\n);\n</code></pre>"},{"location":"plugins/kyverno/frontend/install/#crossplane-integration-optional","title":"Crossplane Integration (Optional)","text":"<p>If you're using Crossplane, add the Crossplane-specific components:</p> <pre><code>const crossplaneOverviewContent = (\n  &lt;Grid container spacing={3} alignItems=\"stretch\"&gt;\n    {/* ... other grid items ... */}\n\n    &lt;EntitySwitch&gt;\n      &lt;EntitySwitch.Case if={isKubernetesAvailable}&gt;\n        &lt;Grid item md={6}&gt;\n          &lt;KyvernoCrossplaneOverviewCard /&gt;\n        &lt;/Grid&gt;\n      &lt;/EntitySwitch.Case&gt;\n    &lt;/EntitySwitch&gt;\n\n    {/* ... other grid items ... */}\n  &lt;/Grid&gt;\n);\n\nconst crossplaneEntityPage = (\n  &lt;EntityLayout&gt;\n    {/* ... other routes ... */}\n\n    &lt;EntityLayout.Route path=\"/kyverno-policy-reports\" title=\"Kyverno Policy Reports\"&gt;\n      &lt;KyvernoCrossplanePolicyReportsTable /&gt;\n    &lt;/EntityLayout.Route&gt;\n\n    {/* ... other routes ... */}\n  &lt;/EntityLayout&gt;\n);\n</code></pre>"},{"location":"plugins/kyverno/frontend/install/#new-frontend-system-support-alpha","title":"New Frontend System Support (Alpha)","text":"<p>The plugin now supports the new frontend system available in the <code>/alpha</code> export. To use this:</p> <pre><code>import { createApp } from '@backstage/frontend-defaults';\nimport { kyvernoPolicyReportsPlugin } from '@terasky/backstage-plugin-kyverno-policy-reports/alpha';\n\nexport default createApp({\n  features: [\n    ...\n    kyvernoPolicyReportsPlugin,\n    ...\n  ],\n});\n</code></pre> <p>This replaces the need for manual route configuration in <code>EntityPage.tsx</code> and other files. The plugin will be automatically integrated into the appropriate entity pages.</p>"},{"location":"plugins/kyverno/frontend/install/#verification","title":"Verification","text":"<p>After installation, verify that:</p> <ol> <li>The plugin appears in your package.json dependencies</li> <li>The Kyverno overview card appears on component pages</li> <li>The policy reports tab is accessible</li> <li>Policy data is being properly displayed</li> </ol>"},{"location":"plugins/kyverno/frontend/install/#troubleshooting","title":"Troubleshooting","text":"<p>Common issues and solutions:</p> <ol> <li> <p>Missing Overview Card</p> <ul> <li>Ensure the component is properly imported</li> <li>Check if <code>isKubernetesAvailable</code> returns true</li> <li>Verify the grid layout configuration</li> </ul> </li> <li> <p>No Policy Data</p> <ul> <li>Confirm Kyverno is running in your cluster</li> <li>Check if policy reports are being generated</li> <li>Verify permissions if using the backend plugin</li> </ul> </li> </ol> <p>For configuration options and customization, proceed to the Configuration Guide.</p>"},{"location":"plugins/rbac-mcp/overview/","title":"RBAC MCP Plugin","text":"<p>The RBAC MCP plugin for Backstage provides comprehensive integration with Model Context Protocol (MCP), enabling AI agents and automation tools to discover, manage, and audit Role-Based Access Control (RBAC) roles, permissions, and policies programmatically.</p>"},{"location":"plugins/rbac-mcp/overview/#plugin-components","title":"Plugin Components","text":""},{"location":"plugins/rbac-mcp/overview/#backend-plugin-teraskybackstage-plugin-rbac-mcp-backend","title":"Backend Plugin (<code>@terasky/backstage-plugin-rbac-mcp-backend</code>)","text":"<p>The backend plugin provides MCP actions for: - Discovering roles, permissions, and conditional rules - Creating and managing roles and memberships - Assigning permissions and conditional policies - Auditing user and group permissions - Integration with Backstage's RBAC framework</p> <p>Learn more about the backend plugin</p>"},{"location":"plugins/rbac-mcp/overview/#documentation-structure","title":"Documentation Structure","text":"<ul> <li>Backend Plugin<ul> <li>About</li> <li>Installation</li> <li>Configuration</li> <li>Usage Examples</li> </ul> </li> </ul>"},{"location":"plugins/rbac-mcp/overview/#mcp-actions-integration","title":"MCP Actions Integration","text":"<p>The RBAC MCP plugin provides MCP (Model Context Protocol) actions for programmatic management of Role-Based Access Control in Backstage. This enables AI agents and automation tools to:</p> <ol> <li>Discover Resources: List roles, permissions, and conditional rules</li> <li>Manage Roles: Create roles and assign members</li> <li>Manage Permissions: Assign permission policies to roles</li> <li>Audit Access: View effective permissions for users and groups</li> <li>Create Conditional Policies: Set up fine-grained access control</li> </ol>"},{"location":"plugins/rbac-mcp/overview/#available-mcp-actions","title":"Available MCP Actions","text":"<p>The plugin provides 10 comprehensive MCP actions grouped into three categories:</p>"},{"location":"plugins/rbac-mcp/overview/#discovery-actions","title":"Discovery Actions","text":"<ul> <li><code>list_rbac_roles</code>: Discover all roles in the system with their members and sources</li> <li><code>list_available_permissions</code>: See what permissions plugins provide</li> <li><code>list_conditional_rules</code>: Discover available conditional access rule types</li> </ul>"},{"location":"plugins/rbac-mcp/overview/#management-actions","title":"Management Actions","text":"<ul> <li><code>grant_role_to_members</code>: Assign users/groups to roles (creates role if needed)</li> <li><code>assign_permissions_to_role</code>: Grant permission policies to roles</li> <li><code>create_conditional_permission</code>: Set up fine-grained conditional access</li> <li><code>create_role_with_permissions</code>: \u2b50 Combined operation for atomic role creation</li> </ul>"},{"location":"plugins/rbac-mcp/overview/#audit-actions","title":"Audit Actions","text":"<ul> <li><code>get_role_details</code>: View complete role information including members and permissions</li> <li><code>get_user_effective_permissions</code>: Audit what a specific user/group can do</li> <li><code>list_conditional_policies</code>: View all conditional access policies</li> </ul>"},{"location":"plugins/rbac-mcp/overview/#integration-requirements","title":"Integration Requirements","text":"<p>To enable these MCP actions:</p> <ol> <li>Install and configure the RBAC MCP backend plugin</li> <li>Install and configure the Backstage RBAC backend plugin</li> <li>Ensure the MCP server is configured in your Backstage instance</li> <li>Configure authentication with admin permissions</li> <li>Verify RBAC integration is working</li> </ol>"},{"location":"plugins/rbac-mcp/overview/#getting-started","title":"Getting Started","text":"<p>To get started with the RBAC MCP plugin:</p> <ol> <li>Install and configure the backend plugin</li> <li>Ensure RBAC backend plugin is installed</li> <li>Configure admin permissions</li> <li>Start using MCP actions with AI agents or automation tools</li> </ol> <p>For detailed installation and configuration instructions, refer to the backend documentation linked above.</p>"},{"location":"plugins/rbac-mcp/backend/about/","title":"RBAC MCP Backend Plugin","text":""},{"location":"plugins/rbac-mcp/backend/about/#overview","title":"Overview","text":"<p>The RBAC MCP backend plugin (<code>@terasky/backstage-plugin-rbac-mcp-backend</code>) provides Model Context Protocol (MCP) actions for comprehensive Role-Based Access Control management in Backstage. This enables AI agents and automation tools to discover, manage, and audit roles, permissions, and access policies through a standardized interface.</p>"},{"location":"plugins/rbac-mcp/backend/about/#features","title":"Features","text":""},{"location":"plugins/rbac-mcp/backend/about/#role-discovery-and-management","title":"Role Discovery and Management","text":"<ul> <li>List all RBAC roles with members and metadata</li> <li>Get detailed role information</li> <li>Create new roles with members</li> <li>Assign users and groups to roles</li> <li>View role sources (REST API, CSV, configuration, legacy)</li> </ul>"},{"location":"plugins/rbac-mcp/backend/about/#permission-management","title":"Permission Management","text":"<ul> <li>Discover available permissions from installed plugins</li> <li>Assign permission policies to roles</li> <li>Support for all policy types (create, read, update, delete, use)</li> <li>Permission effect management (allow/deny)</li> <li>Atomic role creation with permissions</li> </ul>"},{"location":"plugins/rbac-mcp/backend/about/#conditional-access-control","title":"Conditional Access Control","text":"<ul> <li>Create fine-grained conditional permissions</li> <li>Discover available conditional rule types</li> <li>Support for complex conditions (anyOf, allOf logic)</li> <li>Common rules: IS_ENTITY_OWNER, HAS_ANNOTATION, HAS_LABEL, IS_ENTITY_KIND</li> <li>Resource-specific access control</li> </ul>"},{"location":"plugins/rbac-mcp/backend/about/#access-auditing","title":"Access Auditing","text":"<ul> <li>View effective permissions for users and groups</li> <li>Aggregate permissions from all roles</li> <li>List all conditional policies</li> <li>Role membership tracking</li> <li>Permission policy inspection</li> </ul>"},{"location":"plugins/rbac-mcp/backend/about/#mcp-actions-support","title":"MCP Actions Support","text":"<ul> <li>10 comprehensive MCP actions</li> <li>Standardized MCP action interface</li> <li>Integration with AI agents and automation tools</li> <li>Detailed error handling and logging</li> <li>Validation and existence checks</li> </ul>"},{"location":"plugins/rbac-mcp/backend/about/#technical-details","title":"Technical Details","text":""},{"location":"plugins/rbac-mcp/backend/about/#available-mcp-actions","title":"Available MCP Actions","text":"<p>The plugin provides 10 main MCP actions grouped into three categories:</p>"},{"location":"plugins/rbac-mcp/backend/about/#discovery-actions","title":"Discovery Actions","text":"<ol> <li> <p>list_rbac_roles</p> <ul> <li>Lists all roles in the system</li> <li>Returns role names, members, descriptions, and sources</li> <li>No input parameters required</li> <li>Shows where roles are defined (REST API, CSV, configuration, legacy)</li> </ul> </li> <li> <p>list_available_permissions</p> <ul> <li>Discovers all permissions from installed plugins</li> <li>Optional plugin filter</li> <li>Returns permissions grouped by plugin</li> <li>Shows permission names, policy types, and resource types</li> </ul> </li> <li> <p>list_conditional_rules</p> <ul> <li>Lists available conditional rule types</li> <li>Optional plugin filter</li> <li>Returns rule definitions with parameter schemas</li> <li>Helps build conditional permissions</li> </ul> </li> </ol>"},{"location":"plugins/rbac-mcp/backend/about/#management-actions","title":"Management Actions","text":"<ol> <li> <p>grant_role_to_members</p> <ul> <li>Assigns users or groups to a role</li> <li>Creates the role if it doesn't exist</li> <li>Input: Role reference and member references</li> <li>Supports user and group references</li> </ul> </li> <li> <p>assign_permissions_to_role</p> <ul> <li>Grants permission policies to an existing role</li> <li>Validates role existence</li> <li>Input: Role reference and permissions array</li> <li>Additive - doesn't remove existing permissions</li> </ul> </li> <li> <p>create_conditional_permission</p> <ul> <li>Creates fine-grained conditional access policies</li> <li>Supports simple and complex conditions</li> <li>Input: Role reference, plugin ID, resource type, conditions</li> <li>Enables attribute-based access control</li> </ul> </li> <li> <p>create_role_with_permissions \u2b50</p> <ul> <li>Atomic operation combining role creation and permission assignment</li> <li>Recommended for new role setup</li> <li>Input: Role reference, members, description, permissions</li> <li>Updates existing roles or creates new ones</li> </ul> </li> </ol>"},{"location":"plugins/rbac-mcp/backend/about/#audit-actions","title":"Audit Actions","text":"<ol> <li> <p>get_role_details</p> <ul> <li>Retrieves comprehensive role information</li> <li>Returns members, permission policies, and conditional policies</li> <li>Input: Role reference</li> <li>Format: \"role:namespace/name\"</li> </ul> </li> <li> <p>get_user_effective_permissions</p> <ul> <li>Audits all permissions for a user or group</li> <li>Aggregates from all roles</li> <li>Returns roles, permission policies, and conditional policies</li> <li>Input: User or group reference</li> </ul> </li> <li> <p>list_conditional_policies</p> <ul> <li>Lists all conditional permission policies</li> <li>Optional role filter</li> <li>Returns policies with conditions and rules</li> <li>Shows plugin, resource type, and permission mappings</li> </ul> </li> </ol>"},{"location":"plugins/rbac-mcp/backend/about/#integration-points","title":"Integration Points","text":"<ul> <li>Backstage RBAC Backend Plugin (required)</li> <li>Backstage Permission Framework (required)</li> <li>MCP Actions Registry (required)</li> <li>Backstage Authentication System (required)</li> <li>Backstage Catalog (for entity-based conditions)</li> </ul>"},{"location":"plugins/rbac-mcp/backend/about/#security-considerations","title":"Security Considerations","text":"<ul> <li>All actions require RBAC admin permissions</li> <li>Actions run on behalf of the authenticated user</li> <li>Comprehensive input validation</li> <li>Detailed error messages with security context</li> <li>Audit trail through backend logs</li> </ul>"},{"location":"plugins/rbac-mcp/backend/about/#error-handling","title":"Error Handling","text":"<p>The plugin provides comprehensive error handling:</p> <ul> <li>Detailed error messages with context</li> <li>HTTP status codes and status text</li> <li>Full URL logging for debugging</li> <li>JSON error response parsing</li> <li>Input validation and existence checks</li> </ul> <p>All errors are logged with the <code>[RBAC MCP]</code> prefix for easy debugging.</p>"},{"location":"plugins/rbac-mcp/backend/about/#validation-features","title":"Validation Features","text":"<ul> <li>Role existence validation before permission assignment</li> <li>Member reference format validation (user:namespace/name, group:namespace/name)</li> <li>Permission identifier validation</li> <li>Policy type validation (create/read/update/delete/use)</li> <li>Conditional rule parameter validation</li> </ul>"},{"location":"plugins/rbac-mcp/backend/configure/","title":"Configuring the RBAC MCP Backend Plugin","text":"<p>This guide covers the configuration options for the RBAC MCP backend plugin.</p>"},{"location":"plugins/rbac-mcp/backend/configure/#prerequisites-configuration","title":"Prerequisites Configuration","text":""},{"location":"plugins/rbac-mcp/backend/configure/#enable-permission-framework","title":"Enable Permission Framework","text":"<p>The RBAC MCP plugin requires the Backstage permission framework to be enabled:</p> <pre><code># app-config.yaml\npermission:\n  enabled: true\n</code></pre>"},{"location":"plugins/rbac-mcp/backend/configure/#rbac-backend-configuration","title":"RBAC Backend Configuration","text":"<p>Ensure the RBAC backend plugin is properly configured. Here's a basic configuration:</p> <pre><code>permission:\n  enabled: true\n  rbac:\n    policies-csv-file: /path/to/permissions.csv\n    policyFileReload: true\n    pluginsWithPermission:\n      - catalog\n      - scaffolder\n      - kubernetes\n</code></pre>"},{"location":"plugins/rbac-mcp/backend/configure/#authentication-configuration","title":"Authentication Configuration","text":""},{"location":"plugins/rbac-mcp/backend/configure/#admin-permissions","title":"Admin Permissions","text":"<p>Users must have RBAC admin permissions to use the MCP actions. Configure admin permissions using one of these methods:</p>"},{"location":"plugins/rbac-mcp/backend/configure/#method-1-via-csv-file","title":"Method 1: Via CSV File","text":"<pre><code># permissions.csv\np, role:default/rbac-admin, permission.policy.read, read, allow\np, role:default/rbac-admin, permission.policy.create, create, allow\np, role:default/rbac-admin, permission.policy.update, update, allow\np, role:default/rbac-admin, permission.policy.delete, delete, allow\ng, user:default/admin, role:default/rbac-admin\n</code></pre>"},{"location":"plugins/rbac-mcp/backend/configure/#method-2-via-rest-api","title":"Method 2: Via REST API","text":"<p>Use the RBAC backend API to create an admin role:</p> <pre><code>curl -X POST http://localhost:7007/api/permission/roles \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"memberReferences\": [\"user:default/admin\"],\n    \"name\": \"role:default/rbac-admin\",\n    \"metadata\": {\n      \"description\": \"RBAC administrators\"\n    }\n  }'\n</code></pre>"},{"location":"plugins/rbac-mcp/backend/configure/#mcp-actions-configuration","title":"MCP Actions Configuration","text":"<p>The plugin automatically registers all 10 MCP actions. No additional configuration is required for basic functionality.</p>"},{"location":"plugins/rbac-mcp/backend/configure/#backend-authentication","title":"Backend Authentication","text":"<p>The plugin uses the Backstage backend authentication system:</p> <pre><code>backend:\n  auth:\n    keys:\n      - secret: ${BACKEND_SECRET}\n</code></pre>"},{"location":"plugins/rbac-mcp/backend/configure/#best-practices","title":"Best Practices","text":""},{"location":"plugins/rbac-mcp/backend/configure/#permission-management","title":"Permission Management","text":"<ol> <li> <p>Admin Access Control</p> <ul> <li>Limit admin permissions to trusted users</li> <li>Use groups instead of individual users</li> <li>Regularly review admin role memberships</li> <li>Enable audit logging for admin actions</li> </ul> </li> <li> <p>Role Naming Conventions</p> <ul> <li>Use clear, descriptive role names</li> <li>Follow the format: <code>role:namespace/name</code></li> <li>Use namespaces for organization (default, prod, dev)</li> <li>Document role purposes</li> </ul> </li> <li> <p>Member References</p> <ul> <li>Use groups over individual users when possible</li> <li>Format: <code>user:namespace/name</code> or <code>group:namespace/name</code></li> <li>Keep namespace consistent with your organization</li> <li>Verify members exist in the catalog</li> </ul> </li> </ol>"},{"location":"plugins/rbac-mcp/backend/configure/#security","title":"Security","text":"<ol> <li> <p>Authentication</p> <ul> <li>Always enable authentication</li> <li>Use strong backend secrets</li> <li>Rotate secrets regularly</li> <li>Monitor authentication failures</li> </ul> </li> <li> <p>Authorization</p> <ul> <li>Follow principle of least privilege</li> <li>Use specific permissions over wildcards</li> <li>Implement role-based access control</li> <li>Regular permission audits</li> </ul> </li> <li> <p>Logging and Monitoring</p> <ul> <li>Enable backend logging</li> <li>Monitor <code>[RBAC MCP]</code> log entries</li> <li>Track API errors and failures</li> <li>Set up alerts for suspicious activity</li> </ul> </li> </ol>"},{"location":"plugins/rbac-mcp/backend/configure/#error-handling","title":"Error Handling","text":"<p>The plugin provides comprehensive error logging:</p> <pre><code>[RBAC MCP] create_role_with_permissions called with input: { ... }\n[RBAC MCP] Permission URL: http://localhost:7007/api/permission\n[RBAC MCP] Checking if role exists: ...\n[RBAC MCP] API Error: { ... }\n</code></pre> <p>Enable debug logging to troubleshoot issues:</p> <pre><code>backend:\n  log:\n    level: debug\n</code></pre>"},{"location":"plugins/rbac-mcp/backend/configure/#advanced-configuration","title":"Advanced Configuration","text":""},{"location":"plugins/rbac-mcp/backend/configure/#custom-backend-url","title":"Custom Backend URL","text":"<p>If your RBAC backend runs on a different URL, update the configuration:</p> <pre><code>backend:\n  baseUrl: http://your-backend:7007\n</code></pre>"},{"location":"plugins/rbac-mcp/backend/configure/#timeout-configuration","title":"Timeout Configuration","text":"<p>Currently, the plugin uses default timeout values from the Backstage fetch client. These can be adjusted at the backend level:</p> <pre><code>backend:\n  reading:\n    timeout: 30000\n</code></pre>"},{"location":"plugins/rbac-mcp/backend/configure/#cors-configuration","title":"CORS Configuration","text":"<p>If accessing from different origins:</p> <pre><code>backend:\n  cors:\n    origin: http://localhost:3000\n    methods: [GET, POST, PUT, DELETE, PATCH]\n    credentials: true\n</code></pre>"},{"location":"plugins/rbac-mcp/backend/configure/#integration-with-other-plugins","title":"Integration with Other Plugins","text":""},{"location":"plugins/rbac-mcp/backend/configure/#catalog-integration","title":"Catalog Integration","text":"<p>For entity-based conditional permissions:</p> <pre><code>catalog:\n  import:\n    entityFilename: catalog-info.yaml\n  rules:\n    - allow: [Component, System, API, Resource, Location, User, Group]\n</code></pre>"},{"location":"plugins/rbac-mcp/backend/configure/#permission-integration","title":"Permission Integration","text":"<p>Configure permission sources:</p> <pre><code>permission:\n  rbac:\n    pluginsWithPermission:\n      - catalog\n      - scaffolder\n      - kubernetes\n      - kyverno\n      - crossplane\n</code></pre>"},{"location":"plugins/rbac-mcp/backend/configure/#troubleshooting","title":"Troubleshooting","text":""},{"location":"plugins/rbac-mcp/backend/configure/#common-configuration-issues","title":"Common Configuration Issues","text":"<ol> <li> <p>Permission Framework Not Enabled</p> <ul> <li>Symptom: Actions return 403 or permission errors</li> <li>Solution: Set <code>permission.enabled: true</code> in app-config.yaml</li> </ul> </li> <li> <p>RBAC Backend Not Found</p> <ul> <li>Symptom: Connection errors or 404 responses</li> <li>Solution: Ensure RBAC backend plugin is installed and running</li> </ul> </li> <li> <p>Invalid Role References</p> <ul> <li>Symptom: Role creation fails with validation errors</li> <li>Solution: Use format <code>role:namespace/name</code> (e.g., <code>role:default/developers</code>)</li> </ul> </li> <li> <p>Invalid Member References</p> <ul> <li>Symptom: Member assignment fails</li> <li>Solution: Use format <code>user:namespace/name</code> or <code>group:namespace/name</code></li> </ul> </li> </ol> <p>For more examples and usage patterns, see the Usage Examples.</p>"},{"location":"plugins/rbac-mcp/backend/install/","title":"Installing the RBAC MCP Backend Plugin","text":"<p>This guide will help you install and set up the RBAC MCP backend plugin in your Backstage instance.</p>"},{"location":"plugins/rbac-mcp/backend/install/#prerequisites","title":"Prerequisites","text":"<p>Before installing the plugin, ensure you have:</p> <ol> <li>A working Backstage backend</li> <li>Backstage RBAC backend plugin installed and configured</li> <li>Access to modify your Backstage backend configuration</li> <li>Admin permissions for RBAC management</li> </ol>"},{"location":"plugins/rbac-mcp/backend/install/#installation-steps","title":"Installation Steps","text":""},{"location":"plugins/rbac-mcp/backend/install/#1-add-the-package","title":"1. Add the Package","text":"<p>Install the plugin package using yarn:</p> <pre><code>yarn --cwd packages/backend add @terasky/backstage-plugin-rbac-mcp-backend\n</code></pre>"},{"location":"plugins/rbac-mcp/backend/install/#2-add-to-backend","title":"2. Add to Backend","text":"<p>Add the plugin to your backend (typically <code>packages/backend/src/index.ts</code>):</p> <pre><code>backend.add(import('@terasky/backstage-plugin-rbac-mcp-backend'));\n</code></pre>"},{"location":"plugins/rbac-mcp/backend/install/#verification","title":"Verification","text":"<p>After installation, verify that:</p> <ol> <li>The plugin appears in your package.json dependencies</li> <li>The backend starts without errors</li> <li>MCP actions are registered and accessible</li> <li>You have admin permissions for RBAC</li> </ol>"},{"location":"plugins/rbac-mcp/backend/install/#next-steps","title":"Next Steps","text":"<p>After successful installation, proceed to: 1. Configuration Guide - Set up permissions and policies</p>"},{"location":"plugins/rbac-mcp/backend/usage/","title":"RBAC MCP Backend Plugin Usage Examples","text":"<p>This guide provides comprehensive examples of how to use the RBAC MCP backend plugin's actions.</p>"},{"location":"plugins/rbac-mcp/backend/usage/#discovery-actions","title":"Discovery Actions","text":""},{"location":"plugins/rbac-mcp/backend/usage/#list-rbac-roles","title":"List RBAC Roles","text":"<p>Discover all roles in the system:</p> <pre><code>{\n  \"action\": \"list_rbac_roles\"\n}\n</code></pre> <p>Example Response: <pre><code>{\n  \"roles\": [\n    {\n      \"name\": \"role:default/developers\",\n      \"members\": [\"group:default/engineering\"],\n      \"description\": \"Development team role\",\n      \"source\": \"csv-file\"\n    },\n    {\n      \"name\": \"role:default/admins\",\n      \"members\": [\"user:default/admin\"],\n      \"description\": \"System administrators\",\n      \"source\": \"rest\"\n    }\n  ],\n  \"count\": 2\n}\n</code></pre></p>"},{"location":"plugins/rbac-mcp/backend/usage/#list-available-permissions","title":"List Available Permissions","text":"<p>Discover all permissions from installed plugins:</p> <pre><code>{\n  \"action\": \"list_available_permissions\"\n}\n</code></pre> <p>With Plugin Filter: <pre><code>{\n  \"action\": \"list_available_permissions\",\n  \"input\": {\n    \"pluginId\": \"catalog\"\n  }\n}\n</code></pre></p> <p>Example Response: <pre><code>{\n  \"permissions\": {\n    \"catalog\": [\n      {\n        \"name\": \"catalog.entity.read\",\n        \"attributes\": {\n          \"action\": \"read\"\n        }\n      },\n      {\n        \"name\": \"catalog.entity.create\",\n        \"attributes\": {\n          \"action\": \"create\"\n        }\n      }\n    ]\n  }\n}\n</code></pre></p>"},{"location":"plugins/rbac-mcp/backend/usage/#list-conditional-rules","title":"List Conditional Rules","text":"<p>Discover available conditional rule types:</p> <pre><code>{\n  \"action\": \"list_conditional_rules\"\n}\n</code></pre> <p>Example Response: <pre><code>{\n  \"rules\": {\n    \"catalog\": [\n      {\n        \"name\": \"IS_ENTITY_OWNER\",\n        \"description\": \"Allow users that own the entity\",\n        \"resourceType\": \"catalog-entity\",\n        \"paramsSchema\": {\n          \"type\": \"object\",\n          \"properties\": {\n            \"claims\": {\n              \"type\": \"array\",\n              \"items\": { \"type\": \"string\" }\n            }\n          }\n        }\n      }\n    ]\n  }\n}\n</code></pre></p>"},{"location":"plugins/rbac-mcp/backend/usage/#management-actions","title":"Management Actions","text":""},{"location":"plugins/rbac-mcp/backend/usage/#create-role-with-permissions-recommended","title":"Create Role with Permissions (Recommended)","text":"<p>The recommended way to create a new role:</p> <pre><code>{\n  \"action\": \"create_role_with_permissions\",\n  \"input\": {\n    \"roleRef\": \"role:default/developers\",\n    \"members\": [\n      \"group:default/engineering\",\n      \"user:default/john.doe\"\n    ],\n    \"description\": \"Developers with catalog access\",\n    \"permissions\": [\n      {\n        \"permission\": \"catalog.entity.read\",\n        \"policy\": \"read\",\n        \"effect\": \"allow\"\n      },\n      {\n        \"permission\": \"catalog.entity.create\",\n        \"policy\": \"create\",\n        \"effect\": \"allow\"\n      },\n      {\n        \"permission\": \"catalog.entity.update\",\n        \"policy\": \"update\",\n        \"effect\": \"allow\"\n      }\n    ]\n  }\n}\n</code></pre>"},{"location":"plugins/rbac-mcp/backend/usage/#grant-role-to-members","title":"Grant Role to Members","text":"<p>Create a role or add members to an existing role:</p> <pre><code>{\n  \"action\": \"grant_role_to_members\",\n  \"input\": {\n    \"roleRef\": \"role:default/viewers\",\n    \"members\": [\n      \"group:default/all-users\"\n    ],\n    \"description\": \"Read-only access for all users\"\n  }\n}\n</code></pre>"},{"location":"plugins/rbac-mcp/backend/usage/#assign-permissions-to-role","title":"Assign Permissions to Role","text":"<p>Add permissions to an existing role:</p> <pre><code>{\n  \"action\": \"assign_permissions_to_role\",\n  \"input\": {\n    \"roleRef\": \"role:default/developers\",\n    \"permissions\": [\n      {\n        \"permission\": \"scaffolder-template\",\n        \"policy\": \"read\",\n        \"effect\": \"allow\"\n      },\n      {\n        \"permission\": \"scaffolder.task.create\",\n        \"policy\": \"create\",\n        \"effect\": \"allow\"\n      }\n    ]\n  }\n}\n</code></pre>"},{"location":"plugins/rbac-mcp/backend/usage/#create-conditional-permission","title":"Create Conditional Permission","text":"<p>Set up fine-grained access control based on entity ownership:</p> <pre><code>{\n  \"action\": \"create_conditional_permission\",\n  \"input\": {\n    \"roleRef\": \"role:default/developers\",\n    \"pluginId\": \"catalog\",\n    \"resourceType\": \"catalog-entity\",\n    \"permissionMapping\": [\"read\", \"update\"],\n    \"conditions\": {\n      \"rule\": \"IS_ENTITY_OWNER\",\n      \"resourceType\": \"catalog-entity\",\n      \"params\": {\n        \"claims\": [\"group:default/engineering\"]\n      }\n    }\n  }\n}\n</code></pre> <p>Complex Conditional with anyOf Logic: <pre><code>{\n  \"action\": \"create_conditional_permission\",\n  \"input\": {\n    \"roleRef\": \"role:default/developers\",\n    \"pluginId\": \"catalog\",\n    \"resourceType\": \"catalog-entity\",\n    \"permissionMapping\": [\"read\"],\n    \"conditions\": {\n      \"anyOf\": [\n        {\n          \"rule\": \"IS_ENTITY_OWNER\",\n          \"resourceType\": \"catalog-entity\",\n          \"params\": {\n            \"claims\": [\"group:default/engineering\"]\n          }\n        },\n        {\n          \"rule\": \"HAS_ANNOTATION\",\n          \"resourceType\": \"catalog-entity\",\n          \"params\": {\n            \"annotation\": \"public\",\n            \"value\": \"true\"\n          }\n        }\n      ]\n    }\n  }\n}\n</code></pre></p> <p>Conditional with allOf Logic: <pre><code>{\n  \"action\": \"create_conditional_permission\",\n  \"input\": {\n    \"roleRef\": \"role:default/senior-devs\",\n    \"pluginId\": \"catalog\",\n    \"resourceType\": \"catalog-entity\",\n    \"permissionMapping\": [\"update\", \"delete\"],\n    \"conditions\": {\n      \"allOf\": [\n        {\n          \"rule\": \"IS_ENTITY_OWNER\",\n          \"resourceType\": \"catalog-entity\",\n          \"params\": {\n            \"claims\": [\"group:default/senior-engineers\"]\n          }\n        },\n        {\n          \"rule\": \"IS_ENTITY_KIND\",\n          \"resourceType\": \"catalog-entity\",\n          \"params\": {\n            \"kinds\": [\"Component\", \"API\"]\n          }\n        }\n      ]\n    }\n  }\n}\n</code></pre></p>"},{"location":"plugins/rbac-mcp/backend/usage/#audit-actions","title":"Audit Actions","text":""},{"location":"plugins/rbac-mcp/backend/usage/#get-role-details","title":"Get Role Details","text":"<p>View complete information about a role:</p> <pre><code>{\n  \"action\": \"get_role_details\",\n  \"input\": {\n    \"roleRef\": \"role:default/developers\"\n  }\n}\n</code></pre> <p>Example Response: <pre><code>{\n  \"role\": {\n    \"name\": \"role:default/developers\",\n    \"members\": [\n      \"group:default/engineering\",\n      \"user:default/john.doe\"\n    ],\n    \"description\": \"Developers with catalog access\"\n  },\n  \"permissions\": [\n    {\n      \"permission\": \"catalog.entity.read\",\n      \"policy\": \"read\",\n      \"effect\": \"allow\"\n    },\n    {\n      \"permission\": \"catalog.entity.create\",\n      \"policy\": \"create\",\n      \"effect\": \"allow\"\n    }\n  ],\n  \"conditionalPolicies\": [\n    {\n      \"pluginId\": \"catalog\",\n      \"resourceType\": \"catalog-entity\",\n      \"permissionMapping\": [\"read\", \"update\"],\n      \"conditions\": { ... }\n    }\n  ]\n}\n</code></pre></p>"},{"location":"plugins/rbac-mcp/backend/usage/#get-user-effective-permissions","title":"Get User Effective Permissions","text":"<p>Audit all permissions for a user or group:</p> <pre><code>{\n  \"action\": \"get_user_effective_permissions\",\n  \"input\": {\n    \"memberRef\": \"user:default/john.doe\"\n  }\n}\n</code></pre> <p>Example Response: <pre><code>{\n  \"memberRef\": \"user:default/john.doe\",\n  \"roles\": [\n    \"role:default/developers\",\n    \"role:default/viewers\"\n  ],\n  \"permissions\": [\n    {\n      \"permission\": \"catalog.entity.read\",\n      \"policy\": \"read\",\n      \"effect\": \"allow\",\n      \"source\": \"role:default/developers\"\n    },\n    {\n      \"permission\": \"catalog.entity.create\",\n      \"policy\": \"create\",\n      \"effect\": \"allow\",\n      \"source\": \"role:default/developers\"\n    }\n  ],\n  \"conditionalPolicies\": [\n    {\n      \"pluginId\": \"catalog\",\n      \"resourceType\": \"catalog-entity\",\n      \"permissionMapping\": [\"read\", \"update\"],\n      \"conditions\": { ... },\n      \"source\": \"role:default/developers\"\n    }\n  ]\n}\n</code></pre></p>"},{"location":"plugins/rbac-mcp/backend/usage/#list-conditional-policies","title":"List Conditional Policies","text":"<p>View all conditional permission policies:</p> <pre><code>{\n  \"action\": \"list_conditional_policies\"\n}\n</code></pre> <p>Filter by Role: <pre><code>{\n  \"action\": \"list_conditional_policies\",\n  \"input\": {\n    \"roleRef\": \"role:default/developers\"\n  }\n}\n</code></pre></p>"},{"location":"plugins/rbac-mcp/backend/usage/#common-use-cases","title":"Common Use Cases","text":""},{"location":"plugins/rbac-mcp/backend/usage/#use-case-1-onboarding-a-new-team","title":"Use Case 1: Onboarding a New Team","text":"<p>Create a role for a new team with appropriate permissions:</p> <pre><code>{\n  \"action\": \"create_role_with_permissions\",\n  \"input\": {\n    \"roleRef\": \"role:default/platform-team\",\n    \"members\": [\"group:default/platform-engineers\"],\n    \"description\": \"Platform team with infrastructure access\",\n    \"permissions\": [\n      {\n        \"permission\": \"catalog.entity.read\",\n        \"policy\": \"read\",\n        \"effect\": \"allow\"\n      },\n      {\n        \"permission\": \"kubernetes.proxy\",\n        \"policy\": \"use\",\n        \"effect\": \"allow\"\n      },\n      {\n        \"permission\": \"scaffolder-template\",\n        \"policy\": \"read\",\n        \"effect\": \"allow\"\n      },\n      {\n        \"permission\": \"scaffolder.task.create\",\n        \"policy\": \"create\",\n        \"effect\": \"allow\"\n      }\n    ]\n  }\n}\n</code></pre>"},{"location":"plugins/rbac-mcp/backend/usage/#use-case-2-restricting-access-to-owned-entities","title":"Use Case 2: Restricting Access to Owned Entities","text":"<p>Set up conditional access so users can only modify entities they own:</p> <pre><code>{\n  \"action\": \"create_conditional_permission\",\n  \"input\": {\n    \"roleRef\": \"role:default/developers\",\n    \"pluginId\": \"catalog\",\n    \"resourceType\": \"catalog-entity\",\n    \"permissionMapping\": [\"update\", \"delete\"],\n    \"conditions\": {\n      \"rule\": \"IS_ENTITY_OWNER\",\n      \"resourceType\": \"catalog-entity\",\n      \"params\": {\n        \"claims\": [\"group:default/engineering\"]\n      }\n    }\n  }\n}\n</code></pre>"},{"location":"plugins/rbac-mcp/backend/usage/#use-case-3-auditing-before-granting-admin-access","title":"Use Case 3: Auditing Before Granting Admin Access","text":"<p>Before giving someone admin access, check what they currently have:</p> <pre><code>{\n  \"action\": \"get_user_effective_permissions\",\n  \"input\": {\n    \"memberRef\": \"user:default/jane.smith\"\n  }\n}\n</code></pre> <p>Then grant admin role:</p> <pre><code>{\n  \"action\": \"grant_role_to_members\",\n  \"input\": {\n    \"roleRef\": \"role:default/rbac-admin\",\n    \"members\": [\"user:default/jane.smith\"]\n  }\n}\n</code></pre>"},{"location":"plugins/rbac-mcp/backend/usage/#use-case-4-setting-up-read-only-access","title":"Use Case 4: Setting Up Read-Only Access","text":"<p>Create a viewer role with read-only permissions:</p> <pre><code>{\n  \"action\": \"create_role_with_permissions\",\n  \"input\": {\n    \"roleRef\": \"role:default/readonly-viewers\",\n    \"members\": [\"group:default/contractors\"],\n    \"description\": \"Read-only access to catalog\",\n    \"permissions\": [\n      {\n        \"permission\": \"catalog.entity.read\",\n        \"policy\": \"read\",\n        \"effect\": \"allow\"\n      },\n      {\n        \"permission\": \"scaffolder-template\",\n        \"policy\": \"read\",\n        \"effect\": \"allow\"\n      }\n    ]\n  }\n}\n</code></pre>"},{"location":"plugins/rbac-mcp/backend/usage/#error-handling","title":"Error Handling","text":""},{"location":"plugins/rbac-mcp/backend/usage/#invalid-role-reference-format","title":"Invalid Role Reference Format","text":"<p>Error: <pre><code>{\n  \"error\": \"Invalid role reference format. Expected 'role:namespace/name'\"\n}\n</code></pre></p> <p>Solution: Use the correct format: <pre><code>{\n  \"roleRef\": \"role:default/my-role\"\n}\n</code></pre></p>"},{"location":"plugins/rbac-mcp/backend/usage/#permission-not-found","title":"Permission Not Found","text":"<p>Error: <pre><code>{\n  \"error\": \"Permission 'invalid.permission' not found\"\n}\n</code></pre></p> <p>Solution: Use <code>list_available_permissions</code> to discover valid permissions first.</p>"},{"location":"plugins/rbac-mcp/backend/usage/#insufficient-permissions","title":"Insufficient Permissions","text":"<p>Error: <pre><code>{\n  \"error\": \"Forbidden: User lacks RBAC admin permissions\",\n  \"status\": 403\n}\n</code></pre></p> <p>Solution: Ensure you have admin permissions configured as described in the Configuration Guide.</p>"},{"location":"plugins/rbac-mcp/backend/usage/#best-practices","title":"Best Practices","text":"<ol> <li>Always use <code>create_role_with_permissions</code> for new roles - It's atomic and prevents partial state</li> <li>Discover permissions first - Use <code>list_available_permissions</code> before assigning</li> <li>Audit regularly - Use <code>get_user_effective_permissions</code> to verify access</li> <li>Use groups over individual users - Makes management easier</li> <li>Document role purposes - Use the description field</li> <li>Test conditional rules - Use <code>list_conditional_rules</code> to understand parameters</li> <li>Check role details - Use <code>get_role_details</code> to verify configuration</li> </ol>"},{"location":"plugins/scaffolder-actions/overview/","title":"Scaffolder Backend Module TeraSky Utils Plugin","text":"<p>The Scaffolder Backend Module TeraSky Utils plugin provides a collection of useful scaffolder actions for managing Kubernetes resources and Backstage entities. These actions enhance the template creation and management capabilities of Backstage.</p>"},{"location":"plugins/scaffolder-actions/overview/#features","title":"Features","text":"<ul> <li>Crossplane Claim Generation: Convert parameters to Kubernetes YAML manifests</li> <li>Catalog Info Cleanup: Clean and format Backstage entity manifests</li> <li>File System Management: Organized file output handling</li> <li>Template Integration: Seamless integration with scaffolder templates</li> </ul>"},{"location":"plugins/scaffolder-actions/overview/#plugin-components","title":"Plugin Components","text":""},{"location":"plugins/scaffolder-actions/overview/#backend-plugin","title":"Backend Plugin","text":"<p>The plugin provides backend actions for: </p> <ul> <li>Manifest generation </li> <li>Entity cleanup </li> <li>File system operations </li> <li>Template processing </li> </ul> <p>Learn more about the backend plugin</p>"},{"location":"plugins/scaffolder-actions/overview/#available-actions","title":"Available Actions","text":""},{"location":"plugins/scaffolder-actions/overview/#teraskyclaim-template","title":"terasky:claim-template","text":"<p>Converts input parameters into Kubernetes YAML manifests: </p> <ul> <li>Generates Crossplane claim manifests </li> <li>Organizes by cluster/namespace/kind </li> <li>Maintains consistent file structure </li> <li>Handles parameter transformation </li> </ul>"},{"location":"plugins/scaffolder-actions/overview/#teraskycatalog-info-cleaner","title":"terasky:catalog-info-cleaner","text":"<p>Processes Backstage entity manifests: </p> <ul> <li>Removes runtime information </li> <li>Formats catalog-info.yaml files </li> <li>Prepares for git-based management </li> <li>Maintains entity structure </li> </ul>"},{"location":"plugins/scaffolder-actions/overview/#documentation-structure","title":"Documentation Structure","text":"<ul> <li>About</li> <li>Installation</li> </ul>"},{"location":"plugins/scaffolder-actions/overview/#use-cases","title":"Use Cases","text":""},{"location":"plugins/scaffolder-actions/overview/#crossplane-resource-management","title":"Crossplane Resource Management","text":"<ol> <li>Template parameter collection</li> <li>Manifest generation</li> <li>File system organization</li> <li>Resource deployment</li> </ol>"},{"location":"plugins/scaffolder-actions/overview/#entity-management","title":"Entity Management","text":"<ol> <li>Auto-ingested component cleanup</li> <li>Git-based catalog preparation</li> <li>Entity manifest formatting</li> <li>Version control integration</li> </ol>"},{"location":"plugins/scaffolder-actions/overview/#getting-started","title":"Getting Started","text":"<p>To get started with the Scaffolder Backend Module TeraSky Utils plugin:</p> <ol> <li>Install the backend plugin</li> <li>Configure scaffolder integration</li> <li>Create templates using actions</li> <li>Start managing resources</li> </ol> <p>For detailed installation and configuration instructions, refer to the backend documentation linked above. </p>"},{"location":"plugins/scaffolder-actions/backend/about/","title":"Scaffolder Backend Module TeraSky Utils Backend Plugin","text":""},{"location":"plugins/scaffolder-actions/backend/about/#overview","title":"Overview","text":"<p>The Scaffolder Backend Module TeraSky Utils backend plugin extends Backstage's scaffolder with powerful actions for managing Kubernetes resources and Backstage entities. It provides specialized actions for generating Crossplane claims and cleaning up catalog entities.</p>"},{"location":"plugins/scaffolder-actions/backend/about/#features","title":"Features","text":""},{"location":"plugins/scaffolder-actions/backend/about/#claim-template-action","title":"Claim Template Action","text":"<ul> <li>Parameter to YAML conversion</li> <li>Structured file organization</li> <li>Crossplane integration</li> <li>Resource management</li> </ul>"},{"location":"plugins/scaffolder-actions/backend/about/#catalog-info-cleaner","title":"Catalog Info Cleaner","text":"<ul> <li>Entity manifest cleanup</li> <li>Runtime data removal</li> <li>Git preparation</li> <li>YAML formatting</li> </ul>"},{"location":"plugins/scaffolder-actions/backend/about/#components","title":"Components","text":""},{"location":"plugins/scaffolder-actions/backend/about/#teraskyclaim-template","title":"terasky:claim-template","text":"<p>The action that provides: - Parameter processing - YAML generation - File system handling - Resource organization  </p> <p>Example usage: <pre><code>apiVersion: scaffolder.backstage.io/v1beta3\nkind: Template\nmetadata:\n  name: crossplane-claim\nspec:\n  steps:\n    - id: generate-claim\n      name: Generate Crossplane Claim\n      action: terasky:claim-template\n      input:\n        cluster: production\n        namespace: web-apps\n        kind: PostgreSQLInstance\n        parameters:\n          size: small\n          version: \"13\"\n</code></pre></p>"},{"location":"plugins/scaffolder-actions/backend/about/#teraskycatalog-info-cleaner","title":"terasky:catalog-info-cleaner","text":"<p>The action that handles: - Entity processing - Data cleanup - File generation - Format standardization  </p> <p>Example usage: <pre><code>apiVersion: scaffolder.backstage.io/v1beta3\nkind: Template\nmetadata:\n  name: catalog-cleanup\nspec:\n  steps:\n    - id: clean-entity\n      name: Clean Entity Manifest\n      action: terasky:catalog-info-cleaner\n      input:\n        entity:\n          apiVersion: backstage.io/v1alpha1\n          kind: Component\n          metadata:\n            name: example-service\n</code></pre></p>"},{"location":"plugins/scaffolder-actions/backend/about/#technical-details","title":"Technical Details","text":""},{"location":"plugins/scaffolder-actions/backend/about/#action-processing","title":"Action Processing","text":"<p>The plugin processes actions through: 1. Input validation 2. Data transformation 3. File generation 4. Output organization  </p>"},{"location":"plugins/scaffolder-actions/backend/about/#file-system-handling","title":"File System Handling","text":"<p>Manages file operations for: - Manifest creation - Directory structure - File naming - Path organization  </p>"},{"location":"plugins/scaffolder-actions/backend/about/#integration-points","title":"Integration Points","text":"<ul> <li>Backstage Scaffolder  </li> <li>Kubernetes API  </li> <li>Entity Catalog  </li> <li>File System  </li> </ul>"},{"location":"plugins/scaffolder-actions/backend/about/#use-cases","title":"Use Cases","text":""},{"location":"plugins/scaffolder-actions/backend/about/#crossplane-claim-generation","title":"Crossplane Claim Generation","text":"<ol> <li>Collect parameters  </li> <li>Generate manifest  </li> <li>Organize files  </li> <li>Prepare deployment  </li> </ol>"},{"location":"plugins/scaffolder-actions/backend/about/#entity-cleanup","title":"Entity Cleanup","text":"<ol> <li>Process entity</li> <li>Remove runtime data</li> <li>Format manifest</li> <li>Save to file</li> </ol>"},{"location":"plugins/scaffolder-actions/backend/about/#action-schemas","title":"Action Schemas","text":""},{"location":"plugins/scaffolder-actions/backend/about/#output-encoding","title":"Output Encoding","text":"<p>The <code>terasky:claim-template</code> action outputs both raw YAML and base64-encoded YAML: - <code>manifest</code>: The raw YAML string suitable for file operations - <code>manifestEncoded</code>: Base64-encoded YAML for use in data URLs (e.g., download links)</p> <p>The base64 encoding ensures reliable file downloads across all browsers, as it's the W3C standard for data URIs and provides better compatibility than URL encoding.</p>"},{"location":"plugins/scaffolder-actions/backend/about/#generic-crd-action-schema","title":"Generic CRD Action Schema","text":"<pre><code>schema: {\n  input: {\n    ownerParam: z =&gt; z.any(),\n    parameters: z =&gt; z.record(z.any()),\n    nameParam: z =&gt; z.string(),\n    namespaceParam: z =&gt; z.string().optional(),\n    excludeParams: z =&gt; z.array(z.string()),\n    apiVersion: z =&gt; z.string(),\n    kind: z =&gt; z.string(),\n    removeEmptyParams: z =&gt; z.boolean().optional(),\n    clusters: z =&gt; z.array(z.string()).min(1),\n  },\n  output: {\n    manifest: z =&gt; z.string(),\n    filePaths: z =&gt; z.array(z.string()),\n  },\n}\n</code></pre>"},{"location":"plugins/scaffolder-actions/backend/about/#crossplane-claim-action-schema","title":"Crossplane Claim Action Schema","text":"<pre><code>schema: {\n  input: {\n    parameters: z =&gt; z.record(z.any()).describe('Pass through of input parameters'),\n    nameParam: z =&gt; z.string().describe('Template parameter to map to the name of the claim').default('xrName'),\n    namespaceParam: z =&gt; z.string().describe('Template parameter to map to the namespace of the claim').default('xrNamespace'),\n    excludeParams: z =&gt; z.array(z.string()).describe('Template parameters to exclude from the claim').default(['xrName', 'xrNamespace', 'clusters', 'targetBranch', 'repoUrl', '_editData']),\n    apiVersion: z =&gt; z.string().describe('API Version of the claim'),\n    kind: z =&gt; z.string().describe('Kind of the claim'),\n    clusters: z =&gt; z.array(z.string()).min(1).describe('The target clusters to apply the resource to'),\n    removeEmptyParams: z =&gt; z.boolean().describe('If set to false, empty parameters will be rendered in manifest. by default they are removed').default(true),\n    ownerParam: z =&gt; z.string().describe('Template parameter to map to the owner of the claim'),\n  },\n  output: {\n    manifest: z =&gt; z.string().describe('The templated Kubernetes resource manifest'),\n    manifestEncoded: z =&gt; z.string().describe('The templated Kubernetes resource manifest, base64-encoded for use in data URLs'),\n    filePaths: z =&gt; z.array(z.string()).describe('The file paths of the written manifests'),\n  },\n}\n</code></pre>"},{"location":"plugins/scaffolder-actions/backend/about/#entity-cleanup-action-schema","title":"Entity Cleanup Action Schema","text":"<pre><code>schema: {\n  input: {\n    entity: z =&gt; z.record(z.any()).describe('Pass through of entity object'),\n  },\n  output: {\n    manifest: z =&gt; z.string().describe('The templated Kubernetes resource manifest'),\n    filePath: z =&gt; z.string().describe('The file path of the written manifests'),\n  },\n}\n</code></pre> <p>For installation and configuration details, refer to the Installation Guide.</p>"},{"location":"plugins/scaffolder-actions/backend/install/","title":"Installing the Scaffolder Backend Module TeraSky Utils Backend Plugin","text":"<p>This guide will help you install and set up the Scaffolder Backend Module TeraSky Utils backend plugin in your Backstage instance.</p>"},{"location":"plugins/scaffolder-actions/backend/install/#prerequisites","title":"Prerequisites","text":"<p>Before installing the plugin, ensure you have:</p> <ol> <li>A working Backstage backend instance</li> <li>The Scaffolder plugin installed and configured</li> <li>Access to Kubernetes clusters (for claim templates)</li> <li>Git repository access (for entity publishing)</li> </ol>"},{"location":"plugins/scaffolder-actions/backend/install/#installation-steps","title":"Installation Steps","text":""},{"location":"plugins/scaffolder-actions/backend/install/#1-add-the-package","title":"1. Add the Package","text":"<p>Install the plugin package using yarn:</p> <pre><code>yarn --cwd packages/backend add @terasky/backstage-plugin-scaffolder-backend-module-terasky-utils\n</code></pre>"},{"location":"plugins/scaffolder-actions/backend/install/#2-add-to-backend","title":"2. Add to Backend","text":"<p>Modify your backend in <code>packages/backend/src/index.ts</code>:</p> <pre><code>import { createBackend } from '@backstage/backend-defaults';\n\nconst backend = createBackend();\n\n// Add the TeraSky Utils module\nbackend.add(import('@terasky/backstage-plugin-scaffolder-backend-module-terasky-utils'));\n\n// Add required scaffolder modules for template publishing\nbackend.add(import('@backstage/plugin-scaffolder-backend-module-github'));\nbackend.add(import('@backstage/plugin-scaffolder-backend-module-gitlab'));\nbackend.add(import('@backstage/plugin-scaffolder-backend-module-bitbucket'));\n\nbackend.start();\n</code></pre>"},{"location":"plugins/scaffolder-actions/backend/install/#verification","title":"Verification","text":"<p>After installation, verify that:</p> <ol> <li>The plugin appears in your package.json dependencies</li> <li>The backend starts without errors</li> <li>Templates are registered correctly</li> <li>Actions are available in the scaffolder</li> <li>File generation works as expected</li> </ol>"},{"location":"plugins/scaffolder-actions/backend/install/#troubleshooting","title":"Troubleshooting","text":"<p>Common issues and solutions:</p> <ol> <li> <p>Action Not Found</p> <ul> <li>Check plugin installation</li> <li>Verify backend configuration</li> <li>Review module imports</li> <li>Check action registration</li> </ul> </li> <li> <p>File Generation Issues</p> <ul> <li>Check file permissions</li> <li>Verify template syntax</li> <li>Review input parameters</li> <li>Check output paths</li> </ul> </li> <li> <p>Git Integration Problems</p> <ul> <li>Verify tokens</li> <li>Check repository access</li> <li>Review publishing configuration</li> <li>Check error messages</li> </ul> </li> </ol>"},{"location":"plugins/scaffolder-mcp/overview/","title":"Scaffolder MCP Plugin","text":"<p>The Scaffolder MCP plugin for Backstage provides comprehensive integration with Model Context Protocol (MCP), enabling AI agents and automation tools to discover, inspect, and execute software templates programmatically.</p>"},{"location":"plugins/scaffolder-mcp/overview/#plugin-components","title":"Plugin Components","text":""},{"location":"plugins/scaffolder-mcp/overview/#backend-plugin-teraskybackstage-plugin-scaffolder-mcp-backend","title":"Backend Plugin (<code>@terasky/backstage-plugin-scaffolder-mcp-backend</code>)","text":"<p>The backend plugin provides MCP actions for: - Listing and inspecting available software templates - Retrieving template parameter schemas - Executing templates with provided parameters - Discovering scaffolder actions and their details - Discovering template extensions (filters and functions) - Task status monitoring and completion tracking - Integration with Backstage's scaffolder framework</p> <p>Learn more about the backend plugin</p>"},{"location":"plugins/scaffolder-mcp/overview/#documentation-structure","title":"Documentation Structure","text":"<ul> <li>Backend Plugin<ul> <li>About</li> <li>Installation</li> <li>Configuration</li> </ul> </li> </ul>"},{"location":"plugins/scaffolder-mcp/overview/#mcp-actions-integration","title":"MCP Actions Integration","text":"<p>The Scaffolder MCP plugin provides MCP (Model Context Protocol) actions for programmatic interaction with Backstage software templates. This enables AI agents and automation tools to:</p> <ol> <li>Discover Templates: List all available software templates in the catalog</li> <li>Inspect Templates: Get parameter schemas and requirements</li> <li>Execute Templates: Run templates with provided parameters</li> <li>Monitor Execution: Track task status and retrieve outputs</li> </ol>"},{"location":"plugins/scaffolder-mcp/overview/#available-mcp-actions","title":"Available MCP Actions","text":"<p>The plugin provides 7 comprehensive MCP actions grouped into three categories:</p>"},{"location":"plugins/scaffolder-mcp/overview/#template-management","title":"Template Management","text":"<ul> <li><code>list_software_templates</code>: Discover all available templates in the Backstage catalog</li> <li>Input: None</li> <li> <p>Output: List of templates with metadata (name, title, description, tags, entity reference)</p> </li> <li> <p><code>get_software_template_parameter_schema</code>: Retrieve the input schema for a specific template</p> </li> <li>Input: Template name or entity reference</li> <li> <p>Output: JSON Schema describing required and optional input fields</p> </li> <li> <p><code>run_software_template</code>: Execute a template with provided parameters</p> </li> <li>Input: Template reference and parameters object</li> <li>Output: Task ID, status, and execution outputs</li> </ul>"},{"location":"plugins/scaffolder-mcp/overview/#scaffolder-actions-discovery","title":"Scaffolder Actions Discovery","text":"<ul> <li><code>list_software_template_actions</code>: List all available scaffolder actions</li> <li>Input: Optional filter string</li> <li> <p>Output: List of action IDs and descriptions</p> </li> <li> <p><code>get_software_template_action_details</code>: Get details for a specific scaffolder action</p> </li> <li>Input: Action ID</li> <li>Output: Action schema, description, and examples</li> </ul>"},{"location":"plugins/scaffolder-mcp/overview/#template-extensions-discovery","title":"Template Extensions Discovery","text":"<ul> <li><code>list_software_template_extensions</code>: List all available template extensions (filters and functions)</li> <li>Input: Optional filter string</li> <li> <p>Output: List of extensions with name, type, and description</p> </li> <li> <p><code>get_software_template_extension_details</code>: Get details for a specific template extension</p> </li> <li>Input: Extension name</li> <li>Output: Extension type, schema, description, and examples</li> </ul>"},{"location":"plugins/scaffolder-mcp/overview/#integration-requirements","title":"Integration Requirements","text":"<p>To enable these MCP actions:</p> <ol> <li>Install and configure the Scaffolder MCP backend plugin</li> <li>Ensure the MCP server is configured in your Backstage instance</li> <li>Configure authentication and authorization policies</li> <li>Verify scaffolder integration is working</li> </ol>"},{"location":"plugins/scaffolder-mcp/overview/#usage-workflows","title":"Usage Workflows","text":""},{"location":"plugins/scaffolder-mcp/overview/#template-execution-workflow","title":"Template Execution Workflow","text":"<ol> <li>Call <code>list_software_templates</code> to discover available templates</li> <li>Select a template and call <code>get_software_template_parameter_schema</code> to understand its requirements</li> <li>Prepare the parameters based on the schema</li> <li>Call <code>run_software_template</code> to execute the template</li> <li>Monitor the task completion and retrieve outputs</li> </ol>"},{"location":"plugins/scaffolder-mcp/overview/#template-development-workflow","title":"Template Development Workflow","text":"<ol> <li>Call <code>list_software_template_actions</code> to see available scaffolder actions</li> <li>Use <code>get_software_template_action_details</code> to understand specific actions</li> <li>Call <code>list_software_template_extensions</code> to discover available filters and functions</li> <li>Use <code>get_software_template_extension_details</code> to understand how to use specific extensions</li> <li>Build your template using the discovered actions and extensions</li> </ol>"},{"location":"plugins/scaffolder-mcp/overview/#getting-started","title":"Getting Started","text":"<p>To get started with the Scaffolder MCP plugin:</p> <ol> <li>Install and configure the backend plugin</li> <li>Configure MCP server integration</li> <li>Set up authentication and authorization</li> <li>Start using MCP actions with AI agents or automation tools</li> </ol> <p>For detailed installation and configuration instructions, refer to the backend documentation linked above.</p>"},{"location":"plugins/scaffolder-mcp/backend/about/","title":"Scaffolder MCP Backend Plugin","text":""},{"location":"plugins/scaffolder-mcp/backend/about/#overview","title":"Overview","text":"<p>The Scaffolder MCP backend plugin (<code>@terasky/backstage-plugin-scaffolder-mcp-backend</code>) provides Model Context Protocol (MCP) actions for programmatic interaction with Backstage software templates. This enables AI agents and automation tools to discover, inspect, and execute software templates through a standardized interface.</p>"},{"location":"plugins/scaffolder-mcp/backend/about/#features","title":"Features","text":""},{"location":"plugins/scaffolder-mcp/backend/about/#template-discovery-and-management","title":"Template Discovery and Management","text":"<ul> <li>List all available software templates</li> <li>Retrieve template metadata and descriptions</li> <li>Access template tags and categorization</li> <li>Get full entity references for templates</li> <li>Retrieve parameter schemas for templates</li> <li>Understand input requirements and validation rules</li> <li>Execute templates with provided parameters</li> <li>Monitor task status and completion</li> </ul>"},{"location":"plugins/scaffolder-mcp/backend/about/#scaffolder-actions-discovery","title":"Scaffolder Actions Discovery","text":"<ul> <li>List all available scaffolder actions</li> <li>Get detailed action schemas and descriptions</li> <li>Discover action input/output parameters</li> <li>Access action examples and usage patterns</li> <li>Filter actions by ID or description</li> <li>Programmatic action discovery for template development</li> </ul>"},{"location":"plugins/scaffolder-mcp/backend/about/#template-extensions-discovery","title":"Template Extensions Discovery","text":"<ul> <li>List all available template extensions (filters and functions)</li> <li>Discover Nunjucks filters and global functions</li> <li>Get extension schemas and descriptions</li> <li>Access extension examples and usage patterns</li> <li>Filter extensions by name or type</li> <li>Support for template development and customization</li> </ul>"},{"location":"plugins/scaffolder-mcp/backend/about/#mcp-actions-support","title":"MCP Actions Support","text":"<ul> <li>7 comprehensive MCP actions</li> <li>Standardized MCP action interface</li> <li>Integration with AI agents and automation tools</li> <li>Programmatic access to scaffolder functionality</li> <li>Task polling and status monitoring</li> </ul>"},{"location":"plugins/scaffolder-mcp/backend/about/#integration","title":"Integration","text":"<ul> <li>Seamless integration with Backstage scaffolder</li> <li>Authentication and authorization support</li> <li>Permission framework integration</li> <li>Task lifecycle management</li> </ul>"},{"location":"plugins/scaffolder-mcp/backend/about/#technical-details","title":"Technical Details","text":""},{"location":"plugins/scaffolder-mcp/backend/about/#available-mcp-actions","title":"Available MCP Actions","text":"<p>The plugin provides 7 comprehensive MCP actions grouped into three categories:</p>"},{"location":"plugins/scaffolder-mcp/backend/about/#template-management-actions","title":"Template Management Actions","text":"<ol> <li> <p>list_software_templates</p> <ul> <li>Lists all available software templates in the Backstage catalog</li> <li>Returns template metadata including name, title, description, tags, and entity references</li> <li>No input parameters required</li> <li>Useful for template discovery and selection</li> </ul> </li> <li> <p>get_software_template_parameter_schema</p> <ul> <li>Retrieves the parameter schema for a specific template</li> <li>Input: Template name or full entity reference</li> <li>Returns JSON Schema describing required and optional input fields</li> <li>Includes validation rules, default values, and field descriptions</li> </ul> </li> <li> <p>run_software_template</p> <ul> <li>Executes a software template with provided parameters</li> <li>Input: Template reference and parameters object</li> <li>Polls task status every second until completion (5-minute timeout)</li> <li>Returns task ID, status, and execution outputs (e.g., repository URL, entity reference)</li> </ul> </li> </ol>"},{"location":"plugins/scaffolder-mcp/backend/about/#scaffolder-actions-discovery_1","title":"Scaffolder Actions Discovery","text":"<ol> <li> <p>list_software_template_actions</p> <ul> <li>Lists all available scaffolder actions that can be used in templates</li> <li>Optional filter parameter to search by ID or description</li> <li>Returns action IDs and descriptions</li> <li>Useful for discovering available actions when building templates</li> </ul> </li> <li> <p>get_software_template_action_details</p> <ul> <li>Retrieves detailed information about a specific scaffolder action</li> <li>Input: Action ID (e.g., \"fetch:plain\", \"catalog:register\")</li> <li>Returns action schema (input/output), description, and examples</li> <li>Essential for understanding how to use actions in templates</li> </ul> </li> </ol>"},{"location":"plugins/scaffolder-mcp/backend/about/#template-extensions-discovery_1","title":"Template Extensions Discovery","text":"<ol> <li> <p>list_software_template_extensions</p> <ul> <li>Lists all available template extensions (filters and functions)</li> <li>Optional filter parameter to search by name or description</li> <li>Returns extension names, types (filter/function/value), and descriptions</li> <li>Useful for discovering Nunjucks filters and global functions</li> </ul> </li> <li> <p>get_software_template_extension_details</p> <ul> <li>Retrieves detailed information about a specific template extension</li> <li>Input: Extension name (e.g., \"parseRepoUrl\", \"parseEntityRef\")</li> <li>Returns extension type, schema, description, and examples</li> <li>Essential for understanding how to use extensions in templates</li> </ul> </li> </ol>"},{"location":"plugins/scaffolder-mcp/backend/about/#integration-points","title":"Integration Points","text":"<ul> <li>Backstage Scaffolder Framework</li> <li>Backstage Catalog</li> <li>MCP Actions Registry</li> <li>Backstage Authentication System</li> <li>Backstage Permission Framework</li> </ul>"},{"location":"plugins/scaffolder-mcp/backend/about/#security-considerations","title":"Security Considerations","text":"<ul> <li>All actions run on behalf of the authenticated user</li> <li>Leverages Backstage's authentication system</li> <li>Respects scaffolder permissions and policies</li> <li>Secure parameter handling and validation</li> <li>Audit trail through scaffolder task logs</li> </ul>"},{"location":"plugins/scaffolder-mcp/backend/about/#task-management","title":"Task Management","text":"<ul> <li>Automatic task status polling</li> <li>Configurable timeout (default: 5 minutes)</li> <li>Status tracking (pending, processing, completed, failed, cancelled)</li> <li>Output value retrieval on completion</li> <li>Error handling and reporting</li> </ul>"},{"location":"plugins/scaffolder-mcp/backend/configure/","title":"Configuring the Scaffolder MCP Backend Plugin","text":"<p>This guide covers the configuration options for the Scaffolder MCP backend plugin.</p>"},{"location":"plugins/scaffolder-mcp/backend/configure/#basic-configuration","title":"Basic Configuration","text":"<p>The plugin works out of the box with minimal configuration. It automatically integrates with your existing Backstage scaffolder configuration.</p>"},{"location":"plugins/scaffolder-mcp/backend/configure/#mcp-actions-configuration","title":"MCP Actions Configuration","text":"<p>The plugin registers 7 MCP actions automatically:</p> <p>Template Management: 1. <code>list_software_templates</code> 2. <code>get_software_template_parameter_schema</code> 3. <code>run_software_template</code></p> <p>Scaffolder Actions Discovery: 4. <code>list_software_template_actions</code> 5. <code>get_software_template_action_details</code></p> <p>Template Extensions Discovery: 6. <code>list_software_template_extensions</code> 7. <code>get_software_template_extension_details</code></p> <p>No additional configuration is required for basic MCP action functionality.</p>"},{"location":"plugins/scaffolder-mcp/backend/configure/#authentication-and-authorization","title":"Authentication and Authorization","text":""},{"location":"plugins/scaffolder-mcp/backend/configure/#user-authentication","title":"User Authentication","text":"<p>All MCP actions run on behalf of the authenticated user making the request. The plugin respects Backstage's authentication system:</p> <pre><code># app-config.yaml\nbackend:\n  auth:\n    keys:\n      - secret: ${BACKEND_SECRET}\n</code></pre>"},{"location":"plugins/scaffolder-mcp/backend/configure/#scaffolder-permissions","title":"Scaffolder Permissions","text":"<p>The plugin respects existing scaffolder permissions. Configure permissions using Backstage's permission framework:</p> <pre><code>permission:\n  enabled: true\n</code></pre>"},{"location":"plugins/scaffolder-mcp/backend/configure/#using-the-community-rbac-plugin","title":"Using the Community RBAC Plugin","text":"<p>You can use the RBAC plugins from the Backstage community to manage scaffolder permissions:</p> <p>app-config.yaml snippet <pre><code>permission:\n  enabled: true\n  rbac:\n    policies-csv-file: /path/to/permissions.csv\n    policyFileReload: true\n    pluginsWithPermission:\n      - scaffolder\n</code></pre></p> <p>CSV file snippet <pre><code>p, role:default/developers, scaffolder.task.read, read, allow\np, role:default/developers, scaffolder.task.create, create, allow\np, role:default/developers, scaffolder-template, read, allow\ng, group:default/engineering, role:default/developers\n</code></pre></p>"},{"location":"plugins/scaffolder-mcp/backend/configure/#task-execution-configuration","title":"Task Execution Configuration","text":""},{"location":"plugins/scaffolder-mcp/backend/configure/#timeout-settings","title":"Timeout Settings","text":"<p>The default timeout for template execution is 5 minutes. This is currently hardcoded but can be extended if needed.</p>"},{"location":"plugins/scaffolder-mcp/backend/configure/#task-polling","title":"Task Polling","text":"<p>The plugin polls task status every 1 second until completion. This ensures timely updates while not overwhelming the backend.</p>"},{"location":"plugins/scaffolder-mcp/backend/configure/#best-practices","title":"Best Practices","text":"<ol> <li> <p>Permission Management</p> <ul> <li>Follow the principle of least privilege</li> <li>Regularly review and update scaffolder policies</li> <li>Use specific permissions over wildcards</li> </ul> </li> <li> <p>Security</p> <ul> <li>Enable audit logging for scaffolder tasks</li> <li>Implement proper error handling</li> <li>Validate all template parameters</li> </ul> </li> <li> <p>Integration</p> <ul> <li>Verify scaffolder plugin configuration</li> <li>Check authentication settings</li> <li>Monitor task execution and failures</li> </ul> </li> <li> <p>Monitoring</p> <ul> <li>Track MCP action usage</li> <li>Monitor task completion rates</li> <li>Review failed task logs</li> <li>Monitor action and extension discovery requests</li> </ul> </li> </ol>"},{"location":"plugins/scaffolder-mcp/backend/configure/#use-cases","title":"Use Cases","text":""},{"location":"plugins/scaffolder-mcp/backend/configure/#template-execution","title":"Template Execution","text":"<p>Use the template management actions (<code>list_software_templates</code>, <code>get_software_template_parameter_schema</code>, <code>run_software_template</code>) for: - Automating template execution workflows - AI-assisted template selection and execution - Programmatic component creation</p>"},{"location":"plugins/scaffolder-mcp/backend/configure/#template-development","title":"Template Development","text":"<p>Use the discovery actions (<code>list_software_template_actions</code>, <code>get_software_template_action_details</code>, <code>list_software_template_extensions</code>, <code>get_software_template_extension_details</code>) for: - AI-assisted template development - Documentation generation for templates - Learning available scaffolder capabilities - Building template authoring tools</p>"},{"location":"plugins/scaffolder-mcp/backend/configure/#advanced-configuration","title":"Advanced Configuration","text":""},{"location":"plugins/scaffolder-mcp/backend/configure/#custom-template-discovery","title":"Custom Template Discovery","text":"<p>The plugin discovers templates from the Backstage catalog using the scaffolder's template discovery mechanism. Ensure your templates are properly registered in the catalog.</p>"},{"location":"plugins/scaffolder-mcp/backend/configure/#error-handling","title":"Error Handling","text":"<p>The plugin provides detailed error messages for: - Template not found errors - Invalid parameter errors - Task execution failures - Timeout errors</p> <p>Review backend logs with the <code>[Scaffolder MCP]</code> prefix for debugging information.</p>"},{"location":"plugins/scaffolder-mcp/backend/install/","title":"Installing the Scaffolder MCP Backend Plugin","text":"<p>This guide will help you install and set up the Scaffolder MCP backend plugin in your Backstage instance.</p>"},{"location":"plugins/scaffolder-mcp/backend/install/#prerequisites","title":"Prerequisites","text":"<p>Before installing the plugin, ensure you have:</p> <ol> <li>A working Backstage backend</li> <li>Scaffolder plugin installed and configured</li> <li>Access to modify your Backstage backend configuration</li> </ol>"},{"location":"plugins/scaffolder-mcp/backend/install/#installation-steps","title":"Installation Steps","text":""},{"location":"plugins/scaffolder-mcp/backend/install/#1-add-the-package","title":"1. Add the Package","text":"<p>Install the plugin package using yarn:</p> <pre><code>yarn --cwd packages/backend add @terasky/backstage-plugin-scaffolder-mcp-backend\n</code></pre>"},{"location":"plugins/scaffolder-mcp/backend/install/#2-add-to-backend","title":"2. Add to Backend","text":"<p>Add the plugin to your backend (typically <code>packages/backend/src/index.ts</code>):</p> <pre><code>backend.add(import('@terasky/backstage-plugin-scaffolder-mcp-backend'));\n</code></pre>"},{"location":"plugins/scaffolder-mcp/backend/install/#verification","title":"Verification","text":"<p>After installation, verify that:</p> <ol> <li>The plugin appears in your package.json dependencies</li> <li>The backend starts without errors</li> <li>All 7 MCP actions are registered and accessible:</li> <li><code>list_software_templates</code></li> <li><code>get_software_template_parameter_schema</code></li> <li><code>run_software_template</code></li> <li><code>list_software_template_actions</code></li> <li><code>get_software_template_action_details</code></li> <li><code>list_software_template_extensions</code></li> <li><code>get_software_template_extension_details</code></li> <li>Integration with the scaffolder works correctly</li> </ol>"},{"location":"plugins/scaffolder-mcp/backend/install/#troubleshooting","title":"Troubleshooting","text":"<p>Common issues and solutions:</p> <ol> <li> <p>Backend Startup Issues</p> <ul> <li>Check the backend logs for errors</li> <li>Verify the plugin import statement</li> <li>Ensure all dependencies are installed</li> </ul> </li> <li> <p>MCP Actions Not Available</p> <ul> <li>Confirm the MCP actions framework is enabled</li> <li>Check the backend logs for registration errors</li> <li>Verify scaffolder integration is working</li> </ul> </li> <li> <p>Permission Issues</p> <ul> <li>Ensure users have appropriate scaffolder permissions</li> <li>Check authentication configuration</li> <li>Verify permission policies are correctly configured</li> </ul> </li> </ol> <p>For configuration options and customization, proceed to the Configuration Guide.</p>"},{"location":"plugins/scaleops/overview/","title":"ScaleOps Plugin","text":"<p>The ScaleOps plugin integrates ScaleOps cost optimization data into your Backstage instance, providing visibility into potential and realized savings for your Kubernetes resources. It offers a comprehensive dashboard view, direct links to the ScaleOps platform, and AI-powered automation through MCP actions.</p>"},{"location":"plugins/scaleops/overview/#features","title":"Features","text":"<ul> <li>Cost Optimization Insights: View potential and realized savings</li> <li>Multi-Cluster Support: Monitor resources across clusters</li> <li>Dashboard Integration: Direct links to ScaleOps dashboard</li> <li>AI Integration: MCP actions for AI agents and automation tools</li> <li>Secure Authentication: Server-side authentication with token caching</li> <li>Resource Monitoring: Track Kubernetes resource usage</li> <li>Cost Analysis: Detailed cost breakdown views</li> <li>Network Usage: Intra-AZ and cross-AZ traffic analysis</li> <li>Policy Management: View and analyze ScaleOps policies</li> </ul>"},{"location":"plugins/scaleops/overview/#plugin-components","title":"Plugin Components","text":""},{"location":"plugins/scaleops/overview/#backend-plugin-required","title":"Backend Plugin (Required)","text":"<p>The backend plugin provides: - Secure server-side authentication with ScaleOps - API proxying for frontend requests - Token caching for optimal performance - 5 entity-centric MCP actions for AI agents:   - Workload data retrieval   - Cost analysis   - Optimization recommendations   - Network usage analysis   - Policy definitions</p> <p>Learn more about the backend plugin</p>"},{"location":"plugins/scaleops/overview/#frontend-plugin","title":"Frontend Plugin","text":"<p>The frontend plugin provides UI components for: - Cost visualization - Resource monitoring - Savings analysis - Dashboard integration - Workload details and metrics</p> <p>Learn more about the frontend plugin</p>"},{"location":"plugins/scaleops/overview/#screenshots","title":"Screenshots","text":"<p> ScaleOps dashboard overview showing cost optimization opportunities</p> <p> Detailed view of resource utilization and savings</p>"},{"location":"plugins/scaleops/overview/#documentation-structure","title":"Documentation Structure","text":""},{"location":"plugins/scaleops/overview/#backend-plugin","title":"Backend Plugin","text":"<ul> <li>About</li> <li>Installation</li> <li>Configuration</li> </ul>"},{"location":"plugins/scaleops/overview/#frontend-plugin_1","title":"Frontend Plugin","text":"<ul> <li>About</li> <li>Installation</li> <li>Configuration</li> </ul>"},{"location":"plugins/scaleops/overview/#getting-started","title":"Getting Started","text":"<p>To get started with the ScaleOps plugin:</p> <ol> <li>Install and configure the backend plugin (required)</li> <li>Handles authentication</li> <li>Provides API proxying</li> <li>Exposes MCP actions</li> <li>Install the frontend plugin (optional, for UI)</li> <li>Displays cost visualizations</li> <li>Shows workload metrics</li> <li>Links to ScaleOps dashboard</li> <li>Configure entity annotations</li> <li>Add <code>backstage.io/kubernetes-label-selector</code> to components</li> <li>Start using</li> <li>View cost data in UI</li> <li>Use MCP actions with AI agents</li> <li>Monitor and optimize costs</li> </ol> <p>For detailed installation and configuration instructions, refer to the backend and frontend documentation linked above.</p>"},{"location":"plugins/scaleops/backend/about/","title":"ScaleOps Backend Plugin","text":""},{"location":"plugins/scaleops/backend/about/#overview","title":"Overview","text":"<p>The ScaleOps backend plugin provides server-side functionality for integrating ScaleOps cost optimization data into your Backstage instance. It handles authentication, API proxying, and exposes Model Context Protocol (MCP) actions for AI agents and automation tools.</p>"},{"location":"plugins/scaleops/backend/about/#features","title":"Features","text":""},{"location":"plugins/scaleops/backend/about/#api-integration","title":"API Integration","text":"<ul> <li>Secure server-side authentication with ScaleOps</li> <li>Token caching for optimal performance</li> <li>Support for Internal and LDAP authentication</li> <li>API request proxying for frontend plugin</li> <li>Multi-cluster support</li> </ul>"},{"location":"plugins/scaleops/backend/about/#mcp-actions","title":"MCP Actions","text":"<p>The plugin exposes 5 entity-centric MCP actions:</p> <ul> <li>get_scaleops_data_for_entity - Get workload data for a Backstage component</li> <li>get_scaleops_cost_analysis_for_entity - Get detailed cost analysis over time (7d, 30d, 90d)</li> <li>get_scaleops_recommendations_for_entity - Get prioritized optimization recommendations</li> <li>get_scaleops_network_usage_for_entity - Get network usage and cost data</li> <li>get_scaleops_policy_definitions_for_entity - Get ScaleOps policy definitions</li> </ul> <p>All MCP actions work with Backstage catalog entities that have the <code>backstage.io/kubernetes-label-selector</code> annotation.</p>"},{"location":"plugins/scaleops/backend/about/#security-features","title":"Security Features","text":"<ul> <li>Server-side authentication (no exposed credentials in frontend)</li> <li>Secure token caching with automatic refresh</li> <li>Request authentication middleware</li> </ul>"},{"location":"plugins/scaleops/backend/about/#technical-architecture","title":"Technical Architecture","text":""},{"location":"plugins/scaleops/backend/about/#integration-points","title":"Integration Points","text":"<ul> <li>ScaleOps Frontend Plugin</li> <li>Backstage Auth System</li> <li>Backstage Catalog API</li> <li>MCP Actions Registry</li> </ul>"},{"location":"plugins/scaleops/backend/about/#authentication-flow","title":"Authentication Flow","text":"<ol> <li>Backend reads credentials from configuration</li> <li>Authenticates with ScaleOps using POST to <code>/auth/callback</code></li> <li>Extracts and caches token with expiration tracking</li> <li>Automatically refreshes on expiration</li> </ol>"},{"location":"plugins/scaleops/backend/about/#api-proxy-flow","title":"API Proxy Flow","text":"<p>Frontend makes requests to <code>/api/scaleops/api/*</code> \u2192 Backend authenticates \u2192 Proxies to ScaleOps \u2192 Returns response</p>"},{"location":"plugins/scaleops/backend/about/#use-cases","title":"Use Cases","text":""},{"location":"plugins/scaleops/backend/about/#ai-agent-integration","title":"AI Agent Integration","text":"<ul> <li>Answer questions about component costs</li> <li>Provide optimization recommendations</li> <li>Generate cost reports per service/team</li> <li>Monitor under-provisioned components</li> </ul>"},{"location":"plugins/scaleops/backend/about/#automation","title":"Automation","text":"<ul> <li>Generate periodic cost reports</li> <li>Alert on high-priority issues</li> <li>Track optimization over time</li> <li>Integrate with external systems (Slack, PagerDuty)</li> </ul>"},{"location":"plugins/scaleops/backend/about/#developer-experience","title":"Developer Experience","text":"<ul> <li>Eliminates frontend CORS issues</li> <li>Provides secure authentication</li> <li>Offers fast, cached responses</li> <li>Enables AI-powered cost insights</li> </ul>"},{"location":"plugins/scaleops/backend/configure/","title":"Configuring the ScaleOps Backend Plugin","text":"<p>The ScaleOps backend plugin requires configuration for authentication and optional features like dashboard URL generation.</p>"},{"location":"plugins/scaleops/backend/configure/#basic-configuration","title":"Basic Configuration","text":"<p>Add the following to your <code>app-config.yaml</code>:</p> <pre><code>scaleops:\n  baseUrl: https://your-scaleops-instance.com\n  authentication:\n    enabled: true\n    type: internal  # or 'ldap'\n    user: ${SCALEOPS_USER}\n    password: ${SCALEOPS_PASSWORD}\n</code></pre>"},{"location":"plugins/scaleops/backend/configure/#configuration-options","title":"Configuration Options","text":""},{"location":"plugins/scaleops/backend/configure/#required-fields","title":"Required Fields","text":"Field Type Description <code>baseUrl</code> string The URL of your ScaleOps instance"},{"location":"plugins/scaleops/backend/configure/#authentication-configuration","title":"Authentication Configuration","text":"Field Type Default Description <code>authentication.enabled</code> boolean <code>false</code> Whether authentication is enabled <code>authentication.type</code> string <code>internal</code> Authentication type: <code>internal</code> or <code>ldap</code> <code>authentication.user</code> string - Username for ScaleOps authentication <code>authentication.password</code> string - Password for ScaleOps authentication"},{"location":"plugins/scaleops/backend/configure/#optional-fields","title":"Optional Fields","text":"Field Type Default Description <code>linkToDashboard</code> boolean <code>false</code> Whether to generate dashboard URLs in MCP action outputs"},{"location":"plugins/scaleops/backend/configure/#configuration-examples","title":"Configuration Examples","text":""},{"location":"plugins/scaleops/backend/configure/#internal-authentication","title":"Internal Authentication","text":"<pre><code>scaleops:\n  baseUrl: https://scaleops.example.com\n  authentication:\n    enabled: true\n    type: internal\n    user: ${SCALEOPS_USER}\n    password: ${SCALEOPS_PASSWORD}\n</code></pre>"},{"location":"plugins/scaleops/backend/configure/#ldap-authentication","title":"LDAP Authentication","text":"<pre><code>scaleops:\n  baseUrl: https://scaleops.example.com\n  authentication:\n    enabled: true\n    type: ldap\n    user: ${SCALEOPS_LDAP_USER}\n    password: ${SCALEOPS_LDAP_PASSWORD}\n</code></pre>"},{"location":"plugins/scaleops/backend/configure/#with-dashboard-links-enabled","title":"With Dashboard Links Enabled","text":"<pre><code>scaleops:\n  baseUrl: https://scaleops.example.com\n  linkToDashboard: true  # Enable dashboard URLs in MCP actions\n  authentication:\n    enabled: true\n    type: internal\n    user: ${SCALEOPS_USER}\n    password: ${SCALEOPS_PASSWORD}\n</code></pre>"},{"location":"plugins/scaleops/backend/configure/#no-authentication-development-only","title":"No Authentication (Development Only)","text":"<pre><code>scaleops:\n  baseUrl: https://scaleops.internal.dev\n</code></pre>"},{"location":"plugins/scaleops/backend/configure/#environment-variables","title":"Environment Variables","text":""},{"location":"plugins/scaleops/backend/configure/#using-environment-variables","title":"Using Environment Variables","text":"<p>Store credentials as environment variables for security:</p> <pre><code># .env file (DO NOT commit to git)\nSCALEOPS_USER=your-username\nSCALEOPS_PASSWORD=your-secure-password\n</code></pre>"},{"location":"plugins/scaleops/backend/configure/#docker-environment","title":"Docker Environment","text":"<pre><code>docker run \\\n  -e SCALEOPS_USER=your-username \\\n  -e SCALEOPS_PASSWORD=your-password \\\n  your-backstage-image\n</code></pre>"},{"location":"plugins/scaleops/backend/configure/#kubernetes-secrets","title":"Kubernetes Secrets","text":"<p>Create a Kubernetes secret:</p> <pre><code>kubectl create secret generic scaleops-credentials \\\n  --from-literal=username=your-username \\\n  --from-literal=password=your-password \\\n  -n backstage\n</code></pre> <p>Reference in deployment:</p> <pre><code>apiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: backstage-backend\nspec:\n  template:\n    spec:\n      containers:\n        - name: backend\n          env:\n            - name: SCALEOPS_USER\n              valueFrom:\n                secretKeyRef:\n                  name: scaleops-credentials\n                  key: username\n            - name: SCALEOPS_PASSWORD\n              valueFrom:\n                secretKeyRef:\n                  name: scaleops-credentials\n                  key: password\n</code></pre>"},{"location":"plugins/scaleops/backend/configure/#multi-environment-configuration","title":"Multi-Environment Configuration","text":""},{"location":"plugins/scaleops/backend/configure/#development-environment","title":"Development Environment","text":"<p><code>app-config.local.yaml</code>: <pre><code>scaleops:\n  baseUrl: https://scaleops-dev.company.com\n  linkToDashboard: true\n  authentication:\n    enabled: true\n    type: internal\n    user: dev-user\n    password: dev-password\n</code></pre></p>"},{"location":"plugins/scaleops/backend/configure/#production-environment","title":"Production Environment","text":"<p><code>app-config.production.yaml</code>: <pre><code>scaleops:\n  baseUrl: https://scaleops.company.com\n  linkToDashboard: true\n  authentication:\n    enabled: true\n    type: ldap\n    user: ${SCALEOPS_USER}\n    password: ${SCALEOPS_PASSWORD}\n</code></pre></p>"},{"location":"plugins/scaleops/backend/configure/#mcp-actions","title":"MCP Actions","text":"<p>MCP actions are automatically enabled when the plugin is installed. No additional configuration is required.</p>"},{"location":"plugins/scaleops/backend/configure/#dashboard-url-generation","title":"Dashboard URL Generation","text":"<p>If <code>linkToDashboard: true</code>, all MCP action outputs will include dashboard URLs:</p> <pre><code>{\n  \"workloads\": [\n    {\n      \"workloadName\": \"my-app\",\n      \"dashboardUrl\": \"https://scaleops.example.com/cost-report/compute?searchTerms=my-app&amp;...\"\n    }\n  ]\n}\n</code></pre> <p>If <code>linkToDashboard: false</code> or omitted, <code>dashboardUrl</code> will be <code>null</code>.</p>"},{"location":"plugins/scaleops/backend/configure/#best-practices","title":"Best Practices","text":""},{"location":"plugins/scaleops/backend/configure/#security","title":"Security","text":"<ol> <li> <p>Credential Management</p> <ul> <li>Never commit credentials to git</li> <li>Use environment variables or secrets</li> <li>Rotate credentials regularly</li> </ul> </li> <li> <p>Authentication</p> <ul> <li>Use LDAP for production environments</li> <li>Create dedicated service accounts</li> <li>Use HTTPS for <code>baseUrl</code></li> </ul> </li> <li> <p>Access Control</p> <ul> <li>Limit ScaleOps user permissions to read-only</li> <li>Use dedicated credentials per environment</li> <li>Monitor access logs</li> </ul> </li> </ol>"},{"location":"plugins/scaleops/backend/install/","title":"Installing the ScaleOps Backend Plugin","text":"<p>This guide will help you install and set up the ScaleOps backend plugin in your Backstage instance.</p>"},{"location":"plugins/scaleops/backend/install/#prerequisites","title":"Prerequisites","text":"<p>Before installing the backend plugin, ensure you have:</p> <ol> <li>A working Backstage instance (version 1.47.1 or later)</li> <li>Node.js 18+ and Yarn installed</li> <li>Access to a ScaleOps instance</li> <li>ScaleOps credentials (username and password)</li> </ol>"},{"location":"plugins/scaleops/backend/install/#installation-steps","title":"Installation Steps","text":""},{"location":"plugins/scaleops/backend/install/#1-add-required-package","title":"1. Add Required Package","text":"<p>Install the package using your package manager:</p> <pre><code>yarn --cwd packages/backend add @terasky/backstage-plugin-scaleops-backend\n</code></pre>"},{"location":"plugins/scaleops/backend/install/#2-add-to-backend","title":"2. Add to Backend","text":"<p>Modify your backend entry point (typically <code>packages/backend/src/index.ts</code>):</p> <pre><code>// In your backend initialization\nbackend.add(import('@terasky/backstage-plugin-scaleops-backend'));\n</code></pre> <p>Example: <pre><code>import { createBackend } from '@backstage/backend-defaults';\n\nconst backend = createBackend();\n\n// ... other plugins\nbackend.add(import('@backstage/plugin-catalog-backend'));\nbackend.add(import('@backstage/plugin-scaffolder-backend'));\n\n// Add ScaleOps backend plugin\nbackend.add(import('@terasky/backstage-plugin-scaleops-backend'));\n\nbackend.start();\n</code></pre></p>"},{"location":"plugins/scaleops/backend/install/#3-configure-the-plugin","title":"3. Configure the Plugin","text":"<p>Add the following to your <code>app-config.yaml</code>:</p> <pre><code>scaleops:\n  baseUrl: https://your-scaleops-instance.com\n  authentication:\n    enabled: true\n    type: internal  # or 'ldap'\n    user: ${SCALEOPS_USER}\n    password: ${SCALEOPS_PASSWORD}\n</code></pre>"},{"location":"plugins/scaleops/backend/install/#verification","title":"Verification","text":"<p>After installation, verify that:</p> <ol> <li>The plugin appears in your package.json dependencies</li> <li>The backend starts without errors</li> <li>The API endpoints are accessible at <code>/api/scaleops/api/*</code></li> <li>MCP actions are registered (if using AI agents)</li> </ol>"},{"location":"plugins/scaleops/backend/install/#testing-the-installation","title":"Testing the Installation","text":"<p>Check API Health: <pre><code>curl http://localhost:7007/api/scaleops/api/v1/dashboard/byNamespace \\\n  -H \"Authorization: Bearer YOUR_BACKSTAGE_TOKEN\"\n</code></pre></p> <p>This should return a ScaleOps authentication error if not yet configured, or data if configured correctly.</p>"},{"location":"plugins/scaleops/backend/install/#next-steps","title":"Next Steps","text":"<p>After successful installation:</p> <ol> <li>Configure authentication credentials</li> <li>Install the frontend plugin (optional)</li> <li>Configure entity annotations</li> <li>Start using MCP actions with AI agents</li> </ol> <p>Proceed to the Configuration Guide for detailed setup instructions.</p>"},{"location":"plugins/scaleops/frontend/about/","title":"ScaleOps Frontend Plugin","text":""},{"location":"plugins/scaleops/frontend/about/#overview","title":"Overview","text":"<p>The ScaleOps frontend plugin provides a comprehensive UI for viewing and analyzing cost optimization data from ScaleOps within your Backstage instance. It works with the ScaleOps backend plugin to display resource utilization, track potential savings, and access detailed cost analysis directly from your service catalog.</p>"},{"location":"plugins/scaleops/frontend/about/#features","title":"Features","text":""},{"location":"plugins/scaleops/frontend/about/#cost-optimization-dashboard","title":"Cost Optimization Dashboard","text":"<ul> <li>Potential savings analysis</li> <li>Realized savings tracking</li> <li>Resource utilization metrics</li> <li>Cost breakdown views</li> <li>Multi-cluster visibility</li> </ul>"},{"location":"plugins/scaleops/frontend/about/#resource-monitoring","title":"Resource Monitoring","text":"<ul> <li>Resource usage tracking</li> <li>CPU and memory recommendations</li> <li>Optimization suggestions</li> <li>Performance metrics</li> <li>Workload details</li> </ul>"},{"location":"plugins/scaleops/frontend/about/#integration-features","title":"Integration Features","text":"<ul> <li>ScaleOps dashboard links (when enabled)</li> <li>Automatic data fetching via backend plugin</li> <li>Multi-cluster support</li> <li>Real-time data updates</li> <li>Network usage analysis (when available)</li> </ul>"},{"location":"plugins/scaleops/frontend/about/#components","title":"Components","text":""},{"location":"plugins/scaleops/frontend/about/#scaleopsdashboard","title":"ScaleOpsDashboard","text":"<p>The main component that displays comprehensive workload data including: - Cost optimization metrics - Resource recommendations - Savings analysis - Workload configuration - Policy information</p> <p>Example usage: <pre><code>import { ScaleOpsDashboard, isScaleopsAvailable } from '@terasky/backstage-plugin-scaleops-frontend';\n\nconst entityPage = (\n  &lt;EntityLayout&gt;\n    &lt;EntityLayout.Route \n      path=\"/scaleops\" \n      if={isScaleopsAvailable}\n      title=\"ScaleOps\"\n    &gt;\n      &lt;ScaleOpsDashboard /&gt;\n    &lt;/EntityLayout.Route&gt;\n  &lt;/EntityLayout&gt;\n);\n</code></pre></p>"},{"location":"plugins/scaleops/frontend/about/#scaleopscard","title":"ScaleopsCard","text":"<p>A summary card component for the overview page: <pre><code>import { ScaleopsCard } from '@terasky/backstage-plugin-scaleops-frontend';\n\n&lt;Grid item md={6}&gt;\n  &lt;ScaleopsCard /&gt;\n&lt;/Grid&gt;\n</code></pre></p>"},{"location":"plugins/scaleops/frontend/about/#technical-details","title":"Technical Details","text":""},{"location":"plugins/scaleops/frontend/about/#integration-points","title":"Integration Points","text":"<ul> <li>ScaleOps Backend Plugin (required)</li> <li>Entity catalog</li> <li>Backstage identity API</li> </ul>"},{"location":"plugins/scaleops/frontend/about/#authentication","title":"Authentication","text":"<p>Authentication is handled entirely by the backend plugin - no frontend configuration needed.</p>"},{"location":"plugins/scaleops/frontend/about/#data-flow","title":"Data Flow","text":"<p>Frontend \u2192 Backend API (<code>/api/scaleops/api/*</code>) \u2192 ScaleOps Instance</p>"},{"location":"plugins/scaleops/frontend/about/#use-cases","title":"Use Cases","text":""},{"location":"plugins/scaleops/frontend/about/#cost-optimization","title":"Cost Optimization","text":"<ol> <li>Monitor resource costs per component</li> <li>Identify savings opportunities</li> <li>Track optimization progress</li> <li>Analyze spending patterns</li> </ol>"},{"location":"plugins/scaleops/frontend/about/#resource-management","title":"Resource Management","text":"<ol> <li>View current vs recommended resources</li> <li>Monitor over/under-provisioning</li> <li>Track automation status</li> <li>Plan capacity adjustments</li> </ol>"},{"location":"plugins/scaleops/frontend/about/#team-collaboration","title":"Team Collaboration","text":"<ol> <li>Share cost insights across teams</li> <li>Track team-level improvements</li> <li>Document optimization decisions</li> <li>Monitor component health</li> </ol>"},{"location":"plugins/scaleops/frontend/about/#prerequisites","title":"Prerequisites","text":"<p>Required: - ScaleOps Backend Plugin must be installed and configured - Entities must have <code>backstage.io/kubernetes-label-selector</code> annotation</p>"},{"location":"plugins/scaleops/frontend/about/#screenshots","title":"Screenshots","text":""},{"location":"plugins/scaleops/frontend/about/#dashboard-overview","title":"Dashboard Overview","text":"<p> Main dashboard showing workload details and cost optimization opportunities</p>"},{"location":"plugins/scaleops/frontend/about/#detailed-analysis","title":"Detailed Analysis","text":"<p> Detailed view of resource configuration and recommendations</p> <p>For installation and configuration details, refer to the Installation Guide and Configuration Guide.</p>"},{"location":"plugins/scaleops/frontend/configure/","title":"Configuring the ScaleOps Frontend Plugin","text":"<p>This guide covers the frontend-specific configuration options for the ScaleOps plugin.</p>"},{"location":"plugins/scaleops/frontend/configure/#backend-configuration","title":"Backend Configuration","text":"<p>Important: All authentication and API configuration is handled by the backend plugin. See the Backend Configuration Guide for: - ScaleOps authentication setup - Dashboard link enablement - API connectivity</p> <p>The frontend plugin automatically uses the backend API at <code>/api/scaleops/api/*</code>.</p>"},{"location":"plugins/scaleops/frontend/configure/#entity-configuration","title":"Entity Configuration","text":"<p>The frontend plugin displays data for entities with the required annotation.</p>"},{"location":"plugins/scaleops/frontend/configure/#required-annotation","title":"Required Annotation","text":"<p>Add to your <code>catalog-info.yaml</code>:</p> <pre><code>apiVersion: backstage.io/v1alpha1\nkind: Component\nmetadata:\n  name: my-service\n  annotations:\n    backstage.io/kubernetes-label-selector: 'app=my-service,env=prod'\nspec:\n  type: service\n  lifecycle: production\n</code></pre>"},{"location":"plugins/scaleops/frontend/configure/#label-selector-format","title":"Label Selector Format","text":"<p>The <code>kubernetes-label-selector</code> annotation should contain Kubernetes labels in the format:</p> <pre><code># Single label\nbackstage.io/kubernetes-label-selector: 'app=my-service'\n\n# Multiple labels (AND logic)\nbackstage.io/kubernetes-label-selector: 'app=my-service,env=prod,tier=backend'\n</code></pre>"},{"location":"plugins/scaleops/frontend/configure/#component-placement","title":"Component Placement","text":""},{"location":"plugins/scaleops/frontend/configure/#dashboard-tab","title":"Dashboard Tab","text":"<p>Add to entity pages in <code>packages/app/src/components/catalog/EntityPage.tsx</code>:</p> <pre><code>import { ScaleOpsDashboard, isScaleopsAvailable } from '@terasky/backstage-plugin-scaleops-frontend';\n\nconst serviceEntityPage = (\n  &lt;EntityLayout&gt;\n    &lt;EntityLayout.Route \n      path=\"/scaleops\" \n      if={isScaleopsAvailable}\n      title=\"ScaleOps\"\n    &gt;\n      &lt;ScaleOpsDashboard /&gt;\n    &lt;/EntityLayout.Route&gt;\n  &lt;/EntityLayout&gt;\n);\n</code></pre>"},{"location":"plugins/scaleops/frontend/configure/#summary-card-optional","title":"Summary Card (Optional)","text":"<p>Add to overview page:</p> <pre><code>import { ScaleopsCard } from '@terasky/backstage-plugin-scaleops-frontend';\n\nconst overviewContent = (\n  &lt;Grid container spacing={3}&gt;\n    &lt;Grid item md={6}&gt;\n      &lt;ScaleopsCard /&gt;\n    &lt;/Grid&gt;\n  &lt;/Grid&gt;\n);\n</code></pre>"},{"location":"plugins/scaleops/frontend/configure/#new-frontend-system-configuration-alpha","title":"New Frontend System Configuration (Alpha)","text":"<p>When using the new frontend system, the plugin is configured automatically:</p> <pre><code>import { scaleopsPlugin } from '@terasky/backstage-plugin-scaleops-frontend/alpha';\n\nexport default createApp({\n  features: [\n    scaleopsPlugin,\n  ],\n});\n</code></pre> <p>No manual route configuration needed - the plugin automatically appears on entities with the correct annotation.</p>"},{"location":"plugins/scaleops/frontend/configure/#display-customization","title":"Display Customization","text":""},{"location":"plugins/scaleops/frontend/configure/#tab-title","title":"Tab Title","text":"<p>Customize the tab title:</p> <pre><code>&lt;EntityLayout.Route \n  path=\"/scaleops\" \n  if={isScaleopsAvailable}\n  title=\"Cost Optimization\"  // Custom title\n&gt;\n  &lt;ScaleOpsDashboard /&gt;\n&lt;/EntityLayout.Route&gt;\n</code></pre>"},{"location":"plugins/scaleops/frontend/configure/#conditional-display","title":"Conditional Display","text":"<p>The <code>isScaleopsAvailable</code> function checks for the <code>kubernetes-label-selector</code> annotation. The tab only appears when this annotation is present.</p>"},{"location":"plugins/scaleops/frontend/configure/#best-practices","title":"Best Practices","text":""},{"location":"plugins/scaleops/frontend/configure/#entity-annotations","title":"Entity Annotations","text":"<ol> <li>Label Accuracy</li> <li>Ensure labels match your Kubernetes workloads exactly</li> <li>Use the same labels ScaleOps uses to track workloads</li> <li> <p>Test labels against your cluster</p> </li> <li> <p>Label Specificity</p> </li> <li>Use specific labels to avoid matching unrelated workloads</li> <li>Include environment labels when appropriate</li> <li>Document label meanings in entity descriptions</li> </ol>"},{"location":"plugins/scaleops/frontend/configure/#ui-integration","title":"UI Integration","text":"<ol> <li>Tab Placement</li> <li>Place near other operations/monitoring tabs</li> <li>Use consistent naming across services</li> <li> <p>Consider your team's workflow</p> </li> <li> <p>Component Selection</p> </li> <li>Use dashboard for detailed analysis</li> <li>Use card for quick overview</li> <li>Consider both on important services</li> </ol>"},{"location":"plugins/scaleops/frontend/configure/#troubleshooting","title":"Troubleshooting","text":""},{"location":"plugins/scaleops/frontend/configure/#tab-not-appearing","title":"Tab Not Appearing","text":"<p>Issue: ScaleOps tab doesn't show on entity page</p> <p>Solutions: 1. Verify <code>backstage.io/kubernetes-label-selector</code> annotation exists 2. Check annotation format is correct 3. Ensure <code>isScaleopsAvailable</code> condition is used 4. Check browser console for errors</p>"},{"location":"plugins/scaleops/frontend/configure/#no-data-displayed","title":"No Data Displayed","text":"<p>Issue: Tab appears but shows no data</p> <p>Solutions: 1. Verify backend plugin is installed and configured 2. Check entity labels match ScaleOps workloads 3. Verify ScaleOps has data for those labels 4. Check browser console for API errors 5. Verify backend authentication is working</p>"},{"location":"plugins/scaleops/frontend/configure/#dashboard-links-not-working","title":"Dashboard Links Not Working","text":"<p>Issue: \"View Dashboard\" links don't work</p> <p>Solution: - Enable dashboard links in backend configuration:   <pre><code>scaleops:\n  linkToDashboard: true\n</code></pre></p> <p>For backend configuration issues, see the Backend Configuration Guide.</p>"},{"location":"plugins/scaleops/frontend/install/","title":"Installing the ScaleOps Frontend Plugin","text":"<p>This guide will help you install and set up the ScaleOps frontend plugin in your Backstage instance.</p>"},{"location":"plugins/scaleops/frontend/install/#prerequisites","title":"Prerequisites","text":"<p>Before installing the frontend plugin, ensure you have:</p> <ol> <li>A working Backstage instance</li> <li>ScaleOps Backend Plugin installed and configured (required)</li> <li>Access to a ScaleOps instance</li> </ol>"},{"location":"plugins/scaleops/frontend/install/#installation-steps","title":"Installation Steps","text":""},{"location":"plugins/scaleops/frontend/install/#1-install-backend-plugin-first","title":"1. Install Backend Plugin First","text":"<p>The frontend plugin requires the backend plugin to be installed and configured. See the Backend Installation Guide if not already done.</p>"},{"location":"plugins/scaleops/frontend/install/#2-add-the-frontend-package","title":"2. Add the Frontend Package","text":"<p>Install the plugin package:</p> <pre><code>yarn --cwd packages/app add @terasky/backstage-plugin-scaleops-frontend\n</code></pre>"},{"location":"plugins/scaleops/frontend/install/#3-add-to-entity-page","title":"3. Add to Entity Page","text":"<p>Modify your entity page configuration in <code>packages/app/src/components/catalog/EntityPage.tsx</code>:</p> <pre><code>import { ScaleOpsDashboard, isScaleopsAvailable } from '@terasky/backstage-plugin-scaleops-frontend';\n\nconst serviceEntityPage = (\n  &lt;EntityLayout&gt;\n    {/* ... other routes ... */}\n\n    &lt;EntityLayout.Route \n      path=\"/scaleops\" \n      if={isScaleopsAvailable}\n      title=\"ScaleOps\"\n    &gt;\n      &lt;ScaleOpsDashboard /&gt;\n    &lt;/EntityLayout.Route&gt;\n  &lt;/EntityLayout&gt;\n);\n</code></pre>"},{"location":"plugins/scaleops/frontend/install/#4-optional-add-summary-card","title":"4. (Optional) Add Summary Card","text":"<p>Add the ScaleOps card to your overview page:</p> <pre><code>import { ScaleopsCard } from '@terasky/backstage-plugin-scaleops-frontend';\n\nconst overviewContent = (\n  &lt;Grid container spacing={3}&gt;\n    {/* ... other cards ... */}\n\n    &lt;Grid item md={6}&gt;\n      &lt;ScaleopsCard /&gt;\n    &lt;/Grid&gt;\n  &lt;/Grid&gt;\n);\n</code></pre>"},{"location":"plugins/scaleops/frontend/install/#5-configure-entity-annotations","title":"5. Configure Entity Annotations","text":"<p>Add the required annotation to your component entities in <code>catalog-info.yaml</code>:</p> <pre><code>apiVersion: backstage.io/v1alpha1\nkind: Component\nmetadata:\n  name: my-service\n  annotations:\n    backstage.io/kubernetes-label-selector: 'app=my-service,env=prod'\nspec:\n  type: service\n  lifecycle: production\n</code></pre>"},{"location":"plugins/scaleops/frontend/install/#new-frontend-system-support-alpha","title":"New Frontend System Support (Alpha)","text":"<p>The plugin supports the new frontend system available in the <code>/alpha</code> export:</p> <pre><code>import { createApp } from '@backstage/frontend-defaults';\nimport { scaleopsPlugin } from '@terasky/backstage-plugin-scaleops-frontend/alpha';\n\nexport default createApp({\n  features: [\n    // ... other features\n    scaleopsPlugin,\n  ],\n});\n</code></pre> <p>This automatically integrates the plugin into appropriate entity pages without manual route configuration.</p>"},{"location":"plugins/scaleops/frontend/install/#verification","title":"Verification","text":"<p>After installation, verify that:</p> <ol> <li>The plugin appears in your package.json dependencies</li> <li>The ScaleOps tab appears on entities with the kubernetes label selector annotation</li> <li>Cost data is being displayed correctly</li> <li>Dashboard links work (if enabled in backend config)</li> </ol>"},{"location":"plugins/scaleops/frontend/install/#testing-the-installation","title":"Testing the Installation","text":"<ol> <li>Check Entity Page</li> <li>Navigate to a component with <code>backstage.io/kubernetes-label-selector</code> annotation</li> <li>Look for the \"ScaleOps\" tab</li> <li> <p>Verify data loads without errors</p> </li> <li> <p>Check Browser Console</p> </li> <li>No error messages related to ScaleOps</li> <li>API calls to <code>/api/scaleops/api/*</code> succeed</li> </ol>"},{"location":"plugins/scaleops/frontend/install/#next-steps","title":"Next Steps","text":"<p>After successful installation:</p> <ol> <li>Configure backend plugin settings (see Backend Configuration)</li> <li>Add annotations to more entities</li> <li>Enable dashboard links (optional)</li> <li>Start monitoring costs and optimizations</li> </ol> <p>For configuration options, proceed to the Configuration Guide.</p>"},{"location":"plugins/signin-page/overview/","title":"Global Sign-In Page Module","text":"<p>The Global Sign-In Page module for Backstage provides a configuration-driven approach to customizing your Backstage authentication experience. Instead of writing TypeScript code to configure authentication providers, you can now manage everything through your <code>app-config.yaml</code> file.</p>"},{"location":"plugins/signin-page/overview/#plugin-components","title":"Plugin Components","text":""},{"location":"plugins/signin-page/overview/#frontend-plugin-module","title":"Frontend Plugin Module","text":"<p>The frontend plugin module replaces the default sign-in page with a configurable version that supports:</p> <ul> <li>All core Backstage authentication providers</li> <li>Guest access for development environments</li> <li>Custom titles and messages per provider</li> <li>Pure YAML configuration - no code required</li> </ul> <p>Learn more about the frontend module</p>"},{"location":"plugins/signin-page/overview/#documentation-structure","title":"Documentation Structure","text":"<ul> <li>About</li> <li>Installation</li> <li>Configuration</li> </ul>"},{"location":"plugins/signin-page/overview/#key-features","title":"Key Features","text":""},{"location":"plugins/signin-page/overview/#zero-code-configuration","title":"Zero-Code Configuration","text":"<p>Configure your entire sign-in page through <code>app-config.yaml</code> without touching TypeScript code. Enable or disable providers, customize messages, and manage authentication options entirely through configuration.</p>"},{"location":"plugins/signin-page/overview/#comprehensive-provider-support","title":"Comprehensive Provider Support","text":"<p>Out-of-the-box support for all major authentication providers:</p> <ul> <li>Source Control: GitHub, GitLab, Bitbucket, Bitbucket Server</li> <li>Enterprise Identity: Microsoft, Google, Okta, OneLogin, Atlassian</li> <li>Platform Specific: OpenShift, VMware Cloud</li> <li>Development: Guest access</li> </ul>"},{"location":"plugins/signin-page/overview/#flexible-customization","title":"Flexible Customization","text":"<p>Each authentication provider can be customized with:</p> <ul> <li>Custom display titles</li> <li>Personalized sign-in messages</li> <li>Enable/disable toggles</li> <li>Provider-specific branding</li> </ul>"},{"location":"plugins/signin-page/overview/#development-friendly","title":"Development-Friendly","text":"<p>The optional guest provider makes development and testing easier by allowing quick access without full authentication setup.</p>"},{"location":"plugins/signin-page/overview/#use-cases","title":"Use Cases","text":""},{"location":"plugins/signin-page/overview/#multi-provider-authentication","title":"Multi-Provider Authentication","text":"<p>Organizations using multiple identity providers can easily configure all options in one place, allowing users to choose their preferred authentication method.</p>"},{"location":"plugins/signin-page/overview/#environment-specific-configuration","title":"Environment-Specific Configuration","text":"<p>Different environments (development, staging, production) can have different authentication configurations using standard Backstage configuration mechanisms.</p>"},{"location":"plugins/signin-page/overview/#dynamic-provider-management","title":"Dynamic Provider Management","text":"<p>Add, remove, or modify authentication providers without code changes or redeployment - just update your configuration and restart.</p>"},{"location":"plugins/signin-page/overview/#getting-started","title":"Getting Started","text":"<p>To get started with the Global Sign-In Page module:</p> <ol> <li>Install the module in your Backstage instance</li> <li>Configure your authentication providers in <code>app-config.yaml</code></li> <li>Customize titles and messages as needed</li> <li>Enable guest access for development (optional)</li> </ol> <p>For detailed installation and configuration instructions, refer to:</p> <ul> <li>About the module</li> <li>Installation Guide</li> <li>Configuration Guide</li> </ul>"},{"location":"plugins/signin-page/overview/#architecture","title":"Architecture","text":"<p>This is a frontend plugin module that integrates with Backstage's new frontend system. It extends the core <code>app</code> plugin by providing a custom sign-in page implementation that reads configuration at runtime and dynamically builds the provider list.</p> <p>The module uses the <code>SignInPageBlueprint</code> to replace the default sign-in page with a configuration-aware version that leverages Backstage's built-in authentication API references for each provider.</p>"},{"location":"plugins/signin-page/frontend/about/","title":"Global Sign-In Page Frontend Module","text":""},{"location":"plugins/signin-page/frontend/about/#overview","title":"Overview","text":"<p>The Global Sign-In Page frontend module provides a completely configuration-driven sign-in page for Backstage. It eliminates the need to write TypeScript code for customizing authentication, allowing you to manage all authentication providers through your <code>app-config.yaml</code> file.</p>"},{"location":"plugins/signin-page/frontend/about/#features","title":"Features","text":""},{"location":"plugins/signin-page/frontend/about/#configuration-driven-architecture","title":"Configuration-Driven Architecture","text":"<ul> <li>Manage authentication entirely through YAML configuration</li> <li>No TypeScript code required for sign-in page customization</li> <li>Hot-reload configuration changes with a simple restart</li> </ul>"},{"location":"plugins/signin-page/frontend/about/#comprehensive-provider-support","title":"Comprehensive Provider Support","text":"<p>The module supports all core Backstage authentication providers:</p> <ul> <li>GitHub - GitHub OAuth authentication</li> <li>GitLab - GitLab OAuth authentication</li> <li>Microsoft - Microsoft Azure AD authentication</li> <li>Google - Google OAuth authentication</li> <li>Okta - Okta SAML/OAuth authentication</li> <li>OneLogin - OneLogin SAML authentication</li> <li>OpenShift - Red Hat OpenShift authentication</li> <li>Atlassian - Atlassian OAuth authentication</li> <li>Bitbucket - Bitbucket Cloud OAuth authentication</li> <li>Bitbucket Server - Bitbucket Server authentication</li> <li>VMware Cloud - VMware Cloud Services authentication</li> <li>Guest - Development-only guest access</li> </ul>"},{"location":"plugins/signin-page/frontend/about/#additional-provider-support","title":"Additional Provider Support","text":"<p>The module also supports the custom spectrocloud oidc auth provider from this repo.</p>"},{"location":"plugins/signin-page/frontend/about/#per-provider-customization","title":"Per-Provider Customization","text":"<p>Each authentication provider can be individually configured with:</p> <ul> <li>Enable/Disable Toggle - Turn providers on or off without code changes</li> <li>Custom Title - Override the default display title</li> <li>Custom Message - Personalize the sign-in message</li> <li>Auto-Discovery - Uses Backstage's built-in auth API references</li> </ul>"},{"location":"plugins/signin-page/frontend/about/#guest-access","title":"Guest Access","text":"<p>Optional guest provider for development environments:</p> <ul> <li>Quick development access without full auth setup</li> <li>Disable in production through configuration</li> <li>Useful for local testing and demos</li> </ul>"},{"location":"plugins/signin-page/frontend/about/#technical-details","title":"Technical Details","text":""},{"location":"plugins/signin-page/frontend/about/#module-architecture","title":"Module Architecture","text":"<p>This is a frontend plugin module (not a standalone plugin) that extends the core <code>app</code> plugin. It uses Backstage's new frontend system architecture:</p> <ul> <li>Uses <code>SignInPageBlueprint</code> for integration</li> <li>Implements the <code>createFrontendModule</code> pattern</li> <li>Registers as a module for <code>pluginId: 'app'</code></li> </ul>"},{"location":"plugins/signin-page/frontend/about/#provider-configuration","title":"Provider Configuration","text":"<p>The module reads configuration at runtime and dynamically builds the provider list based on:</p> <ol> <li>Enabled providers in configuration</li> <li>Custom titles and messages</li> <li>Guest provider setting</li> <li>Default values for unconfigured options</li> </ol>"},{"location":"plugins/signin-page/frontend/about/#built-in-defaults","title":"Built-in Defaults","text":"<p>Each provider has sensible defaults:</p> <pre><code>{\n  github: {\n    id: 'github-auth-provider',\n    title: 'GitHub',\n    message: 'Sign in using GitHub',\n    apiRef: githubAuthApiRef,\n  },\n  // ... similar defaults for all providers\n}\n</code></pre>"},{"location":"plugins/signin-page/frontend/about/#configuration-api","title":"Configuration API","text":"<p>The module uses Backstage's <code>configApiRef</code> to:</p> <ul> <li>Read provider enablement flags</li> <li>Fetch custom titles and messages</li> <li>Check guest provider settings</li> <li>Apply runtime configuration</li> </ul>"},{"location":"plugins/signin-page/frontend/about/#components","title":"Components","text":""},{"location":"plugins/signin-page/frontend/about/#configurablesigninpage","title":"ConfigurableSignInPage","text":"<p>The main component that:</p> <ul> <li>Reads configuration using <code>configApiRef</code></li> <li>Builds the provider list dynamically</li> <li>Handles guest provider logic</li> <li>Renders Backstage's standard <code>SignInPage</code> with custom providers</li> </ul>"},{"location":"plugins/signin-page/frontend/about/#appmoduleglobalsigninpage","title":"appModuleGlobalSigninPage","text":"<p>The exported module that:</p> <ul> <li>Integrates with the new frontend system</li> <li>Registers the custom sign-in page</li> <li>Provides the <code>SignInPageBlueprint</code> implementation</li> </ul>"},{"location":"plugins/signin-page/frontend/about/#integration-points","title":"Integration Points","text":"<p>The module integrates with:</p> <ul> <li>Backstage Frontend Plugin API - Uses new frontend system patterns</li> <li>Core Components - Leverages <code>@backstage/core-components</code> SignInPage</li> <li>Core Plugin API - Uses <code>configApiRef</code> and various auth API references</li> <li>Configuration System - Reads from <code>app-config.yaml</code> at runtime</li> </ul>"},{"location":"plugins/signin-page/frontend/about/#development-workflow","title":"Development Workflow","text":""},{"location":"plugins/signin-page/frontend/about/#local-development","title":"Local Development","text":"<ol> <li>Enable guest provider for quick access</li> <li>Configure only the providers you need to test</li> <li>Use custom messages to identify the environment</li> </ol>"},{"location":"plugins/signin-page/frontend/about/#production-deployment","title":"Production Deployment","text":"<ol> <li>Disable guest provider</li> <li>Enable only production auth providers</li> <li>Customize titles/messages for your organization</li> </ol>"},{"location":"plugins/signin-page/frontend/about/#benefits","title":"Benefits","text":""},{"location":"plugins/signin-page/frontend/about/#for-developers","title":"For Developers","text":"<ul> <li>No code changes required for auth configuration</li> <li>Easy to test different auth providers</li> <li>Quick environment-specific setup</li> </ul>"},{"location":"plugins/signin-page/frontend/about/#for-platform-teams","title":"For Platform Teams","text":"<ul> <li>Centralized authentication configuration</li> <li>Consistent configuration patterns</li> <li>Easy to manage across environments</li> </ul>"},{"location":"plugins/signin-page/frontend/about/#for-organizations","title":"For Organizations","text":"<ul> <li>Flexible multi-provider support</li> <li>Customizable user experience</li> <li>No code deployment for auth changes</li> </ul>"},{"location":"plugins/signin-page/frontend/configure/","title":"Configuring the Global Sign-In Page Module","text":"<p>This guide covers all configuration options for the Global Sign-In Page module.</p>"},{"location":"plugins/signin-page/frontend/configure/#configuration-structure","title":"Configuration Structure","text":"<p>All configuration is done in your <code>app-config.yaml</code> file under the <code>signinPage</code> key:</p> <pre><code>signinPage:\n  enableGuestProvider: boolean\n  providers:\n    &lt;provider-name&gt;:\n      enabled: boolean\n      title: string\n      message: string\n</code></pre>"},{"location":"plugins/signin-page/frontend/configure/#basic-configuration","title":"Basic Configuration","text":""},{"location":"plugins/signin-page/frontend/configure/#minimal-configuration","title":"Minimal Configuration","text":"<p>The simplest configuration with a single provider:</p> <pre><code>signinPage:\n  providers:\n    github:\n      enabled: true\n</code></pre> <p>This will display GitHub authentication with default title (\"GitHub\") and message (\"Sign in using GitHub\").</p>"},{"location":"plugins/signin-page/frontend/configure/#development-configuration","title":"Development Configuration","text":"<p>For local development with guest access:</p> <pre><code>signinPage:\n  enableGuestProvider: true\n  providers:\n    github:\n      enabled: true\n      title: GitHub (Dev)\n      message: Development environment - GitHub auth\n</code></pre>"},{"location":"plugins/signin-page/frontend/configure/#production-configuration","title":"Production Configuration","text":"<p>A typical production setup with multiple providers:</p> <pre><code>signinPage:\n  enableGuestProvider: false  # Disable guest access in production\n  providers:\n    microsoft:\n      enabled: true\n      title: Microsoft SSO\n      message: Sign in with your corporate Microsoft account\n\n    github:\n      enabled: true\n      title: GitHub\n      message: Sign in with your GitHub account\n\n    google:\n      enabled: false  # Disabled in production\n</code></pre>"},{"location":"plugins/signin-page/frontend/configure/#configuration-options","title":"Configuration Options","text":""},{"location":"plugins/signin-page/frontend/configure/#guest-provider","title":"Guest Provider","text":"<p>Enable guest access for development environments:</p> <pre><code>signinPage:\n  enableGuestProvider: true\n</code></pre> <ul> <li>Type: <code>boolean</code></li> <li>Default: <code>false</code></li> <li>Recommended: <code>true</code> for development, <code>false</code> for production</li> <li>Note: Guest provider bypasses authentication - never enable in production</li> </ul>"},{"location":"plugins/signin-page/frontend/configure/#provider-configuration","title":"Provider Configuration","text":"<p>Each provider supports three configuration options:</p>"},{"location":"plugins/signin-page/frontend/configure/#enabled","title":"enabled","text":"<p>Controls whether the provider appears on the sign-in page:</p> <pre><code>signinPage:\n  providers:\n    github:\n      enabled: true  # Provider will appear\n    gitlab:\n      enabled: false  # Provider will not appear\n</code></pre> <ul> <li>Type: <code>boolean</code></li> <li>Default: <code>false</code></li> <li>Required: Yes (to show the provider)</li> </ul>"},{"location":"plugins/signin-page/frontend/configure/#title","title":"title","text":"<p>Custom display title for the provider button:</p> <pre><code>signinPage:\n  providers:\n    microsoft:\n      enabled: true\n      title: Corporate SSO\n</code></pre> <ul> <li>Type: <code>string</code></li> <li>Default: Provider-specific default (e.g., \"GitHub\", \"Microsoft\")</li> <li>Optional: Yes</li> </ul>"},{"location":"plugins/signin-page/frontend/configure/#message","title":"message","text":"<p>Custom message shown below the provider button:</p> <pre><code>signinPage:\n  providers:\n    okta:\n      enabled: true\n      title: Okta SSO\n      message: Sign in using your company Okta account\n</code></pre> <ul> <li>Type: <code>string</code></li> <li>Default: Provider-specific default (e.g., \"Sign in using GitHub\")</li> <li>Optional: Yes</li> </ul>"},{"location":"plugins/signin-page/frontend/configure/#supported-providers","title":"Supported Providers","text":""},{"location":"plugins/signin-page/frontend/configure/#github","title":"GitHub","text":"<pre><code>signinPage:\n  providers:\n    github:\n      enabled: true\n      title: GitHub  # Default\n      message: Sign in using GitHub  # Default\n</code></pre>"},{"location":"plugins/signin-page/frontend/configure/#gitlab","title":"GitLab","text":"<pre><code>signinPage:\n  providers:\n    gitlab:\n      enabled: true\n      title: GitLab  # Default\n      message: Sign in using GitLab  # Default\n</code></pre>"},{"location":"plugins/signin-page/frontend/configure/#microsoft","title":"Microsoft","text":"<pre><code>signinPage:\n  providers:\n    microsoft:\n      enabled: true\n      title: Microsoft  # Default\n      message: Sign in using Microsoft  # Default\n</code></pre>"},{"location":"plugins/signin-page/frontend/configure/#google","title":"Google","text":"<pre><code>signinPage:\n  providers:\n    google:\n      enabled: true\n      title: Google  # Default\n      message: Sign in using Google  # Default\n</code></pre>"},{"location":"plugins/signin-page/frontend/configure/#okta","title":"Okta","text":"<pre><code>signinPage:\n  providers:\n    okta:\n      enabled: true\n      title: Okta  # Default\n      message: Sign in using Okta  # Default\n</code></pre>"},{"location":"plugins/signin-page/frontend/configure/#onelogin","title":"OneLogin","text":"<pre><code>signinPage:\n  providers:\n    onelogin:\n      enabled: true\n      title: OneLogin  # Default\n      message: Sign in using OneLogin  # Default\n</code></pre>"},{"location":"plugins/signin-page/frontend/configure/#openshift","title":"OpenShift","text":"<pre><code>signinPage:\n  providers:\n    openshift:\n      enabled: true\n      title: OpenShift  # Default\n      message: Sign in using OpenShift  # Default\n</code></pre>"},{"location":"plugins/signin-page/frontend/configure/#atlassian","title":"Atlassian","text":"<pre><code>signinPage:\n  providers:\n    atlassian:\n      enabled: true\n      title: Atlassian  # Default\n      message: Sign in using Atlassian  # Default\n</code></pre>"},{"location":"plugins/signin-page/frontend/configure/#bitbucket","title":"Bitbucket","text":"<pre><code>signinPage:\n  providers:\n    bitbucket:\n      enabled: true\n      title: Bitbucket  # Default\n      message: Sign in using Bitbucket  # Default\n</code></pre>"},{"location":"plugins/signin-page/frontend/configure/#bitbucket-server","title":"Bitbucket Server","text":"<pre><code>signinPage:\n  providers:\n    bitbucketServer:\n      enabled: true\n      title: Bitbucket Server  # Default\n      message: Sign in using Bitbucket Server  # Default\n</code></pre>"},{"location":"plugins/signin-page/frontend/configure/#vmware-cloud","title":"VMware Cloud","text":"<pre><code>signinPage:\n  providers:\n    vmwareCloud:\n      enabled: true\n      title: VMware Cloud  # Default\n      message: Sign in using VMware Cloud  # Default\n</code></pre>"},{"location":"plugins/signin-page/frontend/configure/#spectro-cloud","title":"Spectro Cloud","text":"<pre><code>signinPage:\n  providers:\n    spectrocloud:\n      enabled: true\n      title: Spectro Cloud  # Default\n      message: Sign in using Spectro Cloud  # Default\n</code></pre>"},{"location":"plugins/signin-page/frontend/configure/#environment-specific-configuration","title":"Environment-Specific Configuration","text":""},{"location":"plugins/signin-page/frontend/configure/#using-configuration-files","title":"Using Configuration Files","text":"<p>Backstage supports environment-specific configuration files. Create separate files for each environment:</p> <p>app-config.yaml (base configuration): <pre><code>signinPage:\n  enableGuestProvider: false\n  providers:\n    github:\n      enabled: true\n</code></pre></p> <p>app-config.local.yaml (local development): <pre><code>signinPage:\n  enableGuestProvider: true\n  providers:\n    github:\n      enabled: true\n      title: GitHub (Local Dev)\n</code></pre></p> <p>app-config.production.yaml (production): <pre><code>signinPage:\n  enableGuestProvider: false\n  providers:\n    microsoft:\n      enabled: true\n      title: Corporate SSO\n      message: Sign in with your corporate Microsoft account\n</code></pre></p>"},{"location":"plugins/signin-page/frontend/configure/#using-environment-variables","title":"Using Environment Variables","text":"<p>You can also use environment variables in configuration:</p> <pre><code>signinPage:\n  enableGuestProvider: ${ENABLE_GUEST_PROVIDER}\n  providers:\n    github:\n      enabled: ${GITHUB_AUTH_ENABLED}\n      title: ${GITHUB_AUTH_TITLE}\n</code></pre>"},{"location":"plugins/signin-page/frontend/configure/#complete-example","title":"Complete Example","text":"<p>Here's a comprehensive example showing all features:</p> <pre><code># app-config.yaml\nsigninPage:\n  # Enable guest access for development (disable in production)\n  enableGuestProvider: true\n\n  providers:\n    # Corporate primary authentication\n    microsoft:\n      enabled: true\n      title: TeraSky SSO\n      message: Sign in with your TeraSky Microsoft account\n\n    # GitHub for open source contributors\n    github:\n      enabled: true\n      title: GitHub\n      message: External contributors - sign in with GitHub\n\n    # GitLab for specific teams\n    gitlab:\n      enabled: true\n      title: GitLab\n      message: Engineering teams - sign in with GitLab\n\n    # Google OAuth\n    google:\n      enabled: false  # Currently disabled\n      title: Google\n      message: Sign in using Google\n\n    # Enterprise SSO providers\n    okta:\n      enabled: true\n      title: Okta SSO\n      message: Enterprise users - sign in with Okta\n\n    # Other providers (disabled by default)\n    onelogin:\n      enabled: false\n\n    openshift:\n      enabled: false\n\n    atlassian:\n      enabled: false\n\n    bitbucket:\n      enabled: false\n\n    bitbucketServer:\n      enabled: false\n\n    vmwareCloud:\n      enabled: false\n\n    spectrocloud:\n      enabled: false\n</code></pre>"},{"location":"plugins/signin-page/frontend/configure/#best-practices","title":"Best Practices","text":""},{"location":"plugins/signin-page/frontend/configure/#1-security","title":"1. Security","text":"<ul> <li>Never enable guest provider in production</li> <li>Use environment-specific configuration to ensure proper settings per environment</li> <li>Limit enabled providers to only those your organization actually uses</li> <li>Review provider access regularly</li> </ul>"},{"location":"plugins/signin-page/frontend/configure/#2-user-experience","title":"2. User Experience","text":"<ul> <li>Use clear, descriptive titles that users will recognize</li> <li>Provide helpful messages that guide users to the right provider</li> <li>Order providers by usage - put most common providers first in config</li> <li>Test authentication flows before deploying to production</li> </ul>"},{"location":"plugins/signin-page/frontend/configure/#3-configuration-management","title":"3. Configuration Management","text":"<ul> <li>Use separate config files for different environments</li> <li>Document custom settings in comments</li> <li>Keep sensitive data in environment variables, not in config files</li> <li>Version control your configuration (excluding secrets)</li> </ul>"},{"location":"plugins/signin-page/frontend/configure/#4-provider-selection","title":"4. Provider Selection","text":"<ul> <li>Enable only necessary providers to avoid overwhelming users</li> <li>Match your organization's auth strategy</li> <li>Consider user personas when choosing providers</li> <li>Plan for future growth but don't over-configure initially</li> </ul>"},{"location":"plugins/signin-page/frontend/configure/#troubleshooting-configuration","title":"Troubleshooting Configuration","text":""},{"location":"plugins/signin-page/frontend/configure/#configuration-not-taking-effect","title":"Configuration Not Taking Effect","text":"<p>If your configuration changes don't appear:</p> <ol> <li>Restart the Backstage application</li> <li>Clear browser cache and cookies</li> <li>Check for YAML syntax errors</li> <li>Verify correct indentation (YAML is whitespace-sensitive)</li> <li>Look for override configurations in environment-specific files</li> </ol>"},{"location":"plugins/signin-page/frontend/configure/#provider-appears-but-doesnt-work","title":"Provider Appears But Doesn't Work","text":"<p>If a provider shows but authentication fails:</p> <ol> <li>Verify the backend auth provider is configured</li> <li>Check OAuth client credentials</li> <li>Review backend logs for auth errors</li> <li>Ensure callback URLs are correct</li> <li>Verify API scopes and permissions</li> </ol>"},{"location":"plugins/signin-page/frontend/configure/#guest-provider-not-working","title":"Guest Provider Not Working","text":"<p>If guest provider doesn't appear even when enabled:</p> <ol> <li>Check spelling: <code>enableGuestProvider</code> (camelCase)</li> <li>Verify boolean value (not string \"true\")</li> <li>Ensure Backstage is in development mode</li> <li>Check browser console for errors</li> </ol>"},{"location":"plugins/signin-page/frontend/configure/#additional-resources","title":"Additional Resources","text":"<ul> <li>Backstage Authentication Docs</li> <li>Configuration Schema</li> <li>OAuth Provider Setup</li> </ul>"},{"location":"plugins/signin-page/frontend/install/","title":"Installing the Global Sign-In Page Module","text":"<p>This guide will help you install and set up the Global Sign-In Page module in your Backstage instance using the new frontend system.</p>"},{"location":"plugins/signin-page/frontend/install/#prerequisites","title":"Prerequisites","text":"<p>Before installing the module, ensure you have:</p> <ol> <li>A working Backstage instance (version 1.46.1 or later)</li> <li>The new frontend system enabled</li> <li>At least one authentication provider configured in your backend</li> <li>Access to modify your Backstage frontend configuration</li> </ol>"},{"location":"plugins/signin-page/frontend/install/#installation-steps","title":"Installation Steps","text":""},{"location":"plugins/signin-page/frontend/install/#1-add-the-package","title":"1. Add the Package","text":"<p>Install the module package using your package manager:</p> <pre><code>yarn --cwd packages/app add @terasky/backstage-plugin-app-module-global-signin-page\n</code></pre>"},{"location":"plugins/signin-page/frontend/install/#2-configure-authentication-providers","title":"2. Configure Authentication Providers","text":"<p>Add your authentication provider configuration to <code>app-config.yaml</code>. Here's a basic example:</p> <pre><code>signinPage:\n  enableGuestProvider: false  # Set to true for development\n  providers:\n    github:\n      enabled: true\n      title: GitHub\n      message: Sign in using your GitHub account\n\n    google:\n      enabled: true\n      title: Google\n      message: Sign in using your Google account\n</code></pre> <p>Important: Remember to also configure the backend authentication providers. This module only configures the frontend sign-in page. For backend configuration, refer to the Backstage authentication documentation.</p>"},{"location":"plugins/signin-page/frontend/install/#4-configure-backend-authentication","title":"4. Configure Backend Authentication","text":"<p>Ensure your backend is configured with the corresponding authentication providers. For example, for GitHub:</p> <pre><code>auth:\n  environment: development\n  providers:\n    github:\n      development:\n        clientId: ${GITHUB_CLIENT_ID}\n        clientSecret: ${GITHUB_CLIENT_SECRET}\n</code></pre> <p>Refer to Backstage's authentication documentation for detailed backend setup instructions for each provider.</p>"},{"location":"plugins/signin-page/frontend/install/#troubleshooting","title":"Troubleshooting","text":"<p>Common issues and solutions:</p>"},{"location":"plugins/signin-page/frontend/install/#module-not-loading","title":"Module Not Loading","text":"<ul> <li>Issue: The custom sign-in page doesn't appear</li> <li>Solution: </li> <li>Verify the module is imported in your app configuration</li> <li>Check that you're using the new frontend system</li> <li>Ensure the module is in your package.json dependencies</li> </ul>"},{"location":"plugins/signin-page/frontend/install/#no-providers-showing","title":"No Providers Showing","text":"<ul> <li>Issue: The sign-in page loads but shows no authentication options</li> <li>Solution:</li> <li>Check your <code>app-config.yaml</code> for the <code>signinPage</code> configuration</li> <li>Verify at least one provider is set to <code>enabled: true</code></li> <li>Check browser console for configuration errors</li> </ul>"},{"location":"plugins/signin-page/frontend/install/#authentication-fails","title":"Authentication Fails","text":"<ul> <li>Issue: Provider buttons appear but authentication doesn't work</li> <li>Solution:</li> <li>Verify backend authentication is properly configured</li> <li>Check that provider credentials are set correctly</li> <li>Review backend logs for authentication errors</li> <li>Ensure callback URLs are configured in your OAuth apps</li> </ul>"},{"location":"plugins/signin-page/frontend/install/#typescript-errors","title":"TypeScript Errors","text":"<ul> <li>Issue: TypeScript compilation errors after adding the module</li> <li>Solution:</li> <li>Ensure you're using compatible Backstage versions</li> <li>Run <code>yarn install</code> to update dependencies</li> <li>Check for version conflicts in package.json</li> </ul>"},{"location":"plugins/signin-page/frontend/install/#configuration-not-applied","title":"Configuration Not Applied","text":"<ul> <li>Issue: Changes to <code>app-config.yaml</code> don't reflect in the sign-in page</li> <li>Solution:</li> <li>Restart your Backstage application</li> <li>Clear browser cache</li> <li>Verify YAML syntax is correct</li> <li>Check for configuration override files</li> </ul>"},{"location":"plugins/signin-page/frontend/install/#next-steps","title":"Next Steps","text":"<p>Once the module is installed, proceed to the Configuration Guide to:</p> <ul> <li>Configure specific authentication providers</li> <li>Customize titles and messages</li> <li>Set up environment-specific configuration</li> <li>Enable guest access for development</li> </ul>"},{"location":"plugins/signin-page/frontend/install/#additional-resources","title":"Additional Resources","text":"<ul> <li>Backstage Authentication Documentation</li> <li>New Frontend System Guide</li> <li>OAuth Provider Setup</li> </ul>"},{"location":"plugins/spectrocloud/overview/","title":"SpectroCloud Plugins","text":"<p>The SpectroCloud plugins for Backstage provide comprehensive integration with SpectroCloud Palette, enabling teams to visualize, manage, and interact with their SpectroCloud resources directly within Backstage. The suite includes catalog ingestion, frontend visualization, and AI-powered automation through MCP actions.</p>"},{"location":"plugins/spectrocloud/overview/#plugin-suite-components","title":"Plugin Suite Components","text":"<p>The SpectroCloud plugin suite consists of several components for resource management and authentication:</p> <ul> <li>Frontend Plugin (<code>@terasky/backstage-plugin-spectrocloud</code>): </li> <li>Entity cards for clusters, cluster profiles, cluster groups, and virtual clusters</li> <li>Cluster information display (K8s version, cloud type, state)</li> <li>Virtual cluster resource quota and usage metrics</li> <li>Profile version tracking and upgrade indicators</li> <li>Kubeconfig download functionality (clusters and virtual clusters)</li> <li>Pack/layer visualization with YAML viewer</li> <li>Cluster group settings viewer with parsed Helm values</li> <li>Cluster deployment wizard for physical and virtual clusters</li> <li>Virtual cluster viewer page with filtering</li> <li> <p>Permission-based access control</p> </li> <li> <p>Backend Plugin (<code>@terasky/backstage-plugin-spectrocloud-backend</code>):</p> </li> <li>HTTP API for frontend communication</li> <li>MCP actions for AI agents</li> <li>Permission enforcement</li> <li> <p>Secure SpectroCloud API integration</p> </li> <li> <p>Ingestor Plugin (<code>@terasky/backstage-plugin-spectrocloud-ingestor</code>):</p> </li> <li>Catalog entity provider</li> <li>Project, cluster profile, cluster, cluster group, and virtual cluster ingestion</li> <li>Relationship mapping between entities (dependencies, profiles, host clusters)</li> <li>Scheduled refresh of resources</li> <li> <p>Configurable resource type filtering</p> </li> <li> <p>Cluster Provider Plugin (<code>@terasky/backstage-plugin-spectrocloud-cluster-provider</code>):</p> </li> <li>Kubernetes cluster discovery from Palette</li> <li>Automatic RBAC setup with service accounts</li> <li> <p>Integration with Backstage Kubernetes plugin</p> </li> <li> <p>Cluster Provider Plugin (<code>@terasky/backstage-plugin-spectrocloud-cluster-provider</code>):</p> </li> <li>Kubernetes cluster discovery from Palette</li> <li>Service account or OIDC authentication support</li> <li>Automatic RBAC setup (service account mode)</li> <li> <p>Integration with Backstage Kubernetes plugin</p> </li> <li> <p>Authentication Backend Module (<code>@terasky/backstage-plugin-spectrocloud-auth-backend</code>):</p> </li> <li>SpectroCloud OIDC authentication integration</li> <li>OAuth2 authorization code flow with token exchange</li> <li>RS256 ID token for Kubernetes authentication</li> <li> <p>User profile extraction and sign-in resolution</p> </li> <li> <p>Authentication Frontend Plugin (<code>@terasky/backstage-plugin-spectrocloud-auth</code>):</p> </li> <li>OAuth2 client for SpectroCloud authentication</li> <li>Sign-in page integration</li> <li>Session management and user identity APIs</li> <li> <p>Auto-discovered by Backstage</p> </li> <li> <p>Kubernetes Auth Module (<code>@terasky/backstage-plugin-spectrocloud-kubernetes-auth-module</code>):</p> </li> <li>Extends Backstage Kubernetes plugin for OIDC</li> <li>User-level authentication to clusters</li> <li>Uses SpectroCloud identity tokens</li> <li> <p>Provides audit trails with actual user names</p> </li> <li> <p>Common Library (<code>@terasky/backstage-plugin-spectrocloud-common</code>):</p> </li> <li>Shared types and interfaces</li> <li>Permission definitions</li> <li>Common utilities</li> </ul>"},{"location":"plugins/spectrocloud/overview/#key-features","title":"Key Features","text":""},{"location":"plugins/spectrocloud/overview/#catalog-integration","title":"Catalog Integration","text":"<ul> <li>Automatic Resource Ingestion:</li> <li>Projects as System entities</li> <li>Cluster Profiles as Resource entities</li> <li>Clusters as Resource entities</li> <li>Cluster Groups as Resource entities</li> <li>Virtual Clusters as Resource entities</li> <li>Automatic relationship mapping and dependency tracking</li> </ul>"},{"location":"plugins/spectrocloud/overview/#frontend-visualization","title":"Frontend Visualization","text":"<ul> <li>Cluster Cards:</li> <li>Kubernetes version display</li> <li>Attached profiles with versions</li> <li>Upgrade availability indicators</li> <li>Cloud type and scope information</li> <li> <p>Kubeconfig download</p> </li> <li> <p>Profile Cards:</p> </li> <li>Version listing with cluster counts</li> <li>Expandable cluster lists per version</li> <li> <p>Profile type and scope display</p> </li> <li> <p>Cluster Group Cards:</p> </li> <li>Member clusters list with clickable links</li> <li>Add-on profiles with catalog links</li> <li> <p>Scope and endpoint type information</p> </li> <li> <p>Virtual Cluster Cards:</p> </li> <li>CPU and memory quotas (requests, limits, usage)</li> <li>Host cluster and cluster group references</li> <li>Attached profiles with links</li> <li>Project links to system entities</li> <li>Kubeconfig download support</li> <li> <p>Resource usage visualization with progress bars</p> </li> <li> <p>Virtual Cluster Viewer Page:</p> </li> <li>Card and table views</li> <li>Filter by project and status</li> <li>Update availability detection</li> <li>Clickable references to related resources</li> </ul>"},{"location":"plugins/spectrocloud/overview/#packlayer-details","title":"Pack/Layer Details","text":"<ul> <li>YAML Viewer:</li> <li>Syntax-highlighted configuration display</li> <li>Values and manifest viewing</li> <li>Tab-based navigation for manifest packs</li> </ul>"},{"location":"plugins/spectrocloud/overview/#access-control","title":"Access Control","text":"<ul> <li>Permission Management:</li> <li>Fine-grained access control</li> <li>Kubeconfig download permissions</li> <li>Pack values/manifests viewing permissions</li> <li>Profile and cluster info permissions</li> </ul>"},{"location":"plugins/spectrocloud/overview/#ai-integration","title":"AI Integration","text":"<ul> <li>MCP Actions:</li> <li>Cluster health monitoring</li> <li>Kubeconfig generation</li> <li>Profile pack details</li> <li>Cluster-to-profile reverse lookup</li> </ul>"},{"location":"plugins/spectrocloud/overview/#available-permissions","title":"Available Permissions","text":"<p>The plugin suite provides granular permission controls:</p> <ul> <li><code>spectrocloud.cluster.view-info</code>: View basic cluster information</li> <li><code>spectrocloud.cluster.download-kubeconfig</code>: Download cluster kubeconfig</li> <li><code>spectrocloud.cluster.view-pack-values</code>: View pack configuration values</li> <li><code>spectrocloud.cluster.view-pack-manifests</code>: View pack manifest content</li> <li><code>spectrocloud.profile.view-info</code>: View profile information</li> <li><code>spectrocloud.profile.view-clusters</code>: View clusters using a profile</li> </ul>"},{"location":"plugins/spectrocloud/overview/#configuration","title":"Configuration","text":"<p>All SpectroCloud plugins share a common configuration structure:</p> <pre><code>spectrocloud:\n  annotationPrefix: terasky.backstage.io  # Optional, default\n  enablePermissions: true  # Enable permission checks\n  environments:\n    - name: production\n      url: https://api.spectrocloud.com\n      tenant: my-tenant\n      apiToken: ${SPECTROCLOUD_API_TOKEN}\n      catalogProvider:\n        enabled: true\n        refreshIntervalSeconds: 600\n      clusterProvider:\n        includeProjects: [production]\n        excludeProjects: [sandbox]\n</code></pre>"},{"location":"plugins/spectrocloud/overview/#getting-started","title":"Getting Started","text":""},{"location":"plugins/spectrocloud/overview/#resource-management-plugins","title":"Resource Management Plugins","text":"<p>To get started with SpectroCloud resource management:</p> <ol> <li>Install the ingestor plugin for catalog integration</li> <li>Install the backend plugin for API and MCP actions</li> <li>Install the frontend plugin for visualization</li> <li>Optionally install the cluster provider for Kubernetes plugin integration</li> <li>Configure permissions as needed</li> </ol>"},{"location":"plugins/spectrocloud/overview/#authentication-plugins","title":"Authentication Plugins","text":"<p>To enable SpectroCloud authentication:</p> <ol> <li>Install the backend auth module for OIDC authentication</li> <li>Install the frontend auth plugin (auto-discovered)</li> <li>Optional: Install Kubernetes auth module for user-level cluster access</li> <li>Configure sign-in resolvers and authentication providers</li> </ol>"},{"location":"plugins/spectrocloud/overview/#documentation","title":"Documentation","text":""},{"location":"plugins/spectrocloud/overview/#resource-management","title":"Resource Management","text":"<ul> <li>Frontend Plugin</li> <li>Backend Plugin</li> <li>Ingestor Plugin</li> <li>Cluster Provider</li> </ul>"},{"location":"plugins/spectrocloud/overview/#authentication","title":"Authentication","text":"<ul> <li>Authentication Overview</li> <li>Backend Auth Module</li> <li>Frontend Auth Plugin</li> <li>Kubernetes Auth Module</li> </ul>"},{"location":"plugins/spectrocloud/auth/overview/","title":"SpectroCloud Authentication Plugin","text":"<p>The SpectroCloud Authentication plugin integrates SpectroCloud OIDC authentication into your Backstage instance, enabling seamless single sign-on and user-level Kubernetes cluster access.</p>"},{"location":"plugins/spectrocloud/auth/overview/#plugin-components","title":"Plugin Components","text":""},{"location":"plugins/spectrocloud/auth/overview/#backend-plugin-module-required","title":"Backend Plugin Module (Required)","text":"<p>The backend plugin module provides: - SpectroCloud OIDC authentication integration - Proper token exchange with authorization code flow - ID token retrieval for Kubernetes authentication - User profile information from SpectroCloud - Sign-in resolver support</p> <p>Learn more about the backend module</p>"},{"location":"plugins/spectrocloud/auth/overview/#frontend-plugin","title":"Frontend Plugin","text":"<p>The frontend plugin provides: - OAuth2 client for SpectroCloud authentication - Sign-in page integration - User profile and identity APIs - Session management</p> <p>Learn more about the frontend plugin</p>"},{"location":"plugins/spectrocloud/auth/overview/#kubernetes-authentication-module-optional","title":"Kubernetes Authentication Module (Optional)","text":"<p>The Kubernetes authentication module enables: - User-level OIDC authentication for Kubernetes clusters - SpectroCloud token provider for Kubernetes API access - Seamless integration with SpectroCloud-managed clusters</p> <p>Learn more about the Kubernetes auth module</p>"},{"location":"plugins/spectrocloud/auth/overview/#features","title":"Features","text":""},{"location":"plugins/spectrocloud/auth/overview/#user-authentication","title":"User Authentication","text":"<ul> <li>OIDC-compliant authentication flow</li> <li>Secure token exchange with client secret</li> <li>Long-lived ID tokens from SpectroCloud</li> <li>User profile extraction from JWT claims</li> </ul>"},{"location":"plugins/spectrocloud/auth/overview/#kubernetes-integration","title":"Kubernetes Integration","text":"<ul> <li>User-level authentication to Kubernetes clusters</li> <li>No service account creation needed</li> <li>Audit trail based on user identity</li> <li>Compatible with SpectroCloud cluster provider</li> </ul>"},{"location":"plugins/spectrocloud/auth/overview/#configuration-driven","title":"Configuration-Driven","text":"<ul> <li>Simple YAML configuration</li> <li>Environment variable support for secrets</li> <li>Flexible sign-in resolver options</li> <li>Multiple authentication strategies</li> </ul>"},{"location":"plugins/spectrocloud/auth/overview/#documentation-structure","title":"Documentation Structure","text":""},{"location":"plugins/spectrocloud/auth/overview/#backend-module","title":"Backend Module","text":"<ul> <li>About</li> <li>Installation</li> <li>Configuration</li> </ul>"},{"location":"plugins/spectrocloud/auth/overview/#frontend-plugin_1","title":"Frontend Plugin","text":"<ul> <li>About</li> <li>Installation</li> <li>Configuration</li> </ul>"},{"location":"plugins/spectrocloud/auth/overview/#kubernetes-module","title":"Kubernetes Module","text":"<ul> <li>About</li> <li>Installation</li> <li>Configuration</li> </ul>"},{"location":"plugins/spectrocloud/auth/overview/#getting-started","title":"Getting Started","text":"<p>To get started with SpectroCloud authentication:</p> <ol> <li>Install the backend module (required)</li> <li>Handles OIDC authentication</li> <li>Performs token exchange</li> <li>Extracts user identity</li> <li>Install the frontend plugin (auto-discovered)</li> <li>Provides OAuth2 client</li> <li>Enables sign-in functionality</li> <li>Configure authentication</li> <li>Set SpectroCloud URLs and credentials</li> <li>Configure sign-in resolvers</li> <li>Optional: Install Kubernetes module</li> <li>Enable user-level cluster access</li> <li>Configure cluster provider for OIDC</li> </ol> <p>For detailed installation and configuration instructions, refer to the component documentation linked above.</p>"},{"location":"plugins/spectrocloud/auth/overview/#use-cases","title":"Use Cases","text":""},{"location":"plugins/spectrocloud/auth/overview/#single-sign-on","title":"Single Sign-On","text":"<p>Enable users to authenticate to Backstage using their existing SpectroCloud credentials, providing a seamless experience across platforms.</p>"},{"location":"plugins/spectrocloud/auth/overview/#kubernetes-access","title":"Kubernetes Access","text":"<p>Allow users to access Kubernetes clusters using their SpectroCloud identity, enabling audit trails and user-level access control without managing service accounts.</p>"},{"location":"plugins/spectrocloud/auth/overview/#multi-cluster-environments","title":"Multi-Cluster Environments","text":"<p>Integrate with SpectroCloud cluster provider to automatically discover and authenticate to all managed clusters using user credentials.</p>"},{"location":"plugins/spectrocloud/auth/backend/about/","title":"SpectroCloud Authentication Backend Module","text":""},{"location":"plugins/spectrocloud/auth/backend/about/#overview","title":"Overview","text":"<p>The SpectroCloud authentication backend module provides OIDC (OpenID Connect) authentication integration with SpectroCloud Palette for Backstage. It implements the OAuth2 authorization code flow with dual token management: RS256 ID tokens for Backstage/Kubernetes authentication and HS256 session tokens for SpectroCloud API access. The module shares token state with the SpectroCloud backend plugin for user-scoped API operations.</p>"},{"location":"plugins/spectrocloud/auth/backend/about/#features","title":"Features","text":""},{"location":"plugins/spectrocloud/auth/backend/about/#oidc-authentication","title":"OIDC Authentication","text":"<ul> <li>Standard OAuth2 authorization code flow</li> <li>Token exchange with client secret</li> <li>Nonce support for OIDC security</li> <li>PKCE-ready implementation</li> </ul>"},{"location":"plugins/spectrocloud/auth/backend/about/#dual-token-management","title":"Dual Token Management","text":"<p>The module handles two distinct token types from SpectroCloud:</p> <p>RS256 ID Token: - Used for Backstage user identity - Used for Kubernetes OIDC authentication - Standard OIDC ID token - Returned in token exchange response</p> <p>HS256 Session Token: - Used for SpectroCloud Palette API calls - SpectroCloud-specific session token - May be provided as authorization code, refresh_token, or in cookies</p>"},{"location":"plugins/spectrocloud/auth/backend/about/#token-cache","title":"Token Cache","text":"<p>The module maintains a shared global in-memory token cache:</p> <ul> <li>Storage: Global <code>Map</code> keyed by user email</li> <li>Shared with: SpectroCloud backend plugin</li> <li>Values: <code>{ token: string, expiresAt: number }</code></li> <li>Purpose: Enable user-scoped SpectroCloud API access</li> <li>Expiration: Automatic removal of expired tokens</li> <li>Scope: Process-local (not distributed)</li> </ul>"},{"location":"plugins/spectrocloud/auth/backend/about/#cookie-management","title":"Cookie Management","text":"<p>After successful authentication: - Sets <code>spectrocloud-api-token</code> cookie (1 hour TTL) - Uses lax same-site policy - Path: <code>/</code> for site-wide access - Enables frontend token resolution</p>"},{"location":"plugins/spectrocloud/auth/backend/about/#user-profile","title":"User Profile","text":"<ul> <li>JWT-based user profile extraction from ID token</li> <li>Email, given name, family name from claims</li> <li>Sub (subject) identifier for user resolution</li> <li>Compatible with standard Backstage profile</li> </ul>"},{"location":"plugins/spectrocloud/auth/backend/about/#sign-in-resolvers","title":"Sign-In Resolvers","text":"<p>Compatible with all standard Backstage sign-in resolvers: - Email matching user entity profile email - Email local part matching user entity name - Custom resolvers via configuration</p>"},{"location":"plugins/spectrocloud/auth/backend/about/#technical-architecture","title":"Technical Architecture","text":""},{"location":"plugins/spectrocloud/auth/backend/about/#authentication-flow","title":"Authentication Flow","text":"<ol> <li>User initiates sign-in with SpectroCloud</li> <li>Backend redirects to SpectroCloud authorization endpoint with:</li> <li><code>response_type=code</code></li> <li><code>scope=openid profile email</code></li> <li><code>state</code> parameter (CSRF protection)</li> <li><code>nonce</code> parameter (replay protection)</li> <li>User authenticates with SpectroCloud (may involve external IdP)</li> <li>SpectroCloud redirects back with authorization code</li> <li>Backend exchanges code for tokens:</li> <li>Token endpoint derived from auth URL (replace <code>/auth</code> with <code>/token</code>)</li> <li>Sends client ID, client secret, and authorization code</li> <li>Token response contains:</li> <li><code>id_token</code>: RS256-signed OIDC ID token</li> <li><code>refresh_token</code> or code itself: HS256 session token</li> <li>HS256 token detection:</li> <li>Checks if authorization code is a JWT (HS256)</li> <li>Falls back to <code>refresh_token</code> field</li> <li>May be in cookies/headers</li> <li>HS256 token storage:</li> <li>Decodes token to extract email and expiration</li> <li>Stores in global cache by user email</li> <li>Makes available to backend plugin</li> <li>RS256 ID token processing:</li> <li>Decodes to extract user profile (email, name, sub)</li> <li>Passes to sign-in resolver</li> <li>Sign-in resolver matches user to Backstage entity</li> <li>Session created with Backstage identity</li> <li>Cookie set with HS256 token for frontend</li> </ol>"},{"location":"plugins/spectrocloud/auth/backend/about/#token-types","title":"Token Types","text":"Token Type Algorithm Source Use Storage ID Token RS256 Token response <code>id_token</code> Backstage identity, Kubernetes OIDC Backstage session Session Token HS256 Code, <code>refresh_token</code>, or cookies SpectroCloud API Global cache by email + cookie"},{"location":"plugins/spectrocloud/auth/backend/about/#token-endpoint-derivation","title":"Token Endpoint Derivation","text":"<p>The module automatically derives the token endpoint from the authorization URL:</p> <pre><code>const tokenUrl = authorizationUrl.replace('/auth', '/token');\n</code></pre> <p>Examples: - Auth: <code>https://console.spectrocloud.com/v1/oidc/tenant/{id}/auth</code> - Token: <code>https://console.spectrocloud.com/v1/oidc/tenant/{id}/token</code></p>"},{"location":"plugins/spectrocloud/auth/backend/about/#integration-points","title":"Integration Points","text":"<ul> <li>Backstage Auth Backend Plugin: Registers SpectroCloud as OAuth2 provider</li> <li>Auth Providers Extension Point: Uses <code>createOAuthAuthenticator</code></li> <li>Sign-In Resolvers: Standard Backstage resolver framework</li> <li>SpectroCloud Backend Plugin: Shares token cache for user-scoped API access</li> <li>SpectroCloud Frontend Plugin: Receives tokens via cookies and headers</li> </ul>"},{"location":"plugins/spectrocloud/auth/backend/about/#integration-with-backend-plugin","title":"Integration with Backend Plugin","text":"<p>The auth backend and backend plugin share state:</p> <ol> <li>Token Cache: Global in-memory cache accessible by both plugins</li> <li>Token Storage: Auth backend stores HS256 tokens after OIDC flow</li> <li>Token Retrieval: Backend plugin reads tokens for API calls</li> <li>Re-Auth Flow: Backend signals when token is missing</li> </ol> <p>Token Flow: <pre><code>User \u2192 Auth Backend (OIDC) \u2192 Token Cache (store)\nFrontend \u2192 Backend Plugin \u2192 Token Cache (read) \u2192 SpectroCloud API\n</code></pre></p>"},{"location":"plugins/spectrocloud/auth/backend/about/#security-features","title":"Security Features","text":""},{"location":"plugins/spectrocloud/auth/backend/about/#oidc-compliance","title":"OIDC Compliance","text":"<ul> <li>Authorization code flow with PKCE-ready implementation</li> <li>Nonce parameter for replay attack prevention</li> <li>State parameter for CSRF protection</li> <li>Secure token exchange with client secret</li> <li>Proper scope handling</li> </ul>"},{"location":"plugins/spectrocloud/auth/backend/about/#token-security","title":"Token Security","text":"<ul> <li>RS256 signature verification (delegated to Backstage)</li> <li>HS256 token stored securely in server-side cache</li> <li>JWT claim validation (email, sub, exp)</li> <li>Expiration checking with automatic removal</li> <li>No tokens in URLs or logs</li> <li>Secure session storage</li> </ul>"},{"location":"plugins/spectrocloud/auth/backend/about/#cookie-security","title":"Cookie Security","text":"<ul> <li>HTTP-only cookie (frontend cannot access via JavaScript)</li> <li>Lax same-site policy</li> <li>1 hour expiration (shorter than session)</li> <li>Path restricted to root</li> </ul>"},{"location":"plugins/spectrocloud/auth/backend/about/#limitations-and-considerations","title":"Limitations and Considerations","text":"<ol> <li>In-Memory Cache: Token cache is not persistent</li> <li>Tokens lost on backend restart</li> <li>Not shared across backend instances</li> <li> <p>Requires sticky sessions in clustered deployments</p> </li> <li> <p>Token Refresh: Limited refresh support</p> </li> <li>SpectroCloud does not provide standard OAuth2 refresh grant</li> <li>Uses same HS256 token for \"refresh\"</li> <li> <p>Users must re-authenticate when token expires</p> </li> <li> <p>JWT Decoding: Unverified decoding for HS256 tokens</p> </li> <li>Used only for expiration and email extraction</li> <li>Not used for security decisions</li> <li> <p>Verification done by SpectroCloud</p> </li> <li> <p>Token URL Derivation: Assumes consistent endpoint naming</p> </li> <li>Token endpoint derived by replacing <code>/auth</code> with <code>/token</code></li> <li>May fail if SpectroCloud changes URL structure</li> </ol>"},{"location":"plugins/spectrocloud/auth/backend/about/#use-cases","title":"Use Cases","text":""},{"location":"plugins/spectrocloud/auth/backend/about/#enterprise-sso","title":"Enterprise SSO","text":"<p>Integrate with SpectroCloud as your organization's identity provider for Backstage authentication. SpectroCloud can federate with external IdPs (Google, Microsoft, Okta, etc.), providing a unified authentication experience.</p>"},{"location":"plugins/spectrocloud/auth/backend/about/#kubernetes-authentication","title":"Kubernetes Authentication","text":"<p>Use SpectroCloud RS256 ID tokens for user-level authentication to Kubernetes clusters managed by SpectroCloud. The ID token can be used directly in kubeconfig for OIDC authentication.</p>"},{"location":"plugins/spectrocloud/auth/backend/about/#user-scoped-api-access","title":"User-Scoped API Access","text":"<p>Enable user-specific SpectroCloud API operations in Backstage: - View only accessible projects and clusters - Download kubeconfig with user identity - Create clusters under user's permissions - Audit trail with user attribution</p>"},{"location":"plugins/spectrocloud/auth/backend/about/#audit-and-compliance","title":"Audit and Compliance","text":"<p>Track user actions in both Backstage and Kubernetes: - SpectroCloud operations attributed to authenticated user - Kubernetes API calls use user's OIDC identity - Complete audit trail across platforms</p>"},{"location":"plugins/spectrocloud/auth/backend/about/#multi-tenant-support","title":"Multi-Tenant Support","text":"<p>Support multiple SpectroCloud tenants with different client configurations per environment (development, staging, production).</p>"},{"location":"plugins/spectrocloud/auth/backend/about/#components-overview","title":"Components Overview","text":""},{"location":"plugins/spectrocloud/auth/backend/about/#authenticator-srcauthenticatorts","title":"Authenticator (<code>src/authenticator.ts</code>)","text":"<p>Custom OAuth2 authenticator implementing: - <code>start()</code>: Initiates OAuth2 flow with nonce - <code>authenticate()</code>: Exchanges code for tokens, detects HS256 token - <code>refresh()</code>: Returns same token (limited refresh support)</p>"},{"location":"plugins/spectrocloud/auth/backend/about/#module-srcmodulets","title":"Module (<code>src/module.ts</code>)","text":"<p>Backend module registration: - Registers <code>spectrocloud</code> OAuth2 provider - Sets up auth provider extension - Configures callback handler - Implements cookie setting logic</p>"},{"location":"plugins/spectrocloud/auth/backend/about/#token-cache-srctokencachets","title":"Token Cache (<code>src/tokenCache.ts</code>)","text":"<p>Shared global cache: - <code>storeSessionToken(email, token, expiresAt)</code>: Store HS256 token - <code>getSessionTokenByEmail(email)</code>: Retrieve valid token - Automatic expiration handling</p>"},{"location":"plugins/spectrocloud/auth/backend/about/#frontend-auth-teraskybackstage-plugin-spectrocloud-auth","title":"Frontend Auth (<code>@terasky/backstage-plugin-spectrocloud-auth</code>)","text":"<p>Frontend companion plugin: - Wraps OAuth2 API for <code>spectrocloud</code> provider - Provides <code>getSpectroCloudApiToken()</code> helper - Resolves HS256 token from cookies or OAuth2 tokens - Integrates with <code>spectroCloudApiRef</code></p>"},{"location":"plugins/spectrocloud/auth/backend/about/#dependencies","title":"Dependencies","text":"<ul> <li><code>@backstage/plugin-auth-backend-module-oauth2-provider</code>: OAuth2 authenticator framework</li> <li><code>@backstage/plugin-auth-node</code>: Auth utilities</li> <li><code>@terasky/backstage-plugin-spectrocloud-backend</code>: Shares token cache</li> <li>JWT decoding library for token inspection</li> </ul>"},{"location":"plugins/spectrocloud/auth/backend/configure/","title":"Configuring the SpectroCloud Authentication Backend Module","text":"<p>The SpectroCloud authentication backend module offers extensive configuration options for OIDC authentication.</p>"},{"location":"plugins/spectrocloud/auth/backend/configure/#configuration-structure","title":"Configuration Structure","text":"<pre><code>auth:\n  environment: development  # or production\n  providers:\n    spectrocloud:\n      development:\n        clientId: ${SPECTROCLOUD_CLIENT_ID}\n        clientSecret: ${SPECTROCLOUD_CLIENT_SECRET}\n        authorizationUrl: https://console.spectrocloud.com/v1/oidc/tenant/{tenant-id}/auth\n        callbackUrl: http://localhost:7007/api/auth/spectrocloud/handler/frame\n        scope: openid profile email\n        signIn:\n          resolvers:\n            - resolver: emailMatchingUserEntityProfileEmail\n            - resolver: emailLocalPartMatchingUserEntityName\n      production:\n        clientId: ${SPECTROCLOUD_CLIENT_ID}\n        clientSecret: ${SPECTROCLOUD_CLIENT_SECRET}\n        authorizationUrl: https://console.spectrocloud.com/v1/oidc/tenant/{tenant-id}/auth\n        callbackUrl: https://backstage.example.com/api/auth/spectrocloud/handler/frame\n        scope: openid profile email\n        signIn:\n          resolvers:\n            - resolver: emailMatchingUserEntityProfileEmail\n</code></pre>"},{"location":"plugins/spectrocloud/auth/backend/configure/#configuration-parameters","title":"Configuration Parameters","text":""},{"location":"plugins/spectrocloud/auth/backend/configure/#required-parameters","title":"Required Parameters","text":"Parameter Type Description <code>clientId</code> string OAuth2 client ID from SpectroCloud <code>clientSecret</code> string OAuth2 client secret from SpectroCloud <code>authorizationUrl</code> string SpectroCloud OIDC authorization endpoint <code>callbackUrl</code> string Backstage callback URL for OAuth2 flow"},{"location":"plugins/spectrocloud/auth/backend/configure/#optional-parameters","title":"Optional Parameters","text":"Parameter Type Default Description <code>scope</code> string <code>openid profile email</code> OAuth2 scopes to request"},{"location":"plugins/spectrocloud/auth/backend/configure/#sign-in-resolvers","title":"Sign-In Resolvers","text":"<p>Sign-in resolvers map authenticated SpectroCloud users to Backstage user entities.</p>"},{"location":"plugins/spectrocloud/auth/backend/configure/#built-in-resolvers","title":"Built-In Resolvers","text":""},{"location":"plugins/spectrocloud/auth/backend/configure/#emailmatchinguserentityprofileemail","title":"emailMatchingUserEntityProfileEmail","text":"<p>Matches users by email address: <pre><code>signIn:\n  resolvers:\n    - resolver: emailMatchingUserEntityProfileEmail\n</code></pre></p> <p>How it works: - Extracts email from SpectroCloud ID token - Searches for Backstage user entity with matching <code>spec.profile.email</code> - Creates session if match found</p>"},{"location":"plugins/spectrocloud/auth/backend/configure/#emaillocalpartmatchinguserentityname","title":"emailLocalPartMatchingUserEntityName","text":"<p>Matches users by email local part (before @): <pre><code>signIn:\n  resolvers:\n    - resolver: emailLocalPartMatchingUserEntityName\n</code></pre></p> <p>How it works: - Extracts email from SpectroCloud ID token - Takes local part (before @) as username - Searches for Backstage user entity with matching <code>metadata.name</code></p>"},{"location":"plugins/spectrocloud/auth/backend/configure/#multiple-resolvers","title":"Multiple Resolvers","text":"<p>Use multiple resolvers for fallback logic: <pre><code>signIn:\n  resolvers:\n    - resolver: emailMatchingUserEntityProfileEmail\n    - resolver: emailLocalPartMatchingUserEntityName\n</code></pre></p> <p>Backstage will try each resolver in order until one succeeds.</p>"},{"location":"plugins/spectrocloud/auth/backend/configure/#environment-variables","title":"Environment Variables","text":""},{"location":"plugins/spectrocloud/auth/backend/configure/#required-variables","title":"Required Variables","text":"<pre><code>export SPECTROCLOUD_CLIENT_ID=\"your-client-id\"\nexport SPECTROCLOUD_CLIENT_SECRET=\"your-client-secret\"\n</code></pre>"},{"location":"plugins/spectrocloud/auth/backend/configure/#setting-variables","title":"Setting Variables","text":"<p>Development (local): <pre><code># In your shell profile (~/.bashrc, ~/.zshrc)\nexport SPECTROCLOUD_CLIENT_ID=\"...\"\nexport SPECTROCLOUD_CLIENT_SECRET=\"...\"\n</code></pre></p> <p>Production (Kubernetes): <pre><code>apiVersion: v1\nkind: Secret\nmetadata:\n  name: backstage-secrets\ntype: Opaque\nstringData:\n  SPECTROCLOUD_CLIENT_ID: \"your-client-id\"\n  SPECTROCLOUD_CLIENT_SECRET: \"your-client-secret\"\n</code></pre></p>"},{"location":"plugins/spectrocloud/auth/backend/configure/#spectrocloud-configuration","title":"SpectroCloud Configuration","text":""},{"location":"plugins/spectrocloud/auth/backend/configure/#obtaining-client-credentials","title":"Obtaining Client Credentials","text":"<ol> <li>Log in to SpectroCloud Palette console</li> <li>Navigate to Tenant Settings \u2192 OAuth Integrations</li> <li>Click Add OAuth Client</li> <li>Configure:</li> <li>Name: Backstage</li> <li>Redirect URI: <code>http://localhost:7007/api/auth/spectrocloud/handler/frame</code> (dev)</li> <li>Redirect URI: <code>https://backstage.example.com/api/auth/spectrocloud/handler/frame</code> (prod)</li> <li>Scopes: <code>openid</code>, <code>profile</code>, <code>email</code></li> <li>Save and note the Client ID and Client Secret</li> </ol>"},{"location":"plugins/spectrocloud/auth/backend/configure/#finding-your-tenant-id","title":"Finding Your Tenant ID","text":"<p>Your tenant ID is visible in the SpectroCloud console URL or can be found in: - Account Settings - API documentation - Support team</p> <p>The authorization URL format is: <pre><code>https://console.spectrocloud.com/v1/oidc/tenant/{tenant-id}/auth\n</code></pre></p>"},{"location":"plugins/spectrocloud/auth/backend/configure/#cookie-configuration-optional","title":"Cookie Configuration (Optional)","text":"<p>For local development with non-standard domains:</p> <pre><code>auth:\n  session:\n    secret: ${SESSION_SECRET}\n\n  # Optional: Cookie domain for local development\n  experimentalExtraAllowedOrigins:\n    - http://localhost:3000\n    - http://localhost:7007\n</code></pre>"},{"location":"plugins/spectrocloud/auth/backend/configure/#configuration-examples","title":"Configuration Examples","text":""},{"location":"plugins/spectrocloud/auth/backend/configure/#basic-development-setup","title":"Basic Development Setup","text":"<pre><code>auth:\n  environment: development\n  providers:\n    spectrocloud:\n      development:\n        clientId: ${SPECTROCLOUD_CLIENT_ID}\n        clientSecret: ${SPECTROCLOUD_CLIENT_SECRET}\n        authorizationUrl: https://console.spectrocloud.com/v1/oidc/tenant/abc123/auth\n        callbackUrl: http://localhost:7007/api/auth/spectrocloud/handler/frame\n        signIn:\n          resolvers:\n            - resolver: emailMatchingUserEntityProfileEmail\n</code></pre>"},{"location":"plugins/spectrocloud/auth/backend/configure/#production-setup","title":"Production Setup","text":"<pre><code>auth:\n  environment: production\n  providers:\n    spectrocloud:\n      production:\n        clientId: ${SPECTROCLOUD_CLIENT_ID}\n        clientSecret: ${SPECTROCLOUD_CLIENT_SECRET}\n        authorizationUrl: https://console.spectrocloud.com/v1/oidc/tenant/abc123/auth\n        callbackUrl: https://backstage.example.com/api/auth/spectrocloud/handler/frame\n        scope: openid profile email\n        signIn:\n          resolvers:\n            - resolver: emailMatchingUserEntityProfileEmail\n</code></pre>"},{"location":"plugins/spectrocloud/auth/backend/configure/#multiple-resolvers_1","title":"Multiple Resolvers","text":"<pre><code>auth:\n  providers:\n    spectrocloud:\n      development:\n        # ... connection config ...\n        signIn:\n          resolvers:\n            # Try email first\n            - resolver: emailMatchingUserEntityProfileEmail\n            # Fall back to username\n            - resolver: emailLocalPartMatchingUserEntityName\n</code></pre>"},{"location":"plugins/spectrocloud/auth/backend/configure/#troubleshooting","title":"Troubleshooting","text":""},{"location":"plugins/spectrocloud/auth/backend/configure/#common-issues","title":"Common Issues","text":"<p>1. Token Exchange Fails - Verify client secret is correct - Check authorization URL has correct tenant ID - Ensure callback URL matches exactly</p> <p>2. User Not Resolved - Verify user entity exists in catalog - Check email matches between SpectroCloud and catalog - Review resolver configuration - Check backend logs for resolver errors</p> <p>3. Session Expires Immediately - Check token expiration time in ID token - Verify clock sync between servers - Review session configuration</p> <p>4. CORS Errors - Add frontend origin to <code>experimentalExtraAllowedOrigins</code> - Verify callback URL is correct - Check cookie domain settings</p>"},{"location":"plugins/spectrocloud/auth/backend/configure/#advanced-configuration","title":"Advanced Configuration","text":""},{"location":"plugins/spectrocloud/auth/backend/configure/#custom-scopes","title":"Custom Scopes","text":"<pre><code>auth:\n  providers:\n    spectrocloud:\n      development:\n        # ... other config ...\n        scope: openid profile email groups\n</code></pre>"},{"location":"plugins/spectrocloud/auth/backend/configure/#custom-token-endpoint","title":"Custom Token Endpoint","text":"<p>The module automatically derives the token endpoint from the authorization URL by replacing <code>/auth</code> with <code>/token</code>. If SpectroCloud changes their endpoint structure, you may need to update the authenticator code.</p>"},{"location":"plugins/spectrocloud/auth/backend/configure/#prompt-parameter","title":"Prompt Parameter","text":"<p>Add the <code>prompt</code> parameter to control authentication behavior:</p> <pre><code>auth:\n  providers:\n    spectrocloud:\n      development:\n        # ... other config ...\n        prompt: login  # Force re-authentication\n        # or\n        prompt: none  # Silent authentication (SSO)\n</code></pre> <p>Values: - <code>login</code>: Force user to re-enter credentials - <code>none</code>: Silent authentication (fails if not already authenticated) - <code>consent</code>: Force consent screen - <code>select_account</code>: Prompt account selection</p>"},{"location":"plugins/spectrocloud/auth/backend/configure/#integration-with-backend-plugin","title":"Integration with Backend Plugin","text":"<p>The auth backend works in tandem with the SpectroCloud backend plugin:</p>"},{"location":"plugins/spectrocloud/auth/backend/configure/#shared-token-cache","title":"Shared Token Cache","text":"<p>Both plugins access the same global token cache:</p> <pre><code>// Auth backend stores tokens\nstoreSessionToken(email, token, expiresAt);\n\n// Backend plugin retrieves tokens\nconst token = getSessionTokenByEmail(email);\n</code></pre>"},{"location":"plugins/spectrocloud/auth/backend/configure/#token-flow","title":"Token Flow","text":"<ol> <li>Authentication: User authenticates via OIDC</li> <li>Token Storage: Auth backend stores HS256 token in cache</li> <li>Cookie: Auth backend sets <code>spectrocloud-api-token</code> cookie</li> <li>API Request: Frontend sends request with headers:</li> <li><code>X-SpectroCloud-User-Email</code>: User's email</li> <li><code>X-SpectroCloud-Token</code>: HS256 token (from cookie)</li> <li>Token Lookup: Backend plugin looks up token in cache</li> <li>API Call: Backend uses token for SpectroCloud API</li> </ol>"},{"location":"plugins/spectrocloud/auth/backend/configure/#re-authentication","title":"Re-Authentication","text":"<p>When token is missing from cache:</p> <ol> <li>Backend plugin returns <code>X-SpectroCloud-ReAuth-Required: true</code> header</li> <li>Frontend detects header</li> <li>Frontend triggers sign-out</li> <li>User re-authenticates</li> <li>New token stored in cache</li> <li>Operations resume</li> </ol>"},{"location":"plugins/spectrocloud/auth/backend/configure/#configuration-consistency","title":"Configuration Consistency","text":"<p>Ensure both plugins are enabled:</p> <pre><code>spectrocloud:\n  enabled: true  # Enables both auth and backend plugins\n\nauth:\n  providers:\n    spectrocloud:\n      development:\n        # ... auth config ...\n</code></pre>"},{"location":"plugins/spectrocloud/auth/backend/configure/#security-considerations","title":"Security Considerations","text":""},{"location":"plugins/spectrocloud/auth/backend/configure/#secrets-management","title":"Secrets Management","text":"<ul> <li>Never commit secrets to version control</li> <li>Use environment variables for sensitive data</li> <li>Store secrets in secure secret management systems (Vault, AWS Secrets Manager, etc.)</li> <li>Rotate client secrets periodically</li> <li>Limit client secret access to authorized personnel</li> </ul>"},{"location":"plugins/spectrocloud/auth/backend/configure/#network-security","title":"Network Security","text":"<ul> <li>Use HTTPS in production (required for OAuth2)</li> <li>Configure proper CORS policies</li> <li>Ensure callback URL uses HTTPS in production</li> <li>Validate redirect URIs in SpectroCloud OAuth client config</li> </ul>"},{"location":"plugins/spectrocloud/auth/backend/configure/#token-security","title":"Token Security","text":"<ul> <li>Token cache is in-memory and process-local</li> <li>Tokens are not logged or exposed in error messages</li> <li>Cookie is HTTP-only and uses lax same-site policy</li> <li>Consider implementing token encryption at rest for enhanced security</li> </ul>"},{"location":"plugins/spectrocloud/auth/backend/configure/#user-resolution","title":"User Resolution","text":"<ul> <li>Review sign-in resolver logic for your organization</li> <li>Ensure user entities exist before authentication</li> <li>Consider implementing auto-provisioning if needed</li> <li>Validate email domains if using email-based resolution</li> </ul>"},{"location":"plugins/spectrocloud/auth/backend/configure/#deployment-considerations","title":"Deployment Considerations","text":"<ul> <li>Clustered Deployments: Use sticky sessions (token cache is not distributed)</li> <li>High Availability: Consider implementing distributed cache (Redis, etc.)</li> <li>Token Persistence: Implement persistent cache for zero-downtime restarts</li> <li>Monitoring: Track authentication failures and token cache hit/miss rates</li> </ul>"},{"location":"plugins/spectrocloud/auth/backend/configure/#troubleshooting_1","title":"Troubleshooting","text":""},{"location":"plugins/spectrocloud/auth/backend/configure/#common-issues_1","title":"Common Issues","text":"<p>1. Token Exchange Fails - Verify client secret is correct - Check authorization URL has correct tenant ID - Ensure callback URL matches exactly (including protocol and port) - Review SpectroCloud OAuth client configuration</p> <p>2. User Not Resolved - Verify user entity exists in catalog with correct email - Check email claim in ID token matches catalog - Review resolver configuration and order - Check backend logs for resolver errors - Ensure user entity has <code>spec.profile.email</code> (for email resolver)</p> <p>3. Session Expires Immediately - Check token expiration time in ID token - Verify clock sync between servers - Review session configuration in <code>app-config.yaml</code> - Check cookie settings and browser compatibility</p> <p>4. CORS Errors - Add frontend origin to <code>experimentalExtraAllowedOrigins</code> - Verify callback URL is correct - Check cookie domain settings - Review browser console for specific errors</p> <p>5. HS256 Token Not Cached - Check auth backend logs for token detection - Verify token is a valid JWT - Ensure email claim exists in token - Review token cache expiration settings</p> <p>6. Backend API Calls Fail - Verify token is in cache (check logs) - Ensure frontend sends <code>X-SpectroCloud-User-Email</code> header - Check token expiration - Review backend plugin configuration</p> <p>7. Re-Auth Loop - Token cache may be empty (backend restarted) - Token expired but not refreshed - Email mismatch between request and cache - Check for <code>X-SpectroCloud-ReAuth-Required</code> header</p>"},{"location":"plugins/spectrocloud/auth/backend/configure/#debug-mode","title":"Debug Mode","text":"<p>Enable debug logging:</p> <pre><code>backend:\n  # Enable debug logging for auth\n  debug: true\n</code></pre> <p>Check logs for: - Token exchange responses - HS256 token detection - Cache storage operations - Cookie setting</p>"},{"location":"plugins/spectrocloud/auth/backend/configure/#best-practices","title":"Best Practices","text":""},{"location":"plugins/spectrocloud/auth/backend/configure/#development","title":"Development","text":"<ol> <li>Use local callback URL for development</li> <li>Configure both development and production environments</li> <li>Test with multiple users and email domains</li> <li>Verify token expiration handling</li> </ol>"},{"location":"plugins/spectrocloud/auth/backend/configure/#production","title":"Production","text":"<ol> <li>Use HTTPS for all OAuth2 flows</li> <li>Configure production callback URL in SpectroCloud</li> <li>Implement monitoring and alerting</li> <li>Use sticky sessions or distributed cache</li> <li>Set up token rotation policies</li> <li>Review and audit authentication logs regularly</li> </ol>"},{"location":"plugins/spectrocloud/auth/backend/configure/#user-management","title":"User Management","text":"<ol> <li>Provision user entities before first login</li> <li>Implement auto-provisioning if needed</li> <li>Keep catalog emails in sync with SpectroCloud</li> <li>Document user resolution logic</li> </ol>"},{"location":"plugins/spectrocloud/auth/backend/configure/#next-steps","title":"Next Steps","text":"<p>After configuration:</p> <ol> <li>Install frontend plugin: <code>@terasky/backstage-plugin-spectrocloud-auth</code></li> <li>Configure sign-in page: Add SpectroCloud to available providers</li> <li>Optional: Install Kubernetes auth module: <code>@terasky/backstage-plugin-spectrocloud-kubernetes-auth-module</code></li> <li>Configure backend plugin: Ensure backend plugin is enabled</li> <li>Test authentication flow:</li> <li>Sign in with SpectroCloud</li> <li>Verify token in cache</li> <li>Test API calls</li> <li>Verify re-authentication on token expiry</li> <li>Set up monitoring: Track auth failures and token cache metrics</li> </ol>"},{"location":"plugins/spectrocloud/auth/backend/install/","title":"Installing the SpectroCloud Authentication Backend Module","text":"<p>This guide will help you install and set up the SpectroCloud authentication backend module in your Backstage instance.</p>"},{"location":"plugins/spectrocloud/auth/backend/install/#prerequisites","title":"Prerequisites","text":"<p>Before installing the backend module, ensure you have:</p> <ol> <li>A working Backstage instance (version 1.47.1 or later)</li> <li>Node.js 18+ and Yarn installed</li> <li>Access to a SpectroCloud Palette instance</li> <li>SpectroCloud OIDC client credentials (client ID and client secret)</li> </ol>"},{"location":"plugins/spectrocloud/auth/backend/install/#getting-spectrocloud-credentials","title":"Getting SpectroCloud Credentials","text":"<p>You'll need to create an OIDC application in SpectroCloud:</p> <ol> <li>Log in to your SpectroCloud Palette console</li> <li>Navigate to Tenant Settings \u2192 OAuth Integrations</li> <li>Create a new OAuth client application</li> <li>Note down the Client ID and Client Secret</li> <li>Configure the redirect URI: <code>http://localhost:7007/api/auth/spectrocloud/handler/frame</code></li> <li>For production, use your Backstage backend URL</li> </ol>"},{"location":"plugins/spectrocloud/auth/backend/install/#installation-steps","title":"Installation Steps","text":""},{"location":"plugins/spectrocloud/auth/backend/install/#1-add-required-package","title":"1. Add Required Package","text":"<p>Install the package using your package manager:</p> <pre><code>yarn --cwd packages/backend add @terasky/backstage-plugin-spectrocloud-auth-backend\n</code></pre>"},{"location":"plugins/spectrocloud/auth/backend/install/#2-add-to-backend","title":"2. Add to Backend","text":"<p>The module is automatically discovered by Backstage. Simply ensure it's imported in your backend:</p> <pre><code>// packages/backend/src/index.ts\nbackend.add(import('@terasky/backstage-plugin-spectrocloud-auth-backend'));\n</code></pre> <p>Example: <pre><code>import { createBackend } from '@backstage/backend-defaults';\n\nconst backend = createBackend();\n\n// Required: Core auth backend\nbackend.add(import('@backstage/plugin-auth-backend'));\n\n// Add SpectroCloud auth module\nbackend.add(import('@terasky/backstage-plugin-spectrocloud-auth-backend'));\n\n// ... other plugins\n\nbackend.start();\n</code></pre></p>"},{"location":"plugins/spectrocloud/auth/backend/install/#3-set-environment-variables","title":"3. Set Environment Variables","text":"<p>Set the client secret as an environment variable:</p> <pre><code>export SPECTROCLOUD_CLIENT_SECRET=\"your-client-secret-here\"\n</code></pre> <p>For production, configure this in your deployment environment (Kubernetes secrets, etc.).</p>"},{"location":"plugins/spectrocloud/auth/backend/install/#4-configure-the-module","title":"4. Configure the Module","text":"<p>Add the SpectroCloud provider configuration to your <code>app-config.yaml</code>:</p> <pre><code>auth:\n  providers:\n    spectrocloud:\n      development:\n        clientId: ${SPECTROCLOUD_CLIENT_ID}\n        clientSecret: ${SPECTROCLOUD_CLIENT_SECRET}\n        authorizationUrl: https://console.spectrocloud.com/v1/oidc/tenant/{your-tenant-id}/auth\n        callbackUrl: http://localhost:7007/api/auth/spectrocloud/handler/frame\n        scope: openid profile email\n</code></pre> <p>Note: Replace <code>{your-tenant-id}</code> with your actual SpectroCloud tenant ID.</p>"},{"location":"plugins/spectrocloud/auth/backend/install/#5-configure-sign-in-resolvers","title":"5. Configure Sign-In Resolvers","text":"<p>Add sign-in resolvers to match SpectroCloud users to Backstage entities:</p> <pre><code>auth:\n  providers:\n    spectrocloud:\n      development:\n        # ... other config ...\n        signIn:\n          resolvers:\n            - resolver: emailMatchingUserEntityProfileEmail\n            - resolver: emailLocalPartMatchingUserEntityName\n</code></pre> <p>This will match users by their email address or email local part (before @) against Backstage user entities.</p>"},{"location":"plugins/spectrocloud/auth/backend/install/#verification","title":"Verification","text":"<p>After installation, verify that:</p> <ol> <li>The plugin appears in your backend package.json dependencies</li> <li>The backend starts without errors</li> <li>The auth endpoint is accessible at <code>/api/auth/spectrocloud</code></li> <li>Authentication flow completes successfully</li> </ol>"},{"location":"plugins/spectrocloud/auth/backend/install/#testing-the-installation","title":"Testing the Installation","text":"<p>Check Auth Endpoint: <pre><code>curl http://localhost:7007/api/auth/spectrocloud/start?env=development\n</code></pre></p> <p>This should return a redirect to SpectroCloud's authorization page.</p> <p>Test Full Flow: 1. Navigate to your Backstage instance 2. Click \"Sign In\" 3. Select SpectroCloud provider 4. Complete authentication 5. Verify you're logged in to Backstage</p>"},{"location":"plugins/spectrocloud/auth/backend/install/#troubleshooting","title":"Troubleshooting","text":""},{"location":"plugins/spectrocloud/auth/backend/install/#backend-wont-start","title":"Backend Won't Start","text":"<ul> <li>Verify the package is installed in <code>packages/backend/package.json</code></li> <li>Check for TypeScript compilation errors</li> <li>Ensure <code>@backstage/plugin-auth-backend</code> is installed</li> </ul>"},{"location":"plugins/spectrocloud/auth/backend/install/#authentication-fails","title":"Authentication Fails","text":"<ul> <li>Verify client ID and secret are correct</li> <li>Check authorization URL has correct tenant ID</li> <li>Ensure callback URL matches SpectroCloud OAuth app configuration</li> <li>Check browser console and backend logs for errors</li> </ul>"},{"location":"plugins/spectrocloud/auth/backend/install/#user-not-resolved","title":"User Not Resolved","text":"<ul> <li>Verify user entity exists in Backstage catalog</li> <li>Check email in SpectroCloud matches catalog user email</li> <li>Review sign-in resolver configuration</li> <li>Check backend logs for resolver errors</li> </ul>"},{"location":"plugins/spectrocloud/auth/backend/install/#next-steps","title":"Next Steps","text":"<p>After successful installation:</p> <ol> <li>Configure production credentials</li> <li>Install the frontend plugin</li> <li>Configure sign-in page to show SpectroCloud option</li> <li>Optional: Install Kubernetes authentication module</li> </ol> <p>Proceed to the Configuration Guide for detailed setup instructions.</p>"},{"location":"plugins/spectrocloud/auth/frontend/about/","title":"SpectroCloud Authentication Frontend Plugin","text":""},{"location":"plugins/spectrocloud/auth/frontend/about/#overview","title":"Overview","text":"<p>The SpectroCloud authentication frontend plugin provides the OAuth2 client implementation for SpectroCloud OIDC authentication in Backstage. It creates the necessary API references and OAuth2 client that enable sign-in functionality and session management.</p>"},{"location":"plugins/spectrocloud/auth/frontend/about/#features","title":"Features","text":""},{"location":"plugins/spectrocloud/auth/frontend/about/#oauth2-client","title":"OAuth2 Client","text":"<ul> <li>Standard OAuth2 authorization code flow</li> <li>OIDC-compliant authentication</li> <li>Automatic token management</li> <li>Session persistence</li> </ul>"},{"location":"plugins/spectrocloud/auth/frontend/about/#api-integrations","title":"API Integrations","text":"<p>The plugin provides <code>spectroCloudAuthApiRef</code> which implements: - OpenIdConnectApi - OIDC operations (signIn, getIdToken, etc.) - ProfileInfoApi - User profile information - BackstageIdentityApi - Backstage identity token - SessionApi - Session management</p>"},{"location":"plugins/spectrocloud/auth/frontend/about/#sign-in-integration","title":"Sign-In Integration","text":"<ul> <li>Compatible with Backstage sign-in pages</li> <li>Works with global sign-in page module</li> <li>Fullscreen popup for authentication</li> <li>Automatic redirect handling</li> </ul>"},{"location":"plugins/spectrocloud/auth/frontend/about/#technical-architecture","title":"Technical Architecture","text":""},{"location":"plugins/spectrocloud/auth/frontend/about/#plugin-structure","title":"Plugin Structure","text":"<p>The plugin is a frontend plugin that exports: - <code>spectroCloudAuthApiRef</code> - API reference for SpectroCloud auth - <code>spectroCloudAuthApi</code> - API Blueprint implementation - <code>spectroCloudAuthPlugin</code> - Frontend plugin instance</p>"},{"location":"plugins/spectrocloud/auth/frontend/about/#api-blueprint","title":"API Blueprint","text":"<p>Uses Backstage's new frontend system with <code>ApiBlueprint.make</code>: <pre><code>ApiBlueprint.make({\n  api: spectroCloudAuthApiRef,\n  deps: {\n    configApi: configApiRef,\n    discoveryApi: discoveryApiRef,\n    oauthRequestApi: oauthRequestApiRef,\n  },\n  factory: ({ configApi, discoveryApi, oauthRequestApi }) =&gt;\n    OAuth2.create({\n      provider: { id: 'spectrocloud', title: 'SpectroCloud' },\n      defaultScopes: ['openid', 'profile', 'email'],\n      // ...\n    })\n})\n</code></pre></p>"},{"location":"plugins/spectrocloud/auth/frontend/about/#auto-discovery","title":"Auto-Discovery","text":"<p>The plugin is automatically discovered by Backstage when: - Package is installed in <code>packages/app</code> - Listed in <code>package.json</code> dependencies - Exported as default from plugin module</p> <p>No manual wiring in <code>App.tsx</code> required!</p>"},{"location":"plugins/spectrocloud/auth/frontend/about/#integration-points","title":"Integration Points","text":""},{"location":"plugins/spectrocloud/auth/frontend/about/#sign-in-page","title":"Sign-In Page","text":"<p>Works with: - Global Sign-In Page Module (<code>@terasky/backstage-plugin-app-module-global-signin-page</code>) - Custom sign-in pages using <code>SignInPage</code> component - Backstage's default sign-in page</p>"},{"location":"plugins/spectrocloud/auth/frontend/about/#backend-module","title":"Backend Module","text":"<p>Requires the backend authentication module: - <code>@terasky/backstage-plugin-spectrocloud-auth-backend</code></p>"},{"location":"plugins/spectrocloud/auth/frontend/about/#other-plugins","title":"Other Plugins","text":"<p>Can be used by any plugin that needs SpectroCloud authentication: - Kubernetes plugin (via kubernetes-auth-module) - Custom plugins requiring SpectroCloud identity</p>"},{"location":"plugins/spectrocloud/auth/frontend/about/#components","title":"Components","text":""},{"location":"plugins/spectrocloud/auth/frontend/about/#spectrocloudauthapiref","title":"spectroCloudAuthApiRef","text":"<p>The main API reference for SpectroCloud authentication:</p> <pre><code>import { spectroCloudAuthApiRef } from '@terasky/backstage-plugin-spectrocloud-auth';\nimport { useApi } from '@backstage/core-plugin-api';\n\nfunction MyComponent() {\n  const authApi = useApi(spectroCloudAuthApiRef);\n\n  // Sign in\n  await authApi.signIn();\n\n  // Get user profile\n  const profile = await authApi.getProfile();\n\n  // Get ID token (for Kubernetes)\n  const idToken = await authApi.getIdToken();\n\n  // Get Backstage identity\n  const identity = await authApi.getBackstageIdentity();\n}\n</code></pre>"},{"location":"plugins/spectrocloud/auth/frontend/about/#available-methods","title":"Available Methods","text":""},{"location":"plugins/spectrocloud/auth/frontend/about/#authentication","title":"Authentication","text":"<ul> <li><code>signIn()</code> - Initiate sign-in flow</li> <li><code>signOut()</code> - Sign out user</li> <li><code>getBackstageIdentity()</code> - Get Backstage identity with token</li> </ul>"},{"location":"plugins/spectrocloud/auth/frontend/about/#profile","title":"Profile","text":"<ul> <li><code>getProfile()</code> - Get user profile (email, name, picture)</li> </ul>"},{"location":"plugins/spectrocloud/auth/frontend/about/#oidc","title":"OIDC","text":"<ul> <li><code>getIdToken()</code> - Get OIDC ID token (for Kubernetes auth)</li> </ul>"},{"location":"plugins/spectrocloud/auth/frontend/about/#session","title":"Session","text":"<ul> <li><code>sessionState$()</code> - Observable of session state</li> </ul>"},{"location":"plugins/spectrocloud/auth/frontend/about/#use-cases","title":"Use Cases","text":""},{"location":"plugins/spectrocloud/auth/frontend/about/#sign-in-page-integration","title":"Sign-In Page Integration","text":"<p>Enable SpectroCloud as a sign-in option: <pre><code>const providers = [\n  {\n    id: 'spectrocloud-auth-provider',\n    title: 'SpectroCloud',\n    message: 'Sign in using SpectroCloud',\n    apiRef: spectroCloudAuthApiRef,\n  },\n];\n</code></pre></p>"},{"location":"plugins/spectrocloud/auth/frontend/about/#kubernetes-authentication","title":"Kubernetes Authentication","text":"<p>The ID token from this API is used by the Kubernetes authentication module to access clusters.</p>"},{"location":"plugins/spectrocloud/auth/frontend/about/#custom-plugin-integration","title":"Custom Plugin Integration","text":"<p>Use SpectroCloud authentication in your own plugins: <pre><code>const authApi = useApi(spectroCloudAuthApiRef);\nconst identity = await authApi.getBackstageIdentity();\n// Use identity.token for API calls\n</code></pre></p>"},{"location":"plugins/spectrocloud/auth/frontend/about/#technical-details","title":"Technical Details","text":""},{"location":"plugins/spectrocloud/auth/frontend/about/#token-storage","title":"Token Storage","text":"<ul> <li>Tokens stored in browser session storage</li> <li>Automatic expiration handling</li> <li>Refresh on token expiry</li> <li>Secure cookie-based session</li> </ul>"},{"location":"plugins/spectrocloud/auth/frontend/about/#popup-authentication","title":"Popup Authentication","text":"<ul> <li>Fullscreen popup for better UX on mobile</li> <li>Automatic popup closing on success</li> <li>Error handling and timeout</li> </ul>"},{"location":"plugins/spectrocloud/auth/frontend/about/#discovery","title":"Discovery","text":"<ul> <li>Uses Backstage discovery API to find auth backend</li> <li>Automatic endpoint resolution</li> <li>Environment-aware configuration</li> </ul>"},{"location":"plugins/spectrocloud/auth/frontend/about/#troubleshooting","title":"Troubleshooting","text":""},{"location":"plugins/spectrocloud/auth/frontend/about/#common-issues","title":"Common Issues","text":"<p>1. Sign-In Popup Blocked - Allow popups for your Backstage domain - Check browser popup blocker settings</p> <p>2. Authentication Loop - Clear browser cookies - Check callback URL configuration - Verify backend module is running</p> <p>3. Token Not Available - Ensure backend module is configured correctly - Check backend logs for auth errors - Verify sign-in resolver is working</p> <p>4. Cannot Get ID Token - This is critical for Kubernetes auth - Check backend token exchange is returning <code>id_token</code> - Verify token is RS256 signed</p>"},{"location":"plugins/spectrocloud/auth/frontend/about/#best-practices","title":"Best Practices","text":"<ol> <li>Use Environment Variables for sensitive configuration</li> <li>Test Authentication Flow in development before production</li> <li>Configure Multiple Resolvers for flexibility</li> <li>Monitor Session Expiration and handle gracefully</li> <li>Use HTTPS in Production for security</li> </ol>"},{"location":"plugins/spectrocloud/auth/frontend/about/#next-steps","title":"Next Steps","text":"<ul> <li>Install Frontend Plugin</li> <li>Configure Sign-In Page</li> <li>Install Kubernetes Auth Module (optional)</li> </ul>"},{"location":"plugins/spectrocloud/auth/frontend/configure/","title":"Configuring the SpectroCloud Authentication Frontend Plugin","text":"<p>The frontend plugin is largely auto-configured, but offers several customization options through the sign-in page and programmatic usage.</p>"},{"location":"plugins/spectrocloud/auth/frontend/configure/#sign-in-page-configuration","title":"Sign-In Page Configuration","text":""},{"location":"plugins/spectrocloud/auth/frontend/configure/#global-sign-in-page-module","title":"Global Sign-In Page Module","text":"<p>The recommended approach for configuring the sign-in page:</p> <pre><code># app-config.yaml\nsigninPage:\n  providers:\n    spectrocloud:\n      enabled: true\n      title: SpectroCloud\n      message: Sign in using SpectroCloud\n</code></pre>"},{"location":"plugins/spectrocloud/auth/frontend/configure/#configuration-options","title":"Configuration Options","text":"Parameter Type Default Description <code>enabled</code> boolean <code>false</code> Enable/disable SpectroCloud provider <code>title</code> string <code>SpectroCloud</code> Display title on sign-in button <code>message</code> string <code>Sign in using SpectroCloud</code> Message below button"},{"location":"plugins/spectrocloud/auth/frontend/configure/#configuration-examples","title":"Configuration Examples","text":""},{"location":"plugins/spectrocloud/auth/frontend/configure/#minimal-configuration","title":"Minimal Configuration","text":"<pre><code>signinPage:\n  providers:\n    spectrocloud:\n      enabled: true\n</code></pre>"},{"location":"plugins/spectrocloud/auth/frontend/configure/#custom-branding","title":"Custom Branding","text":"<pre><code>signinPage:\n  providers:\n    spectrocloud:\n      enabled: true\n      title: \"Employee Portal\"\n      message: \"Sign in with your corporate account\"\n</code></pre>"},{"location":"plugins/spectrocloud/auth/frontend/configure/#environment-specific","title":"Environment-Specific","text":"<pre><code># app-config.local.yaml (development)\nsigninPage:\n  providers:\n    spectrocloud:\n      enabled: true\n      title: \"SpectroCloud Dev\"\n      message: \"Development environment\"\n\n# app-config.production.yaml (production)\nsigninPage:\n  providers:\n    spectrocloud:\n      enabled: true\n      title: \"SpectroCloud\"\n      message: \"Sign in using your SpectroCloud account\"\n</code></pre>"},{"location":"plugins/spectrocloud/auth/frontend/configure/#programmatic-usage","title":"Programmatic Usage","text":""},{"location":"plugins/spectrocloud/auth/frontend/configure/#using-the-api-reference","title":"Using the API Reference","text":"<p>The plugin exports <code>spectroCloudAuthApiRef</code> which can be used in any component:</p> <pre><code>import { useApi } from '@backstage/core-plugin-api';\nimport { spectroCloudAuthApiRef } from '@terasky/backstage-plugin-spectrocloud-auth';\n\nfunction MyComponent() {\n  const authApi = useApi(spectroCloudAuthApiRef);\n\n  // Use authApi methods\n}\n</code></pre>"},{"location":"plugins/spectrocloud/auth/frontend/configure/#available-api-methods","title":"Available API Methods","text":""},{"location":"plugins/spectrocloud/auth/frontend/configure/#authentication","title":"Authentication","text":"<pre><code>// Initiate sign-in\nawait authApi.signIn();\n\n// Sign out\nawait authApi.signOut();\n</code></pre>"},{"location":"plugins/spectrocloud/auth/frontend/configure/#user-information","title":"User Information","text":"<pre><code>// Get user profile\nconst profile = await authApi.getProfile();\n// { email, displayName, picture }\n\n// Get Backstage identity\nconst identity = await authApi.getBackstageIdentity();\n// { type, userEntityRef, ownershipEntityRefs, token }\n</code></pre>"},{"location":"plugins/spectrocloud/auth/frontend/configure/#oidc-token","title":"OIDC Token","text":"<pre><code>// Get ID token (for Kubernetes authentication)\nconst idToken = await authApi.getIdToken();\n</code></pre>"},{"location":"plugins/spectrocloud/auth/frontend/configure/#session-state","title":"Session State","text":"<pre><code>import { useObservable } from 'react-use';\n\nconst sessionState = useObservable(authApi.sessionState$());\n// 'SignedIn' or 'SignedOut'\n</code></pre>"},{"location":"plugins/spectrocloud/auth/frontend/configure/#custom-sign-in-page-implementation","title":"Custom Sign-In Page Implementation","text":"<p>If you're not using the global sign-in page module:</p> <pre><code>import { SignInPage } from '@backstage/core-components';\nimport {\n  spectroCloudAuthApiRef,\n} from '@terasky/backstage-plugin-spectrocloud-auth';\n\nconst App = () =&gt; (\n  &lt;SignInPage\n    providers={[\n      {\n        id: 'spectrocloud-auth-provider',\n        title: 'SpectroCloud',\n        message: 'Sign in using SpectroCloud',\n        apiRef: spectroCloudAuthApiRef,\n      },\n    ]}\n  /&gt;\n);\n</code></pre>"},{"location":"plugins/spectrocloud/auth/frontend/configure/#multiple-providers","title":"Multiple Providers","text":"<pre><code>import {\n  githubAuthApiRef,\n  googleAuthApiRef,\n} from '@backstage/core-plugin-api';\nimport { spectroCloudAuthApiRef } from '@terasky/backstage-plugin-spectrocloud-auth';\n\nconst providers = [\n  {\n    id: 'github-auth',\n    title: 'GitHub',\n    message: 'Sign in using GitHub',\n    apiRef: githubAuthApiRef,\n  },\n  {\n    id: 'google-auth',\n    title: 'Google',\n    message: 'Sign in using Google',\n    apiRef: googleAuthApiRef,\n  },\n  {\n    id: 'spectrocloud-auth',\n    title: 'SpectroCloud',\n    message: 'Sign in using SpectroCloud',\n    apiRef: spectroCloudAuthApiRef,\n  },\n];\n</code></pre>"},{"location":"plugins/spectrocloud/auth/frontend/configure/#integration-examples","title":"Integration Examples","text":""},{"location":"plugins/spectrocloud/auth/frontend/configure/#protected-route","title":"Protected Route","text":"<pre><code>import { useApi } from '@backstage/core-plugin-api';\nimport { spectroCloudAuthApiRef } from '@terasky/backstage-plugin-spectrocloud-auth';\n\nfunction ProtectedComponent() {\n  const authApi = useApi(spectroCloudAuthApiRef);\n  const [isAuthenticated, setIsAuthenticated] = useState(false);\n\n  useEffect(() =&gt; {\n    authApi.sessionState$().subscribe(state =&gt; {\n      setIsAuthenticated(state === 'SignedIn');\n    });\n  }, [authApi]);\n\n  if (!isAuthenticated) {\n    return &lt;div&gt;Please sign in&lt;/div&gt;;\n  }\n\n  return &lt;div&gt;Protected content&lt;/div&gt;;\n}\n</code></pre>"},{"location":"plugins/spectrocloud/auth/frontend/configure/#api-call-with-auth","title":"API Call with Auth","text":"<pre><code>import { useApi, fetchApiRef } from '@backstage/core-plugin-api';\nimport { spectroCloudAuthApiRef } from '@terasky/backstage-plugin-spectrocloud-auth';\n\nasync function callAuthenticatedAPI() {\n  const authApi = useApi(spectroCloudAuthApiRef);\n  const fetchApi = useApi(fetchApiRef);\n\n  const identity = await authApi.getBackstageIdentity();\n\n  const response = await fetchApi.fetch('/api/my-endpoint', {\n    headers: {\n      'Authorization': `Bearer ${identity.token}`,\n    },\n  });\n\n  return response.json();\n}\n</code></pre>"},{"location":"plugins/spectrocloud/auth/frontend/configure/#troubleshooting","title":"Troubleshooting","text":""},{"location":"plugins/spectrocloud/auth/frontend/configure/#sign-in-not-working","title":"Sign-In Not Working","text":"<ol> <li>Check backend module is installed and running</li> <li>Verify configuration in <code>app-config.yaml</code></li> <li>Review browser console for errors</li> <li>Check backend logs</li> </ol>"},{"location":"plugins/spectrocloud/auth/frontend/configure/#session-expired","title":"Session Expired","text":"<p>The plugin automatically handles token refresh. If issues persist: 1. Clear browser cookies 2. Sign out and sign in again 3. Check backend token expiration settings</p>"},{"location":"plugins/spectrocloud/auth/frontend/configure/#popup-blocked","title":"Popup Blocked","text":"<ol> <li>Allow popups for your Backstage domain</li> <li>Check browser popup blocker</li> <li>Try incognito/private browsing mode</li> </ol>"},{"location":"plugins/spectrocloud/auth/frontend/configure/#cannot-get-id-token","title":"Cannot Get ID Token","text":"<ol> <li>Verify backend is performing proper OIDC token exchange</li> <li>Check backend logs for token exchange response</li> <li>Ensure SpectroCloud is returning <code>id_token</code></li> </ol>"},{"location":"plugins/spectrocloud/auth/frontend/configure/#best-practices","title":"Best Practices","text":"<ol> <li>Use Configuration - Prefer YAML configuration over code</li> <li>Handle Errors - Always catch and handle authentication errors</li> <li>Monitor State - Subscribe to session state for reactive UIs</li> <li>Secure Tokens - Never log or expose tokens</li> <li>Test Flows - Test full authentication flow in all environments</li> </ol>"},{"location":"plugins/spectrocloud/auth/frontend/configure/#related-configuration","title":"Related Configuration","text":"<p>See also: - Backend Module Configuration - Kubernetes Module Configuration</p>"},{"location":"plugins/spectrocloud/auth/frontend/install/","title":"Installing the SpectroCloud Authentication Frontend Plugin","text":"<p>This guide will help you install the SpectroCloud authentication frontend plugin in your Backstage instance.</p>"},{"location":"plugins/spectrocloud/auth/frontend/install/#prerequisites","title":"Prerequisites","text":"<p>Before installing the frontend plugin, ensure you have:</p> <ol> <li>A working Backstage instance (version 1.47.1 or later)</li> <li>Node.js 18+ and Yarn installed</li> <li>SpectroCloud backend module installed and configured (required)</li> </ol>"},{"location":"plugins/spectrocloud/auth/frontend/install/#installation-steps","title":"Installation Steps","text":""},{"location":"plugins/spectrocloud/auth/frontend/install/#1-add-required-package","title":"1. Add Required Package","text":"<p>Install the package using your package manager:</p> <pre><code>yarn --cwd packages/app add @terasky/backstage-plugin-spectrocloud-auth\n</code></pre>"},{"location":"plugins/spectrocloud/auth/frontend/install/#2-verify-auto-discovery","title":"2. Verify Auto-Discovery","text":"<p>The plugin is automatically discovered by Backstage. You can verify it's installed by checking:</p> <pre><code>grep \"@terasky/backstage-plugin-spectrocloud-auth\" packages/app/package.json\n</code></pre>"},{"location":"plugins/spectrocloud/auth/frontend/install/#3-no-apptsx-changes-needed","title":"3. No App.tsx Changes Needed!","text":"<p>Unlike older Backstage plugins, this plugin is automatically loaded. There's no need to import or register it in <code>App.tsx</code>.</p>"},{"location":"plugins/spectrocloud/auth/frontend/install/#4-configure-sign-in-page","title":"4. Configure Sign-In Page","text":""},{"location":"plugins/spectrocloud/auth/frontend/install/#option-a-global-sign-in-page-module-easiest","title":"Option A: Global Sign-In Page Module (Easiest)","text":"<p>If you're using the global sign-in page module:</p> <pre><code># app-config.yaml\nsigninPage:\n  providers:\n    spectrocloud:\n      enabled: true\n</code></pre>"},{"location":"plugins/spectrocloud/auth/frontend/install/#option-b-custom-sign-in-page","title":"Option B: Custom Sign-In Page","text":"<p>If you have a custom sign-in page implementation, import the API reference:</p> <pre><code>import { spectroCloudAuthApiRef } from '@terasky/backstage-plugin-spectrocloud-auth';\n\nconst providers = [\n  {\n    id: 'spectrocloud-auth-provider',\n    title: 'SpectroCloud',\n    message: 'Sign in using SpectroCloud',\n    apiRef: spectroCloudAuthApiRef,\n  },\n];\n</code></pre>"},{"location":"plugins/spectrocloud/auth/frontend/install/#quick-start-example","title":"Quick Start Example","text":""},{"location":"plugins/spectrocloud/auth/frontend/install/#minimal-configuration","title":"Minimal Configuration","text":"<p>app-config.yaml: <pre><code>auth:\n  environment: development\n  providers:\n    spectrocloud:\n      development:\n        clientId: ${SPECTROCLOUD_CLIENT_ID}\n        clientSecret: ${SPECTROCLOUD_CLIENT_SECRET}\n        authorizationUrl: https://console.spectrocloud.com/v1/oidc/tenant/abc123/auth\n        callbackUrl: http://localhost:7007/api/auth/spectrocloud/handler/frame\n        signIn:\n          resolvers:\n            - resolver: emailMatchingUserEntityProfileEmail\n\nsigninPage:\n  providers:\n    spectrocloud:\n      enabled: true\n</code></pre></p> <p>Environment variables: <pre><code>export SPECTROCLOUD_CLIENT_ID=\"your-client-id\"\nexport SPECTROCLOUD_CLIENT_SECRET=\"your-client-secret\"\n</code></pre></p> <p>Start Backstage: <pre><code>yarn dev\n</code></pre></p>"},{"location":"plugins/spectrocloud/auth/frontend/install/#verification","title":"Verification","text":"<p>After installation, verify the plugin is working:</p>"},{"location":"plugins/spectrocloud/auth/frontend/install/#1-check-dependencies","title":"1. Check Dependencies","text":"<pre><code>cat packages/app/package.json | grep spectrocloud-auth\n</code></pre> <p>Should show: <pre><code>\"@terasky/backstage-plugin-spectrocloud-auth\": \"^0.1.0\"\n</code></pre></p>"},{"location":"plugins/spectrocloud/auth/frontend/install/#2-check-build","title":"2. Check Build","text":"<pre><code>yarn workspace app build\n</code></pre> <p>Should complete without errors.</p>"},{"location":"plugins/spectrocloud/auth/frontend/install/#3-test-sign-in","title":"3. Test Sign-In","text":"<ol> <li>Navigate to http://localhost:3000</li> <li>You should see \"SpectroCloud\" as a sign-in option</li> <li>Click it and complete authentication</li> <li>Verify you're logged in</li> </ol>"},{"location":"plugins/spectrocloud/auth/frontend/install/#4-verify-api-access","title":"4. Verify API Access","text":"<p>Open browser console and run: <pre><code>// After signing in\nconst authApi = await window.backstage.getApi('core.auth.spectrocloud');\nconst profile = await authApi.getProfile();\nconsole.log(profile);\n</code></pre></p>"},{"location":"plugins/spectrocloud/auth/frontend/install/#integration-with-other-components","title":"Integration with Other Components","text":""},{"location":"plugins/spectrocloud/auth/frontend/install/#sign-in-page","title":"Sign-In Page","text":"<p>The plugin automatically integrates with: - Global Sign-In Page Module - Custom sign-in pages using <code>SignInPage</code> component - Backstage's authentication system</p>"},{"location":"plugins/spectrocloud/auth/frontend/install/#backend-communication","title":"Backend Communication","text":"<p>The plugin communicates with: - SpectroCloud backend module at <code>/api/auth/spectrocloud</code> - Backstage discovery API for endpoint resolution</p>"},{"location":"plugins/spectrocloud/auth/frontend/install/#package-contents","title":"Package Contents","text":"<p>The package exports:</p> <pre><code>// Main plugin (default export)\nexport default spectroCloudAuthPlugin;\n\n// API reference for use in other plugins\nexport { spectroCloudAuthApiRef };\n\n// API Blueprint (advanced usage)\nexport { spectroCloudAuthApi };\n</code></pre>"},{"location":"plugins/spectrocloud/auth/frontend/install/#troubleshooting","title":"Troubleshooting","text":""},{"location":"plugins/spectrocloud/auth/frontend/install/#plugin-not-found","title":"Plugin Not Found","text":"<pre><code># Reinstall\nyarn --cwd packages/app add @terasky/backstage-plugin-spectrocloud-auth\n\n# Clear cache\nyarn install --force\n</code></pre>"},{"location":"plugins/spectrocloud/auth/frontend/install/#build-errors","title":"Build Errors","text":"<pre><code># Check for type errors\nyarn workspace app type-check\n\n# Clean and rebuild\nyarn workspace app clean\nyarn workspace app build\n</code></pre>"},{"location":"plugins/spectrocloud/auth/frontend/install/#sign-in-option-not-showing","title":"Sign-In Option Not Showing","text":"<ul> <li>Verify backend module is installed and running</li> <li>Check <code>app-config.yaml</code> has SpectroCloud provider enabled</li> <li>Review browser console for errors</li> <li>Check that <code>signinPage.providers.spectrocloud.enabled</code> is <code>true</code></li> </ul>"},{"location":"plugins/spectrocloud/auth/frontend/install/#import-errors","title":"Import Errors","text":"<pre><code># Ensure all peer dependencies are installed\nyarn install\n\n# Check for version conflicts\nyarn why @backstage/frontend-plugin-api\n</code></pre>"},{"location":"plugins/spectrocloud/auth/frontend/install/#post-installation","title":"Post-Installation","text":"<p>After successful installation:</p> <ol> <li>Configure Backend - Ensure backend module has correct credentials</li> <li>Test Authentication - Complete a full sign-in flow</li> <li>Configure Resolvers - Set up user resolution in backend config</li> <li>Optional Features:</li> <li>Install Kubernetes auth module for cluster access</li> <li>Customize sign-in page appearance</li> <li>Configure multiple authentication providers</li> </ol>"},{"location":"plugins/spectrocloud/auth/frontend/install/#next-steps","title":"Next Steps","text":"<ul> <li>Configure Sign-In Page</li> <li>Install Kubernetes Module (optional)</li> <li>Review backend configuration</li> </ul>"},{"location":"plugins/spectrocloud/auth/kubernetes-module/about/","title":"SpectroCloud Kubernetes Authentication Module","text":""},{"location":"plugins/spectrocloud/auth/kubernetes-module/about/#overview","title":"Overview","text":"<p>The SpectroCloud Kubernetes Authentication Module is a frontend module that extends the Backstage Kubernetes plugin to add SpectroCloud OIDC authentication support. It enables user-level authentication to Kubernetes clusters using SpectroCloud identity tokens, providing audit trails and eliminating the need for service account management.</p>"},{"location":"plugins/spectrocloud/auth/kubernetes-module/about/#features","title":"Features","text":""},{"location":"plugins/spectrocloud/auth/kubernetes-module/about/#oidc-token-provider","title":"OIDC Token Provider","text":"<ul> <li>Integrates SpectroCloud as an OIDC token provider for Kubernetes</li> <li>Uses user's SpectroCloud ID token for cluster authentication</li> <li>Works alongside Microsoft and Google auth providers</li> <li>Supports multiple OIDC providers simultaneously</li> </ul>"},{"location":"plugins/spectrocloud/auth/kubernetes-module/about/#user-level-access","title":"User-Level Access","text":"<ul> <li>Authenticate to clusters with user identity</li> <li>Kubernetes audit logs show actual user names</li> <li>No service account credentials to manage</li> <li>Permissions based on user's SpectroCloud roles</li> </ul>"},{"location":"plugins/spectrocloud/auth/kubernetes-module/about/#seamless-integration","title":"Seamless Integration","text":"<ul> <li>Auto-discovered by Backstage</li> <li>No manual App.tsx configuration needed</li> <li>Works with SpectroCloud cluster provider</li> <li>Compatible with existing Kubernetes plugin features</li> </ul>"},{"location":"plugins/spectrocloud/auth/kubernetes-module/about/#technical-architecture","title":"Technical Architecture","text":""},{"location":"plugins/spectrocloud/auth/kubernetes-module/about/#module-structure","title":"Module Structure","text":"<p>This is a frontend module (not a standalone plugin) that extends the <code>kubernetes</code> plugin:</p> <pre><code>createFrontendModule({\n  pluginId: 'kubernetes',  // Extends kubernetes plugin\n  extensions: [kubernetesAuthProvidersExtension],\n})\n</code></pre>"},{"location":"plugins/spectrocloud/auth/kubernetes-module/about/#api-blueprint","title":"API Blueprint","text":"<p>Creates a custom <code>KubernetesAuthProviders</code> instance:</p> <pre><code>ApiBlueprint.make({\n  api: kubernetesAuthProvidersApiRef,\n  deps: {\n    microsoftAuthApi,\n    googleAuthApi,\n    spectroCloudAuthApi,\n  },\n  factory: ({ microsoftAuthApi, googleAuthApi, spectroCloudAuthApi }) =&gt; {\n    return new KubernetesAuthProviders({\n      microsoftAuthApi,\n      googleAuthApi,\n      oidcProviders: {\n        spectrocloud: spectroCloudAuthApi,\n      },\n    });\n  },\n})\n</code></pre>"},{"location":"plugins/spectrocloud/auth/kubernetes-module/about/#authentication-flow","title":"Authentication Flow","text":"<ol> <li>User signs in to Backstage with SpectroCloud</li> <li>Frontend stores SpectroCloud ID token</li> <li>Kubernetes plugin requests cluster data</li> <li>Module provides SpectroCloud ID token for cluster authentication</li> <li>Kubernetes API server validates token with SpectroCloud OIDC</li> <li>User accesses cluster with their identity</li> </ol>"},{"location":"plugins/spectrocloud/auth/kubernetes-module/about/#integration-points","title":"Integration Points","text":"<ul> <li>SpectroCloud Auth Frontend Plugin (required)</li> <li>Backstage Kubernetes Plugin</li> <li>Kubernetes Auth Providers API</li> <li>Microsoft and Google auth APIs (for multi-provider support)</li> </ul>"},{"location":"plugins/spectrocloud/auth/kubernetes-module/about/#use-cases","title":"Use Cases","text":""},{"location":"plugins/spectrocloud/auth/kubernetes-module/about/#user-level-kubernetes-access","title":"User-Level Kubernetes Access","text":"<p>Replace service accounts with user authentication for better security and audit trails.</p>"},{"location":"plugins/spectrocloud/auth/kubernetes-module/about/#spectrocloud-managed-clusters","title":"SpectroCloud-Managed Clusters","text":"<p>Seamlessly access Kubernetes clusters managed by SpectroCloud using your SpectroCloud credentials.</p>"},{"location":"plugins/spectrocloud/auth/kubernetes-module/about/#multi-provider-environments","title":"Multi-Provider Environments","text":"<p>Support multiple authentication providers (SpectroCloud, Microsoft, Google) in the same Backstage instance.</p>"},{"location":"plugins/spectrocloud/auth/kubernetes-module/about/#compliance-and-auditing","title":"Compliance and Auditing","text":"<p>Track which users access which clusters and what actions they perform through Kubernetes audit logs.</p>"},{"location":"plugins/spectrocloud/auth/kubernetes-module/about/#comparison-with-service-accounts","title":"Comparison with Service Accounts","text":"Feature Service Account OIDC (This Module) Setup Creates SA in each cluster No cluster resources Identity Generic backstage-sa Individual users Audit Trail Generic service account Actual user names Permissions Cluster-wide RBAC User-specific RBAC Token Management Manual rotation Automatic via SpectroCloud Access Control Same for all users Per-user control"},{"location":"plugins/spectrocloud/auth/kubernetes-module/about/#prerequisites","title":"Prerequisites","text":"<p>Required: - SpectroCloud Authentication Backend Module - SpectroCloud Authentication Frontend Plugin - Kubernetes Plugin (Backstage core)</p> <p>Recommended: - SpectroCloud Cluster Provider (for auto-discovery) - Kubernetes clusters configured with SpectroCloud OIDC</p>"},{"location":"plugins/spectrocloud/auth/kubernetes-module/about/#technical-details","title":"Technical Details","text":""},{"location":"plugins/spectrocloud/auth/kubernetes-module/about/#token-provider-name","title":"Token Provider Name","text":"<p>The module registers SpectroCloud as an OIDC token provider with the name <code>spectrocloud</code>. This name must match the <code>oidcTokenProvider</code> setting in cluster configurations.</p>"},{"location":"plugins/spectrocloud/auth/kubernetes-module/about/#supported-providers","title":"Supported Providers","text":"<p>The module maintains support for existing providers: - Microsoft Azure authentication - Google Cloud authentication - SpectroCloud OIDC (added by this module)</p>"},{"location":"plugins/spectrocloud/auth/kubernetes-module/about/#api-override","title":"API Override","text":"<p>The module replaces the default <code>kubernetesAuthProvidersApiRef</code> implementation provided by the Kubernetes plugin. This is why the default implementation must be disabled in configuration.</p> <p>For installation and configuration details, refer to the Installation Guide and Configuration Guide.</p>"},{"location":"plugins/spectrocloud/auth/kubernetes-module/configure/","title":"Configuring the SpectroCloud Kubernetes Authentication Module","text":"<p>The Kubernetes authentication module has minimal configuration requirements since most settings are inherited from the Kubernetes plugin and SpectroCloud cluster provider.</p>"},{"location":"plugins/spectrocloud/auth/kubernetes-module/configure/#core-configuration","title":"Core Configuration","text":""},{"location":"plugins/spectrocloud/auth/kubernetes-module/configure/#1-disable-default-auth-providers-required","title":"1. Disable Default Auth Providers (Required)","text":"<pre><code># app-config.yaml\napp:\n  extensions:\n    - plugin.kubernetes-auth-providers.service:\n        disabled: true\n</code></pre> <p>This is the only module-specific configuration required. Everything else is configured through the Kubernetes plugin.</p>"},{"location":"plugins/spectrocloud/auth/kubernetes-module/configure/#kubernetes-cluster-configuration","title":"Kubernetes Cluster Configuration","text":""},{"location":"plugins/spectrocloud/auth/kubernetes-module/configure/#manual-cluster-configuration","title":"Manual Cluster Configuration","text":"<p>For clusters defined in <code>app-config.yaml</code>:</p> <pre><code>kubernetes:\n  clusterLocatorMethods:\n    - type: 'config'\n      clusters:\n        - name: prod-cluster\n          url: https://prod-cluster.example.com:6443\n          authProvider: 'oidc'\n          oidcTokenProvider: 'spectrocloud'  # Must match module's provider name\n          skipTLSVerify: true\n          skipMetricsLookup: false\n</code></pre>"},{"location":"plugins/spectrocloud/auth/kubernetes-module/configure/#spectrocloud-cluster-provider","title":"SpectroCloud Cluster Provider","text":"<p>For auto-discovered clusters:</p> <pre><code>spectrocloud:\n  environments:\n    - name: production\n      url: https://console.spectrocloud.com\n      tenant: my-tenant\n      apiToken: ${SPECTROCLOUD_API_TOKEN}\n      clusterProvider:\n        authType: oidc\n        oidcAuthProviderName: spectrocloud  # Must be 'spectrocloud'\n</code></pre>"},{"location":"plugins/spectrocloud/auth/kubernetes-module/configure/#configuration-parameters","title":"Configuration Parameters","text":"Parameter Location Value Required <code>app.extensions[].disabled</code> app-config <code>true</code> Yes <code>authProvider</code> kubernetes cluster <code>'oidc'</code> Yes (per cluster) <code>oidcTokenProvider</code> kubernetes cluster <code>'spectrocloud'</code> Yes (per cluster) <code>authType</code> spectrocloud.clusterProvider <code>'oidc'</code> Yes (if using provider) <code>oidcAuthProviderName</code> spectrocloud.clusterProvider <code>'spectrocloud'</code> Optional (defaults to 'spectrocloud')"},{"location":"plugins/spectrocloud/auth/kubernetes-module/configure/#full-configuration-examples","title":"Full Configuration Examples","text":""},{"location":"plugins/spectrocloud/auth/kubernetes-module/configure/#example-1-spectrocloud-only","title":"Example 1: SpectroCloud-Only","text":"<pre><code>auth:\n  providers:\n    spectrocloud:\n      development:\n        clientId: ${SPECTROCLOUD_CLIENT_ID}\n        clientSecret: ${SPECTROCLOUD_CLIENT_SECRET}\n        authorizationUrl: https://console.spectrocloud.com/v1/oidc/tenant/abc123/auth\n        signIn:\n          resolvers:\n            - resolver: emailMatchingUserEntityProfileEmail\n\nspectrocloud:\n  environments:\n    - url: https://console.spectrocloud.com\n      tenant: abc123\n      apiToken: ${SPECTROCLOUD_API_TOKEN}\n      clusterProvider:\n        authType: oidc\n        oidcAuthProviderName: spectrocloud\n</code></pre>"},{"location":"plugins/spectrocloud/auth/kubernetes-module/configure/#example-2-mixed-authentication","title":"Example 2: Mixed Authentication","text":"<p>Support both OIDC and service account authentication:</p> <pre><code>kubernetes:\n  clusterLocatorMethods:\n    - type: 'config'\n      clusters:\n        # Legacy cluster with service account\n        - name: legacy-prod\n          url: https://legacy.example.com:6443\n          authProvider: 'serviceAccount'\n          serviceAccountToken: ${LEGACY_SA_TOKEN}\n          skipTLSVerify: true\n        # New cluster with OIDC\n        - name: new-prod\n          url: https://new.example.com:6443\n          authProvider: 'oidc'\n          oidcTokenProvider: 'spectrocloud'\n          skipTLSVerify: true\n\nspectrocloud:\n  environments:\n    - url: https://console.spectrocloud.com\n      tenant: my-tenant\n      apiToken: ${SPECTROCLOUD_API_TOKEN}\n      clusterProvider:\n        authType: oidc\n        includeProjects: [production]\n</code></pre>"},{"location":"plugins/spectrocloud/auth/kubernetes-module/configure/#example-3-multi-tenant-spectrocloud","title":"Example 3: Multi-Tenant SpectroCloud","text":"<pre><code>spectrocloud:\n  environments:\n    # US tenant - OIDC auth\n    - name: us\n      url: https://api-us.spectrocloud.com\n      tenant: us-tenant\n      apiToken: ${SPECTROCLOUD_US_TOKEN}\n      clusterProvider:\n        authType: oidc\n        includeProjects: [production]\n    # EU tenant - Service account auth (for legacy)\n    - name: eu\n      url: https://api-eu.spectrocloud.com\n      tenant: eu-tenant\n      apiToken: ${SPECTROCLOUD_EU_TOKEN}\n      clusterProvider:\n        authType: serviceAccount\n        includeProjects: [production]\n</code></pre>"},{"location":"plugins/spectrocloud/auth/kubernetes-module/configure/#example-4-multi-provider-oidc","title":"Example 4: Multi-Provider OIDC","text":"<p>Use different OIDC providers for different clusters:</p> <pre><code>kubernetes:\n  clusterLocatorMethods:\n    - type: 'config'\n      clusters:\n        # SpectroCloud OIDC\n        - name: spectro-managed\n          url: https://spectro.example.com:6443\n          authProvider: 'oidc'\n          oidcTokenProvider: 'spectrocloud'\n        # Google OIDC\n        - name: gke-cluster\n          url: https://gke.example.com:6443\n          authProvider: 'oidc'\n          oidcTokenProvider: 'google'\n        # Microsoft OIDC\n        - name: aks-cluster\n          url: https://aks.example.com:6443\n          authProvider: 'oidc'\n          oidcTokenProvider: 'microsoft'\n</code></pre>"},{"location":"plugins/spectrocloud/auth/kubernetes-module/configure/#cluster-discovery","title":"Cluster Discovery","text":""},{"location":"plugins/spectrocloud/auth/kubernetes-module/configure/#automatic-vs-manual","title":"Automatic vs Manual","text":"<p>Automatic (SpectroCloud Cluster Provider): - Clusters discovered automatically - Authentication configured via <code>clusterProvider.authType</code> - No manual cluster definitions needed - Clusters appear/disappear based on SpectroCloud state</p> <p>Manual (Config-Based): - Explicit cluster definitions - Full control over each cluster - Mix authentication types - Static configuration</p>"},{"location":"plugins/spectrocloud/auth/kubernetes-module/configure/#combining-both","title":"Combining Both","text":"<pre><code>kubernetes:\n  clusterLocatorMethods:\n    # Manual clusters\n    - type: 'config'\n      clusters:\n        - name: on-prem-cluster\n          url: https://onprem.example.com:6443\n          authProvider: 'serviceAccount'\n          serviceAccountToken: ${SA_TOKEN}\n\n# Plus auto-discovered SpectroCloud clusters\nspectrocloud:\n  environments:\n    - url: https://console.spectrocloud.com\n      tenant: my-tenant\n      apiToken: ${SPECTROCLOUD_API_TOKEN}\n      clusterProvider:\n        authType: oidc\n</code></pre>"},{"location":"plugins/spectrocloud/auth/kubernetes-module/configure/#kubernetes-rbac-configuration","title":"Kubernetes RBAC Configuration","text":"<p>When using OIDC, configure Kubernetes RBAC for your users:</p>"},{"location":"plugins/spectrocloud/auth/kubernetes-module/configure/#rolebinding-example","title":"RoleBinding Example","text":"<pre><code>apiVersion: rbac.authorization.k8s.io/v1\nkind: ClusterRoleBinding\nmetadata:\n  name: developers-view\nroleRef:\n  apiGroup: rbac.authorization.k8s.io\n  kind: ClusterRole\n  name: view\nsubjects:\n- kind: User\n  name: scott@terasky.com  # From SpectroCloud email claim\n  apiGroup: rbac.authorization.k8s.io\n</code></pre>"},{"location":"plugins/spectrocloud/auth/kubernetes-module/configure/#group-based-rbac","title":"Group-Based RBAC","text":"<pre><code>apiVersion: rbac.authorization.k8s.io/v1\nkind: ClusterRoleBinding\nmetadata:\n  name: platform-team-admin\nroleRef:\n  apiGroup: rbac.authorization.k8s.io\n  kind: ClusterRole\n  name: cluster-admin\nsubjects:\n- kind: Group\n  name: platform-team  # From SpectroCloud groups claim\n  apiGroup: rbac.authorization.k8s.io\n</code></pre>"},{"location":"plugins/spectrocloud/auth/kubernetes-module/configure/#troubleshooting","title":"Troubleshooting","text":""},{"location":"plugins/spectrocloud/auth/kubernetes-module/configure/#configuration-not-applied","title":"Configuration Not Applied","text":"<p>Check if default providers are disabled: <pre><code># Should return: disabled: true\ngrep -A 2 \"kubernetes-auth-providers\" app-config.yaml\n</code></pre></p> <p>Restart Backstage: <pre><code># Configuration changes require restart\nyarn dev\n</code></pre></p>"},{"location":"plugins/spectrocloud/auth/kubernetes-module/configure/#wrong-token-provider","title":"Wrong Token Provider","text":"<p>Verify cluster configuration: <pre><code>curl http://localhost:7007/api/kubernetes/clusters \\\n  -H \"Authorization: Bearer TOKEN\" \\\n  | jq '.items[] | {name, authProvider, oidcTokenProvider}'\n</code></pre></p> <p>All OIDC clusters should show: <pre><code>{\n  \"name\": \"cluster-name\",\n  \"authProvider\": \"oidc\",\n  \"oidcTokenProvider\": \"spectrocloud\"\n}\n</code></pre></p>"},{"location":"plugins/spectrocloud/auth/kubernetes-module/configure/#clusters-not-appearing","title":"Clusters Not Appearing","text":"<p>Check SpectroCloud cluster provider: - Verify API token is valid - Check project filters (includeProjects/excludeProjects) - Review backend logs for discovery errors</p> <p>Check manual cluster config: - Verify YAML syntax - Ensure clusters are in correct locator method - Check for typos in URLs</p>"},{"location":"plugins/spectrocloud/auth/kubernetes-module/configure/#authentication-failures","title":"Authentication Failures","text":"<p>Verify user is signed in: <pre><code>// In browser console\nconst authApi = await window.backstage.getApi('core.auth.spectrocloud');\nconst profile = await authApi.getProfile();\nconsole.log(profile.email);\n</code></pre></p> <p>Check ID token: <pre><code>const idToken = await authApi.getIdToken();\nconsole.log(idToken); // Should be RS256 JWT\n</code></pre></p>"},{"location":"plugins/spectrocloud/auth/kubernetes-module/configure/#performance-considerations","title":"Performance Considerations","text":""},{"location":"plugins/spectrocloud/auth/kubernetes-module/configure/#token-caching","title":"Token Caching","text":"<ul> <li>ID tokens are cached in session</li> <li>Tokens refreshed automatically on expiry</li> <li>No per-request authentication overhead</li> </ul>"},{"location":"plugins/spectrocloud/auth/kubernetes-module/configure/#cluster-discovery_1","title":"Cluster Discovery","text":"<ul> <li>SpectroCloud cluster provider caches cluster list</li> <li>Refresh interval configurable (default: 10 minutes)</li> <li>Updates happen in background</li> </ul>"},{"location":"plugins/spectrocloud/auth/kubernetes-module/configure/#security-best-practices","title":"Security Best Practices","text":"<ol> <li>Always use HTTPS in production</li> <li>Configure proper RBAC in clusters for users</li> <li>Enable audit logging in Kubernetes</li> <li>Monitor token usage through logs</li> <li>Review user permissions regularly</li> </ol>"},{"location":"plugins/spectrocloud/auth/kubernetes-module/configure/#next-steps","title":"Next Steps","text":"<ul> <li>Test authentication with real users</li> <li>Configure Kubernetes RBAC for your organization</li> <li>Review audit logs for user activity</li> <li>Consider migrating service account clusters to OIDC</li> </ul>"},{"location":"plugins/spectrocloud/auth/kubernetes-module/install/","title":"Installing the SpectroCloud Kubernetes Authentication Module","text":"<p>This guide will help you install the SpectroCloud Kubernetes authentication module to enable user-level OIDC authentication to Kubernetes clusters.</p>"},{"location":"plugins/spectrocloud/auth/kubernetes-module/install/#prerequisites","title":"Prerequisites","text":"<p>Before installing this module, ensure you have:</p> <ol> <li>A working Backstage instance (version 1.47.1 or later)</li> <li>Node.js 18+ and Yarn installed</li> <li>SpectroCloud backend auth module installed and configured (required)</li> <li>SpectroCloud frontend auth plugin installed (required)</li> <li>Kubernetes clusters configured with SpectroCloud OIDC</li> </ol>"},{"location":"plugins/spectrocloud/auth/kubernetes-module/install/#installation-steps","title":"Installation Steps","text":""},{"location":"plugins/spectrocloud/auth/kubernetes-module/install/#1-add-required-package","title":"1. Add Required Package","text":"<p>Install the package using your package manager:</p> <pre><code>yarn --cwd packages/app add @terasky/spectrocloud-kubernetes-auth-module\n</code></pre>"},{"location":"plugins/spectrocloud/auth/kubernetes-module/install/#2-automatic-discovery","title":"2. Automatic Discovery","text":"<p>The module is automatically discovered and loaded by Backstage. No manual wiring in <code>App.tsx</code> is needed!</p>"},{"location":"plugins/spectrocloud/auth/kubernetes-module/install/#3-disable-default-kubernetes-auth-providers","title":"3. Disable Default Kubernetes Auth Providers","text":"<p>Since this module replaces the default Kubernetes auth providers, you must disable the default in your configuration:</p> <pre><code># app-config.yaml\napp:\n  extensions:\n    # Disable the default Kubernetes auth providers\n    - plugin.kubernetes-auth-providers.service:\n        disabled: true\n</code></pre> <p>Important: This step is required to avoid <code>API_FACTORY_CONFLICT</code> errors.</p>"},{"location":"plugins/spectrocloud/auth/kubernetes-module/install/#4-configure-kubernetes-clusters-for-oidc","title":"4. Configure Kubernetes Clusters for OIDC","text":"<p>Update your Kubernetes cluster configurations to use SpectroCloud OIDC:</p> <pre><code>kubernetes:\n  clusters:\n    - name: my-cluster\n      url: https://my-cluster.example.com\n      authProvider: 'oidc'\n      oidcTokenProvider: 'spectrocloud'\n      skipTLSVerify: true  # For self-signed certs\n</code></pre> <p>Or with SpectroCloud Cluster Provider: <pre><code>spectrocloud:\n  environments:\n    - url: https://console.spectrocloud.com\n      tenant: my-tenant\n      apiToken: ${SPECTROCLOUD_API_TOKEN}\n      clusterProvider:\n        authType: oidc  # Use OIDC instead of service accounts\n        oidcAuthProviderName: spectrocloud\n</code></pre></p>"},{"location":"plugins/spectrocloud/auth/kubernetes-module/install/#verification","title":"Verification","text":"<p>After installation, verify the module is working:</p>"},{"location":"plugins/spectrocloud/auth/kubernetes-module/install/#1-check-dependencies","title":"1. Check Dependencies","text":"<pre><code>cat packages/app/package.json | grep spectrocloud-kubernetes-auth-module\n</code></pre> <p>Should show: <pre><code>\"@terasky/spectrocloud-kubernetes-auth-module\": \"^0.1.0\"\n</code></pre></p>"},{"location":"plugins/spectrocloud/auth/kubernetes-module/install/#2-verify-backend-configuration","title":"2. Verify Backend Configuration","text":"<pre><code>curl http://localhost:7007/api/kubernetes/clusters \\\n  -H \"Authorization: Bearer YOUR_TOKEN\"\n</code></pre> <p>Clusters should show: <pre><code>{\n  \"items\": [\n    {\n      \"name\": \"my-cluster\",\n      \"authProvider\": \"oidc\",\n      \"oidcTokenProvider\": \"spectrocloud\"\n    }\n  ]\n}\n</code></pre></p>"},{"location":"plugins/spectrocloud/auth/kubernetes-module/install/#3-test-kubernetes-access","title":"3. Test Kubernetes Access","text":"<ol> <li>Sign in to Backstage with SpectroCloud</li> <li>Navigate to a component with Kubernetes resources</li> <li>View the Kubernetes tab</li> <li>Verify resources load without errors</li> </ol>"},{"location":"plugins/spectrocloud/auth/kubernetes-module/install/#configuration-requirements","title":"Configuration Requirements","text":""},{"location":"plugins/spectrocloud/auth/kubernetes-module/install/#backend-auth-module","title":"Backend Auth Module","text":"<p>Must be configured with proper OIDC settings: <pre><code>auth:\n  providers:\n    spectrocloud:\n      development:\n        clientId: ${SPECTROCLOUD_CLIENT_ID}\n        clientSecret: ${SPECTROCLOUD_CLIENT_SECRET}\n        authorizationUrl: https://console.spectrocloud.com/v1/oidc/tenant/{tenant}/auth\n        callbackUrl: http://localhost:7007/api/auth/spectrocloud/handler/frame\n</code></pre></p>"},{"location":"plugins/spectrocloud/auth/kubernetes-module/install/#kubernetes-clusters","title":"Kubernetes Clusters","text":"<p>Clusters must support SpectroCloud OIDC: - Configure OIDC in cluster API server - Or use SpectroCloud-managed clusters (pre-configured)</p>"},{"location":"plugins/spectrocloud/auth/kubernetes-module/install/#spectrocloud-tenant","title":"SpectroCloud Tenant","text":"<p>OIDC must be enabled for your tenant: - Contact SpectroCloud support if OIDC is not available - Verify you can use kubectl with OIDC (test with <code>kubectl oidc-login</code>)</p>"},{"location":"plugins/spectrocloud/auth/kubernetes-module/install/#troubleshooting","title":"Troubleshooting","text":""},{"location":"plugins/spectrocloud/auth/kubernetes-module/install/#clusters-not-using-oidc","title":"Clusters Not Using OIDC","text":"<p>Clusters still showing as service account auth:</p> <p>Solution: Check cluster configuration: <pre><code>kubernetes:\n  clusters:\n    - name: my-cluster\n      authProvider: 'oidc'  # Must be set\n      oidcTokenProvider: 'spectrocloud'  # Must match module\n</code></pre></p>"},{"location":"plugins/spectrocloud/auth/kubernetes-module/install/#next-steps","title":"Next Steps","text":"<p>After successful installation:</p> <ol> <li>Configure Kubernetes clusters for OIDC</li> <li>Test cluster access with user credentials</li> <li>Optional: Configure SpectroCloud cluster provider for auto-discovery</li> <li>Review Kubernetes RBAC for user-level permissions</li> </ol> <p>Proceed to the Configuration Guide for detailed setup instructions.</p>"},{"location":"plugins/spectrocloud/backend/about/","title":"SpectroCloud Backend Plugin","text":""},{"location":"plugins/spectrocloud/backend/about/#overview","title":"Overview","text":"<p>The SpectroCloud Backend plugin provides comprehensive HTTP API endpoints for the frontend plugin, MCP actions for AI agents, and cluster creation capabilities. It handles secure communication with SpectroCloud Palette APIs, permission enforcement, data processing, and integrates with the SpectroCloud auth backend for user-scoped API access.</p>"},{"location":"plugins/spectrocloud/backend/about/#features","title":"Features","text":""},{"location":"plugins/spectrocloud/backend/about/#http-api-endpoints","title":"HTTP API Endpoints","text":""},{"location":"plugins/spectrocloud/backend/about/#cluster-operations","title":"Cluster Operations","text":"<ul> <li>List Clusters: Fetch all accessible clusters with basic metadata</li> <li>Cluster Details: Get complete cluster information including configuration</li> <li>Cluster Profiles: Retrieve attached profiles with pack metadata</li> <li>Kubeconfig Download: Secure kubeconfig retrieval with FRP (reverse proxy) support</li> <li>Pack Manifests: Fetch pack manifest content</li> <li>Cluster Creation: Deploy new clusters to multiple cloud types (EKS, AWS, AKS, Azure, vSphere)</li> </ul>"},{"location":"plugins/spectrocloud/backend/about/#virtual-cluster-operations","title":"Virtual Cluster Operations","text":"<ul> <li>List Virtual Clusters: Fetch all accessible virtual clusters with metadata</li> <li>Virtual Cluster Details: Get complete virtual cluster information including resource quotas</li> <li>Virtual Cluster Kubeconfig: Download kubeconfig for virtual clusters</li> <li>Virtual Cluster Creation: Deploy new virtual clusters within cluster groups</li> </ul>"},{"location":"plugins/spectrocloud/backend/about/#cluster-group-operations","title":"Cluster Group Operations","text":"<ul> <li>List Cluster Groups: Fetch all accessible cluster groups (host clusters only)</li> <li>Cluster Group Details: Fetch cluster group configuration including Helm values and settings</li> </ul>"},{"location":"plugins/spectrocloud/backend/about/#profile-operations","title":"Profile Operations","text":"<ul> <li>Profile Details: Fetch profile information</li> <li>Profile Search: Search profiles by name across instances</li> <li>Profile Packs: Retrieve pack configurations with values, schemas, and presets</li> <li>Profile Variables: Get profile-level variables</li> <li>Project Profiles: List profiles for a specific project</li> </ul>"},{"location":"plugins/spectrocloud/backend/about/#project-operations","title":"Project Operations","text":"<ul> <li>User Projects: Get projects accessible to the current user</li> <li>All Projects: List all projects</li> </ul>"},{"location":"plugins/spectrocloud/backend/about/#cloud-account-operations","title":"Cloud Account Operations","text":"<ul> <li>List Cloud Accounts: Fetch cloud accounts by type (AWS, Azure, vSphere)</li> <li>Cloud Account Details: Get specific cloud account information</li> <li>vSphere Metadata: Fetch datacenters, folders, and networks</li> <li>vSphere Compute Resources: Get datastores, networks, and resource pools</li> </ul>"},{"location":"plugins/spectrocloud/backend/about/#infrastructure-operations","title":"Infrastructure Operations","text":"<ul> <li>User SSH Keys: Retrieve user's SSH keys</li> <li>Overlords/PCGs: List private cloud gateways</li> <li>vSphere IP Pools: Fetch IP pools for vSphere deployments</li> </ul>"},{"location":"plugins/spectrocloud/backend/about/#authentication-health","title":"Authentication &amp; Health","text":"<ul> <li>Health Check: Unauthenticated endpoint for service health</li> <li>Auth Debug: Token presence and header debugging</li> </ul>"},{"location":"plugins/spectrocloud/backend/about/#cluster-creation","title":"Cluster Creation","text":"<p>The backend supports creating clusters on multiple cloud providers:</p> <ul> <li>Amazon EKS: Managed Kubernetes on AWS</li> <li>AWS (PXK): Palette eXtended Kubernetes on AWS EC2</li> <li>Azure AKS: Managed Kubernetes on Azure</li> <li>Azure (PXK): Palette eXtended Kubernetes on Azure VMs</li> <li>vSphere: VMware vSphere clusters with PCG/overlord support</li> <li>Virtual Clusters: Nested virtual clusters within cluster groups</li> </ul> <p>Physical Cluster Features: - Infrastructure and add-on profile attachment - Profile variable configuration - Worker pool configuration (instance types, sizes, labels, taints) - vSphere-specific configuration (datacenters, datastores, networks, IP pools) - Cluster tags and metadata</p> <p>Virtual Cluster Features: - Cluster group selection - Resource quota configuration (CPU cores, memory GiB, storage GiB) - Automatic endpoint type inheritance from cluster group - Simplified metadata (no tags or descriptions)</p>"},{"location":"plugins/spectrocloud/backend/about/#mcp-actions","title":"MCP Actions","text":"<p>The plugin provides MCP actions for AI agents. Some actions are entity-centric (they look up catalog entities by title); others accept UIDs or filters (e.g. <code>instanceName</code>, <code>projectUid</code>) and use the backend API token.</p>"},{"location":"plugins/spectrocloud/backend/about/#entity-centric-actions-catalog-lookup-by-title","title":"Entity-centric actions (catalog lookup by title)","text":"Action Name Description Permission Input <code>get_spectrocloud_health_for_cluster</code> Get real-time health status, detailed cluster state, node health, and any issues for a SpectroCloud cluster <code>viewClusterInfo</code> <code>clusterName</code> (cluster title) <code>get_spectrocloud_kubeconfig_for_cluster</code> Generate and download a kubeconfig file for the SpectroCloud cluster (client/OIDC access, not admin) <code>downloadKubeconfig</code> <code>clusterName</code> (cluster title), <code>frp?</code> (boolean, default true) <code>get_spectrocloud_pack_details_for_profile</code> Show what packs and versions are in a cluster profile <code>viewPackValues</code> <code>profileName</code> (profile title) <code>find_spectrocloud_clusters_for_profile</code> List all clusters using this cluster profile (reverse lookup) <code>viewProfileClusters</code> <code>profileName</code> (profile title)"},{"location":"plugins/spectrocloud/backend/about/#list-and-discovery-actions-optional-instancename-projectuid-where-applicable","title":"List and discovery actions (optional <code>instanceName</code>, <code>projectUid</code> where applicable)","text":"Action Name Description Permission Input <code>list_spectrocloud_clusters</code> List all SpectroCloud clusters (optionally by project) <code>viewClusterInfo</code> <code>instanceName?</code>, <code>projectUid?</code> <code>list_spectrocloud_virtual_clusters</code> List all SpectroCloud virtual clusters <code>viewClusterInfo</code> <code>instanceName?</code> <code>list_spectrocloud_projects</code> List all SpectroCloud projects <code>viewClusterInfo</code> <code>instanceName?</code> <code>list_spectrocloud_cluster_groups</code> List cluster groups (optionally by project) <code>viewClusterInfo</code> <code>instanceName?</code>, <code>projectUid?</code> <code>list_spectrocloud_cloud_accounts</code> List cloud accounts by type (e.g. aws, azure, vsphere) <code>viewClusterInfo</code> <code>cloudType</code>, <code>projectUid?</code>, <code>instanceName?</code>"},{"location":"plugins/spectrocloud/backend/about/#profile-actions","title":"Profile actions","text":"Action Name Description Permission Input <code>search_spectrocloud_profiles_by_names</code> Resolve profile UIDs and details by profile names <code>viewProfileInfo</code> <code>names</code> (string array), <code>projectUid?</code>, <code>instanceName?</code> <code>get_spectrocloud_profile_variables</code> Get variable definitions for a cluster profile <code>viewProfileInfo</code> <code>profileName?</code> (entity title) or <code>profileUid?</code>, <code>projectUid?</code>, <code>instanceName?</code> <code>list_spectrocloud_profiles_for_project</code> List cluster profiles in a project (optional cloud/type filter) <code>viewProfileInfo</code> <code>projectUid</code>, <code>cloudType?</code>, <code>profileType?</code>, <code>instanceName?</code>"},{"location":"plugins/spectrocloud/backend/about/#pack-and-cluster-profile-actions-cluster-by-name-or-uid","title":"Pack and cluster profile actions (cluster by name or UID)","text":"Action Name Description Permission Input <code>get_spectrocloud_pack_manifest_for_cluster</code> Get manifest content for a pack on a cluster <code>viewPackManifests</code> <code>clusterName?</code> or <code>clusterUid?</code>, <code>manifestUid</code>, <code>projectUid?</code>, <code>instanceName?</code> <code>get_spectrocloud_cluster_profiles</code> Get profiles and pack metadata attached to a cluster <code>viewPackValues</code> <code>clusterName?</code> or <code>clusterUid?</code>, <code>projectUid?</code>, <code>instanceName?</code>"},{"location":"plugins/spectrocloud/backend/about/#virtual-cluster-actions-uid-based","title":"Virtual cluster actions (UID-based)","text":"Action Name Description Permission Input <code>get_spectrocloud_virtual_cluster_details</code> Get health and details for a virtual cluster <code>viewClusterInfo</code> <code>virtualClusterUid</code>, <code>projectUid?</code>, <code>instanceName?</code> <code>get_spectrocloud_kubeconfig_for_virtual_cluster</code> Generate and download kubeconfig for a virtual cluster (client/OIDC access) <code>downloadKubeconfig</code> <code>virtualClusterUid</code>, <code>projectUid?</code>, <code>frp?</code>, <code>instanceName?</code>"},{"location":"plugins/spectrocloud/backend/about/#cluster-group-action","title":"Cluster group action","text":"Action Name Description Permission Input <code>get_spectrocloud_cluster_group</code> Get cluster group details by UID <code>viewClusterInfo</code> <code>clusterGroupUid</code>, <code>projectUid?</code>, <code>instanceName?</code> <p>Notes:</p> <ul> <li>Entity-centric actions use entity titles (<code>metadata.title</code>) to look up entities, not entity names. They resolve entities from the catalog with type <code>spectrocloud-cluster</code> or <code>spectrocloud-cluster-profile</code> and use annotations to call SpectroCloud APIs.</li> <li>List and UID-based actions use the backend API token (no user token in MCP context). Pass <code>instanceName</code> when multiple SpectroCloud environments are configured.</li> </ul>"},{"location":"plugins/spectrocloud/backend/about/#authentication-integration","title":"Authentication Integration","text":"<p>The backend integrates with the SpectroCloud auth backend for user-scoped API access:</p> <ul> <li>Token Cache: Shared in-memory cache of HS256 session tokens by user email</li> <li>Header-Based Auth: Accepts <code>X-SpectroCloud-Token</code> and <code>X-SpectroCloud-User-Email</code> headers</li> <li>Re-Auth Signaling: Returns <code>X-SpectroCloud-ReAuth-Required</code> header when token is missing</li> <li>Fallback Auth: Uses static API token when user token is unavailable</li> </ul>"},{"location":"plugins/spectrocloud/backend/about/#permission-management","title":"Permission Management","text":"<ul> <li>Seven Permissions: viewClusterInfo, downloadKubeconfig, viewPackValues, viewPackManifests, createCluster, viewProfileInfo, viewProfileClusters</li> <li>Fine-grained Access Control: Per-endpoint permission checks</li> <li>Integration with Backstage: Uses Backstage's permission framework</li> <li>Configurable Enforcement: Enable/disable via <code>spectrocloud.enablePermissions</code></li> <li>Service Credentials: Uses <code>auth.getOwnServiceCredentials()</code> for permission checks</li> </ul>"},{"location":"plugins/spectrocloud/backend/about/#multi-instance-support","title":"Multi-Instance Support","text":"<ul> <li>Multiple Environments: Connect to multiple SpectroCloud instances</li> <li>Instance Routing: Automatic routing based on <code>instance</code> query parameter or entity annotations</li> <li>Per-Instance Configuration: Separate URLs, tenants, and API tokens</li> <li>Unified API: Single API interface across all instances</li> </ul>"},{"location":"plugins/spectrocloud/backend/about/#technical-architecture","title":"Technical Architecture","text":""},{"location":"plugins/spectrocloud/backend/about/#api-routes","title":"API Routes","text":"<p>All routes are under the <code>spectrocloud</code> backend plugin base path.</p> Method Endpoint Description Permission GET <code>/health</code> Health check Unauthenticated GET <code>/auth/debug</code> Auth debug info Any GET <code>/users/me/projects</code> User's accessible projects User token GET <code>/clusters</code> List clusters <code>viewClusterInfo</code> GET <code>/clusters/:clusterUid</code> Cluster details <code>viewClusterInfo</code> GET <code>/clusters/:clusterUid/kubeconfig</code> Download kubeconfig <code>downloadKubeconfig</code> GET <code>/clusters/:clusterUid/profiles</code> Cluster profiles with packs <code>viewPackValues</code> GET <code>/clusters/:clusterUid/pack/manifests/:manifestUid</code> Pack manifest <code>viewPackManifests</code> POST <code>/clusters</code> Create cluster <code>createCluster</code> GET <code>/virtualclusters</code> List virtual clusters <code>viewClusterInfo</code> GET <code>/virtualclusters/:clusterUid</code> Virtual cluster details <code>viewClusterInfo</code> GET <code>/virtualclusters/:clusterUid/kubeconfig</code> Download virtual cluster kubeconfig <code>downloadKubeconfig</code> POST <code>/virtualclusters</code> Create virtual cluster <code>createCluster</code> GET <code>/clustergroups</code> List cluster groups (host clusters) <code>viewClusterInfo</code> GET <code>/clustergroups/:clusterGroupUid</code> Cluster group details <code>viewClusterInfo</code> GET <code>/projects</code> List projects <code>viewClusterInfo</code> GET <code>/profiles/:profileUid</code> Profile details <code>viewProfileInfo</code> POST <code>/profiles/search</code> Search profiles by name <code>viewProfileInfo</code> GET <code>/profiles/:profileUid/packs</code> Profile with pack details <code>viewPackValues</code> GET <code>/profiles/:profileUid/variables</code> Profile variables No permission GET <code>/projects/:projectUid/profiles</code> Project profiles <code>viewProfileInfo</code> GET <code>/cloudaccounts/:cloudType</code> Cloud accounts <code>viewClusterInfo</code> GET <code>/cloudaccounts/:cloudType/:accountUid</code> Cloud account details <code>viewClusterInfo</code> GET <code>/cloudaccounts/vsphere/:accountUid/metadata</code> vSphere metadata No permission GET <code>/cloudaccounts/vsphere/:accountUid/computecluster/resources</code> vSphere compute resources No permission GET <code>/users/sshkeys</code> User SSH keys No permission GET <code>/overlords</code> Overlords/PCGs No permission GET <code>/overlords/vsphere/:overlordUid/pools</code> vSphere IP pools No permission"},{"location":"plugins/spectrocloud/backend/about/#query-parameters","title":"Query Parameters","text":"<ul> <li><code>instance</code>: Instance name for multi-instance routing</li> <li><code>projectUid</code>: Project UID for project-scoped operations</li> <li><code>frp</code>: FRP (reverse proxy) mode for kubeconfig (default: <code>true</code>)</li> <li><code>cloudType</code>, <code>profileType</code>: Filtering parameters</li> <li><code>datacenter</code>, <code>computecluster</code>: vSphere resource filtering</li> </ul>"},{"location":"plugins/spectrocloud/backend/about/#spectrocloud-api-client","title":"SpectroCloud API Client","text":"<p>The <code>SpectroCloudClient</code> provides methods for interacting with SpectroCloud Palette API:</p> <p>Authentication: 1. <code>userToken</code> (OIDC/OAuth HS256 session token) if present 2. <code>apiToken</code> (static API key) as fallback</p> <p>Core Methods: - User &amp; Projects: <code>getUserInfo()</code>, <code>getAllProjects()</code>, <code>getProject()</code> - Clusters: <code>getAllClusters()</code>, <code>getCluster()</code>, <code>getClustersForProject()</code>, <code>getTenantClusters()</code>, <code>getClientKubeConfig()</code> - Virtual Clusters: <code>getAllVirtualClusters()</code>, <code>getVirtualCluster()</code>, <code>getVirtualClusterKubeConfig()</code>, <code>createVirtualCluster()</code> - Cluster Groups: <code>getClusterGroup()</code>, <code>getClusterGroups()</code> - Profiles: <code>getClusterProfile()</code>, <code>getProjectClusterProfiles()</code>, <code>searchClusterProfilesByName()</code>, <code>getClusterProfiles()</code>, <code>getProfileWithPacks()</code>, <code>getProfileVariables()</code>, <code>getPackManifest()</code> - Cloud Accounts: <code>getCloudAccounts()</code>, <code>getCloudAccount()</code>, <code>getVSphereCloudAccountMetadata()</code>, <code>getVSphereComputeClusterResources()</code> - Infrastructure: <code>getUserSSHKeys()</code>, <code>getOverlords()</code>, <code>getVSphereIPPools()</code> - Cluster Creation: <code>createEKSCluster()</code>, <code>createAWSCluster()</code>, <code>createAKSCluster()</code>, <code>createAzureCluster()</code>, <code>createVSphereCluster()</code></p>"},{"location":"plugins/spectrocloud/backend/about/#security-considerations","title":"Security Considerations","text":"<ul> <li>Authentication Required: All endpoints (except <code>/health</code>) require authentication</li> <li>Permission Checks: Per-endpoint checks when <code>enablePermissions</code> is true</li> <li>Secure Token Handling: Tokens never logged or exposed in errors</li> <li>No Sensitive Data: Error messages sanitized</li> <li>Service Credentials: Backend uses its own credentials for permission checks</li> <li>Token Cache Security: In-memory cache with expiration checking</li> </ul>"},{"location":"plugins/spectrocloud/backend/about/#integration-benefits","title":"Integration Benefits","text":""},{"location":"plugins/spectrocloud/backend/about/#unified-api-layer","title":"Unified API Layer","text":"<ul> <li>Single point of access for frontend</li> <li>Consistent error handling</li> <li>Request/response normalization</li> <li>Multi-instance abstraction</li> </ul>"},{"location":"plugins/spectrocloud/backend/about/#user-scoped-operations","title":"User-Scoped Operations","text":"<ul> <li>Per-user token resolution</li> <li>User-specific cluster and project access</li> <li>Audit trail via user identity</li> </ul>"},{"location":"plugins/spectrocloud/backend/about/#ai-agent-support","title":"AI Agent Support","text":"<ul> <li>Programmatic access via MCP actions</li> <li>Entity-context aware operations</li> <li>Comprehensive action coverage</li> <li>Catalog-backed entity resolution</li> </ul>"},{"location":"plugins/spectrocloud/backend/about/#security","title":"Security","text":"<ul> <li>Centralized permission enforcement</li> <li>Audit logging capabilities</li> <li>Secure credential management</li> <li>Token expiration handling</li> </ul>"},{"location":"plugins/spectrocloud/backend/about/#use-cases","title":"Use Cases","text":""},{"location":"plugins/spectrocloud/backend/about/#frontend-integration","title":"Frontend Integration","text":"<ul> <li>Power the cluster, profile, virtual cluster, and cluster group cards</li> <li>Provide real-time data fetching</li> <li>Handle kubeconfig downloads securely (clusters and virtual clusters)</li> <li>Enable cluster deployment wizard (physical and virtual clusters)</li> <li>Support cluster viewer and virtual cluster viewer pages</li> <li>Provide cluster group configuration details and listing</li> </ul>"},{"location":"plugins/spectrocloud/backend/about/#cluster-lifecycle-management","title":"Cluster Lifecycle Management","text":"<ul> <li>Self-service cluster creation (physical and virtual)</li> <li>Multi-cloud deployments</li> <li>Virtual cluster creation within cluster groups</li> <li>Infrastructure profile selection</li> <li>Worker pool configuration</li> <li>Resource quota management for virtual clusters</li> </ul>"},{"location":"plugins/spectrocloud/backend/about/#ai-automation","title":"AI Automation","text":"<ul> <li>Automated cluster health monitoring and cluster listing</li> <li>Programmatic kubeconfig generation (clusters and virtual clusters)</li> <li>Profile analysis, profile search by name, profile variables, and project profiles</li> <li>Cluster-profile relationship discovery</li> <li>Pack manifest and cluster profile inspection</li> <li>Virtual cluster details and kubeconfig</li> <li>Cluster group and cloud account discovery</li> </ul>"},{"location":"plugins/spectrocloud/backend/about/#devops-workflows","title":"DevOps Workflows","text":"<ul> <li>Integrate with CI/CD pipelines</li> <li>Automate cluster operations</li> <li>Generate reports on cluster states</li> <li>Track profile usage across clusters</li> </ul>"},{"location":"plugins/spectrocloud/backend/configure/","title":"Configuring the SpectroCloud Backend Plugin","text":"<p>The SpectroCloud backend plugin integrates with Backstage's permission framework and provides configuration options for SpectroCloud connectivity.</p>"},{"location":"plugins/spectrocloud/backend/configure/#configuration-structure","title":"Configuration Structure","text":"<pre><code>spectrocloud:\n  annotationPrefix: terasky.backstage.io  # Optional\n  enablePermissions: true  # Enable permission checks\n  environments:\n    - name: production\n      url: https://api.spectrocloud.com\n      tenant: my-tenant\n      apiToken: ${SPECTROCLOUD_API_TOKEN}\n    - name: staging\n      url: https://api-staging.spectrocloud.com\n      tenant: staging-tenant\n      apiToken: ${SPECTROCLOUD_STAGING_TOKEN}\n</code></pre>"},{"location":"plugins/spectrocloud/backend/configure/#configuration-parameters","title":"Configuration Parameters","text":"Parameter Type Default Description <code>annotationPrefix</code> string <code>terasky.backstage.io</code> Prefix for entity annotations <code>enablePermissions</code> boolean <code>false</code> Enable permission checks <code>environments</code> array required SpectroCloud environment configurations <code>environments[].name</code> string optional Instance name for multi-instance setups <code>environments[].url</code> string required SpectroCloud API URL <code>environments[].tenant</code> string required SpectroCloud tenant name <code>environments[].apiToken</code> string required SpectroCloud API token"},{"location":"plugins/spectrocloud/backend/configure/#available-permissions","title":"Available Permissions","text":"<p>The plugin provides the following permissions for managing SpectroCloud resources:</p>"},{"location":"plugins/spectrocloud/backend/configure/#cluster-permissions","title":"Cluster Permissions","text":"<ul> <li><code>spectrocloud.cluster.view-info</code>: View basic cluster information, list clusters, and access projects/cloud accounts</li> <li><code>spectrocloud.cluster.download-kubeconfig</code>: Download cluster kubeconfig files</li> <li><code>spectrocloud.cluster.view-pack-values</code>: View pack configuration values and schemas</li> <li><code>spectrocloud.cluster.view-pack-manifests</code>: View pack manifest content</li> <li><code>spectrocloud.cluster.create</code>: Create new clusters</li> </ul>"},{"location":"plugins/spectrocloud/backend/configure/#profile-permissions","title":"Profile Permissions","text":"<ul> <li><code>spectrocloud.profile.view-info</code>: View profile information and search profiles</li> <li><code>spectrocloud.profile.view-clusters</code>: View clusters using a profile (MCP action)</li> </ul>"},{"location":"plugins/spectrocloud/backend/configure/#permission-policy-configuration","title":"Permission Policy Configuration","text":""},{"location":"plugins/spectrocloud/backend/configure/#using-the-community-rbac-plugin","title":"Using the Community RBAC Plugin","text":"<p>You can use the RBAC plugins from the Backstage community to manage permissions via the UI or a CSV file.</p> <p>app-config.yaml snippet <pre><code>permission:\n  enabled: true\n  rbac:\n    policies-csv-file: /path/to/permissions.csv\n    policyFileReload: true\n    pluginsWithPermission:\n      - kubernetes\n      - spectrocloud\n</code></pre></p> <p>CSV file snippet <pre><code># Platform team - full access\np, role:default/platform-team, spectrocloud.cluster.view-info, read, allow\np, role:default/platform-team, spectrocloud.cluster.download-kubeconfig, read, allow\np, role:default/platform-team, spectrocloud.cluster.view-pack-values, read, allow\np, role:default/platform-team, spectrocloud.cluster.view-pack-manifests, read, allow\np, role:default/platform-team, spectrocloud.cluster.create, create, allow\np, role:default/platform-team, spectrocloud.profile.view-info, read, allow\np, role:default/platform-team, spectrocloud.profile.view-clusters, read, allow\n\n# Developers - read-only access\np, role:default/developers, spectrocloud.cluster.view-info, read, allow\np, role:default/developers, spectrocloud.profile.view-info, read, allow\n\n# Role assignments\ng, group:default/platform-engineers, role:default/platform-team\ng, group:default/all-developers, role:default/developers\n</code></pre></p>"},{"location":"plugins/spectrocloud/backend/configure/#custom-permission-policy","title":"Custom Permission Policy","text":"<pre><code>// packages/backend/src/plugins/permission.ts\nimport { \n  viewClusterInfoPermission,\n  downloadKubeconfigPermission,\n} from '@terasky/backstage-plugin-spectrocloud-common';\n\nclass SpectroCloudPermissionPolicy implements PermissionPolicy {\n  async handle(\n    request: PolicyQuery,\n    user?: BackstageIdentityResponse,\n  ): Promise&lt;PolicyDecision&gt; {\n    // Allow all cluster info viewing\n    if (isPermission(request.permission, viewClusterInfoPermission)) {\n      return { result: AuthorizeResult.ALLOW };\n    }\n\n    // Restrict kubeconfig downloads to platform team\n    if (isPermission(request.permission, downloadKubeconfigPermission)) {\n      const isPlatformTeam = user?.identity.ownershipEntityRefs.some(\n        ref =&gt; ref === 'group:default/platform-team'\n      );\n      return { \n        result: isPlatformTeam ? AuthorizeResult.ALLOW : AuthorizeResult.DENY \n      };\n    }\n\n    return { result: AuthorizeResult.DENY };\n  }\n}\n</code></pre>"},{"location":"plugins/spectrocloud/backend/configure/#mcp-actions-configuration","title":"MCP Actions Configuration","text":"<p>To enable MCP actions for AI agents, add the plugin to your actions configuration:</p> <pre><code>backend:\n  actions:\n    pluginSources:\n      - 'catalog'\n      - 'spectrocloud'\n</code></pre>"},{"location":"plugins/spectrocloud/backend/configure/#available-mcp-actions","title":"Available MCP Actions","text":"Action Description Inputs Permission <code>get_spectrocloud_health_for_cluster</code> Get real-time health status and detailed cluster state <code>clusterName</code> (string - entity title) <code>viewClusterInfo</code> <code>get_spectrocloud_kubeconfig_for_cluster</code> Generate kubeconfig file (client/OIDC access) <code>clusterName</code> (string - entity title), <code>frp</code> (boolean, optional, default true) <code>downloadKubeconfig</code> <code>get_spectrocloud_pack_details_for_profile</code> Show packs and versions in a cluster profile <code>profileName</code> (string - entity title) <code>viewPackValues</code> <code>find_spectrocloud_clusters_for_profile</code> List all clusters using this cluster profile <code>profileName</code> (string - entity title) <code>viewProfileClusters</code> <code>list_spectrocloud_clusters</code> List all SpectroCloud clusters (optionally by project) <code>instanceName</code> (optional), <code>projectUid</code> (optional) <code>viewClusterInfo</code> <code>list_spectrocloud_virtual_clusters</code> List all SpectroCloud virtual clusters <code>instanceName</code> (optional) <code>viewClusterInfo</code> <code>list_spectrocloud_projects</code> List all SpectroCloud projects <code>instanceName</code> (optional) <code>viewClusterInfo</code> <code>list_spectrocloud_cluster_groups</code> List cluster groups (optionally by project) <code>instanceName</code> (optional), <code>projectUid</code> (optional) <code>viewClusterInfo</code> <code>list_spectrocloud_cloud_accounts</code> List cloud accounts by type (e.g. aws, azure, vsphere) <code>cloudType</code> (string), <code>projectUid</code> (optional), <code>instanceName</code> (optional) <code>viewClusterInfo</code> <code>search_spectrocloud_profiles_by_names</code> Resolve profile UIDs and details by profile names <code>names</code> (string array), <code>projectUid</code> (optional), <code>instanceName</code> (optional) <code>viewProfileInfo</code> <code>get_spectrocloud_profile_variables</code> Get variable definitions for a cluster profile <code>profileName</code> (optional - entity title) or <code>profileUid</code> (optional), <code>projectUid</code> (optional), <code>instanceName</code> (optional) <code>viewProfileInfo</code> <code>list_spectrocloud_profiles_for_project</code> List cluster profiles in a project <code>projectUid</code> (string), <code>cloudType</code> (optional), <code>profileType</code> (optional), <code>instanceName</code> (optional) <code>viewProfileInfo</code> <code>get_spectrocloud_pack_manifest_for_cluster</code> Get manifest content for a pack on a cluster <code>clusterName</code> (optional) or <code>clusterUid</code> (optional), <code>manifestUid</code> (string), <code>projectUid</code> (optional), <code>instanceName</code> (optional) <code>viewPackManifests</code> <code>get_spectrocloud_cluster_profiles</code> Get profiles and pack metadata attached to a cluster <code>clusterName</code> (optional) or <code>clusterUid</code> (optional), <code>projectUid</code> (optional), <code>instanceName</code> (optional) <code>viewPackValues</code> <code>get_spectrocloud_virtual_cluster_details</code> Get health and details for a virtual cluster <code>virtualClusterUid</code> (string), <code>projectUid</code> (optional), <code>instanceName</code> (optional) <code>viewClusterInfo</code> <code>get_spectrocloud_kubeconfig_for_virtual_cluster</code> Generate kubeconfig for a virtual cluster (client/OIDC access) <code>virtualClusterUid</code> (string), <code>projectUid</code> (optional), <code>frp</code> (optional), <code>instanceName</code> (optional) <code>downloadKubeconfig</code> <code>get_spectrocloud_cluster_group</code> Get cluster group details by UID <code>clusterGroupUid</code> (string), <code>projectUid</code> (optional), <code>instanceName</code> (optional) <code>viewClusterInfo</code> <p>Notes:</p> <ul> <li>Entity-centric actions (e.g. <code>get_spectrocloud_health_for_cluster</code>, <code>get_spectrocloud_pack_details_for_profile</code>) use entity titles (<code>metadata.title</code>) to look up entities in the catalog, not entity names. They search for entities with <code>kind: Resource</code> and <code>spec.type</code> of either <code>spectrocloud-cluster</code> or <code>spectrocloud-cluster-profile</code>.</li> <li>List and UID-based actions use the backend API token. When multiple SpectroCloud environments are configured, pass <code>instanceName</code> to target a specific instance.</li> </ul>"},{"location":"plugins/spectrocloud/backend/configure/#multi-instance-configuration","title":"Multi-Instance Configuration","text":"<p>When connecting to multiple SpectroCloud environments:</p> <pre><code>spectrocloud:\n  environments:\n    - name: prod-us\n      url: https://api-us.spectrocloud.com\n      tenant: us-tenant\n      apiToken: ${SPECTROCLOUD_US_TOKEN}\n    - name: prod-eu\n      url: https://api-eu.spectrocloud.com\n      tenant: eu-tenant\n      apiToken: ${SPECTROCLOUD_EU_TOKEN}\n</code></pre> <p>The backend automatically routes requests to the correct instance based on: 1. The <code>instance</code> query parameter on API requests 2. The <code>instance</code> annotation on catalog entities (for MCP actions)</p>"},{"location":"plugins/spectrocloud/backend/configure/#authentication-configuration","title":"Authentication Configuration","text":"<p>The backend integrates with the SpectroCloud auth backend for user-scoped API access.</p>"},{"location":"plugins/spectrocloud/backend/configure/#token-resolution","title":"Token Resolution","text":"<p>The backend accepts authentication via request headers:</p> <pre><code>X-SpectroCloud-User-Email: user@example.com\nX-SpectroCloud-Token: &lt;hs256-session-token&gt;\n</code></pre> <p>Token Resolution Flow: 1. Backend reads <code>X-SpectroCloud-User-Email</code> header 2. Looks up HS256 session token in shared cache by email 3. Falls back to <code>X-SpectroCloud-Token</code> if provided directly 4. Falls back to static <code>apiToken</code> from config if no user token 5. Returns <code>X-SpectroCloud-ReAuth-Required: true</code> if cache miss</p>"},{"location":"plugins/spectrocloud/backend/configure/#token-cache","title":"Token Cache","text":"<p>The backend shares a global in-memory token cache with the auth backend:</p> <ul> <li>Storage: Global <code>Map</code> keyed by user email</li> <li>Values: <code>{ token: string, expiresAt: number }</code></li> <li>Expiration: Automatic removal of expired tokens</li> <li>Scope: Process-local (not distributed)</li> </ul> <p>Functions: - <code>storeSessionToken(email, token, expiresAt)</code>: Store/update token - <code>getSessionTokenByEmail(email)</code>: Retrieve valid token</p>"},{"location":"plugins/spectrocloud/backend/configure/#re-authentication","title":"Re-Authentication","text":"<p>When a user's token is not in the cache: 1. Backend returns <code>X-SpectroCloud-ReAuth-Required: true</code> header 2. Frontend detects this header 3. Frontend triggers sign-out/re-authentication flow 4. User authenticates via OIDC 5. Auth backend stores new token in cache 6. Subsequent requests succeed</p>"},{"location":"plugins/spectrocloud/backend/configure/#cluster-creation-configuration","title":"Cluster Creation Configuration","text":"<p>The backend supports creating clusters on multiple cloud types:</p>"},{"location":"plugins/spectrocloud/backend/configure/#supported-cloud-types","title":"Supported Cloud Types","text":"Cloud Type Value Description Amazon EKS <code>eks</code> Managed Kubernetes on AWS AWS PXK <code>aws</code> Palette eXtended Kubernetes on AWS EC2 Azure AKS <code>aks</code> Managed Kubernetes on Azure Azure PXK <code>azure</code> Palette eXtended Kubernetes on Azure VMs vSphere <code>vsphere</code> VMware vSphere with PCG/overlord"},{"location":"plugins/spectrocloud/backend/configure/#cluster-creation-api","title":"Cluster Creation API","text":"<p>Endpoint: <code>POST /spectrocloud/clusters</code></p> <p>Request Body: <pre><code>{\n  \"cloudType\": \"eks|aws|aks|azure|vsphere\",\n  \"name\": \"my-cluster\",\n  \"description\": \"Cluster description\",\n  \"tags\": [\"tag1\", \"tag2\"],\n  \"cloudAccountUid\": \"account-uid\",\n  \"profileUids\": [\"infra-profile-uid\", \"addon-profile-uid\"],\n  \"profileVariables\": { \"key\": \"value\" },\n  \"clusterVariables\": { \"key\": \"value\" },\n  \"machinePoolConfig\": [\n    {\n      \"name\": \"worker-pool-1\",\n      \"instanceType\": \"t3.medium\",\n      \"count\": 3,\n      \"labels\": { \"role\": \"worker\" },\n      \"taints\": []\n    }\n  ],\n  // vSphere-specific\n  \"vsphere\": {\n    \"datacenter\": \"dc1\",\n    \"folder\": \"folder1\",\n    \"resourcePool\": \"pool1\",\n    \"datastore\": \"ds1\",\n    \"network\": \"network1\",\n    \"ipPoolUid\": \"pool-uid\"\n  }\n}\n</code></pre></p> <p>Query Parameters: - <code>projectUid</code>: Project UID (optional for user's default project) - <code>instance</code>: Instance name (optional for single-instance setups)</p>"},{"location":"plugins/spectrocloud/backend/configure/#best-practices","title":"Best Practices","text":""},{"location":"plugins/spectrocloud/backend/configure/#security","title":"Security","text":"<ol> <li>Use environment variables for API tokens</li> <li>Enable permissions in production</li> <li>Follow least-privilege principle for kubeconfig access</li> <li>Restrict cluster creation permission to authorized users</li> <li>Regularly rotate API tokens</li> <li>Use static API tokens with read-only permissions where possible</li> <li>Monitor token cache for expired entries</li> <li>Implement audit logging for sensitive operations</li> </ol>"},{"location":"plugins/spectrocloud/backend/configure/#performance","title":"Performance","text":"<ol> <li>Configure appropriate timeouts for API calls</li> <li>Monitor SpectroCloud API rate limits</li> <li>Token cache reduces API calls for user authentication</li> <li>Consider implementing request caching for frequently accessed data</li> <li>Use pagination for large result sets</li> </ol>"},{"location":"plugins/spectrocloud/backend/configure/#monitoring","title":"Monitoring","text":"<ol> <li>Enable backend logging for troubleshooting</li> <li>Monitor API endpoint health (<code>/health</code> endpoint)</li> <li>Track permission denials for security auditing</li> <li>Set up alerts for API failures</li> <li>Monitor token cache hit/miss rates</li> <li>Track cluster creation success/failure rates</li> <li>Log re-authentication requirements</li> </ol>"},{"location":"plugins/spectrocloud/backend/configure/#advanced-configuration","title":"Advanced Configuration","text":""},{"location":"plugins/spectrocloud/backend/configure/#custom-permission-policy_1","title":"Custom Permission Policy","text":"<p>For more complex permission logic, implement a custom permission policy:</p> <pre><code>// packages/backend/src/plugins/permission.ts\nimport {\n  viewClusterInfoPermission,\n  downloadKubeconfigPermission,\n  createClusterPermission,\n  viewPackValuesPermission,\n  viewPackManifestsPermission,\n  viewProfileInfoPermission,\n  viewProfileClustersPermission,\n} from '@terasky/backstage-plugin-spectrocloud-common';\nimport { isPermission } from '@backstage/plugin-permission-common';\n\nclass SpectroCloudPermissionPolicy implements PermissionPolicy {\n  async handle(\n    request: PolicyQuery,\n    user?: BackstageIdentityResponse,\n  ): Promise&lt;PolicyDecision&gt; {\n    // Allow all to view cluster info\n    if (isPermission(request.permission, viewClusterInfoPermission)) {\n      return { result: AuthorizeResult.ALLOW };\n    }\n\n    // Platform team gets full access\n    const isPlatformTeam = user?.identity.ownershipEntityRefs.some(\n      ref =&gt; ref === 'group:default/platform-team'\n    );\n\n    if (isPlatformTeam) {\n      return { result: AuthorizeResult.ALLOW };\n    }\n\n    // Restrict kubeconfig and cluster creation\n    if (\n      isPermission(request.permission, downloadKubeconfigPermission) ||\n      isPermission(request.permission, createClusterPermission)\n    ) {\n      return { result: AuthorizeResult.DENY };\n    }\n\n    // Developers can view profiles and pack values\n    if (\n      isPermission(request.permission, viewProfileInfoPermission) ||\n      isPermission(request.permission, viewPackValuesPermission)\n    ) {\n      return { result: AuthorizeResult.ALLOW };\n    }\n\n    return { result: AuthorizeResult.DENY };\n  }\n}\n</code></pre>"},{"location":"plugins/spectrocloud/backend/configure/#environment-specific-configuration","title":"Environment-Specific Configuration","text":"<p>Configure different settings per environment:</p> <pre><code>spectrocloud:\n  annotationPrefix: terasky.backstage.io\n  enablePermissions: ${SPECTROCLOUD_ENABLE_PERMISSIONS:-true}\n  environments:\n    # Production environment\n    - name: prod\n      url: ${SPECTROCLOUD_PROD_URL}\n      tenant: ${SPECTROCLOUD_PROD_TENANT}\n      apiToken: ${SPECTROCLOUD_PROD_TOKEN}\n\n    # Staging environment\n    - name: staging\n      url: ${SPECTROCLOUD_STAGING_URL}\n      tenant: ${SPECTROCLOUD_STAGING_TENANT}\n      apiToken: ${SPECTROCLOUD_STAGING_TOKEN}\n\n    # Development environment\n    - name: dev\n      url: ${SPECTROCLOUD_DEV_URL}\n      tenant: ${SPECTROCLOUD_DEV_TENANT}\n      apiToken: ${SPECTROCLOUD_DEV_TOKEN}\n</code></pre>"},{"location":"plugins/spectrocloud/backend/configure/#troubleshooting","title":"Troubleshooting","text":""},{"location":"plugins/spectrocloud/backend/configure/#common-issues","title":"Common Issues","text":"<ol> <li>API Connection Failures</li> <li>Verify URL and tenant are correct</li> <li>Check API token validity</li> <li>Review network connectivity</li> <li> <p>Check firewall rules</p> </li> <li> <p>Permission Denied</p> </li> <li>Check <code>enablePermissions</code> setting</li> <li>Verify user's permission policies</li> <li>Review backend logs for authorization failures</li> <li> <p>Confirm RBAC configuration is loaded</p> </li> <li> <p>Instance Routing Issues</p> </li> <li>Verify <code>instance</code> annotation on entities matches config</li> <li>Check environment name matches exactly</li> <li> <p>Review query parameters in API requests</p> </li> <li> <p>Authentication Issues</p> </li> <li>Check token cache is populated (auth backend must be running)</li> <li>Verify <code>X-SpectroCloud-User-Email</code> header is sent</li> <li>Check user has valid OIDC session</li> <li> <p>Review auth backend logs</p> </li> <li> <p>Cluster Creation Failures</p> </li> <li>Verify user has <code>createCluster</code> permission</li> <li>Check cloud account is valid and accessible</li> <li>Confirm profiles exist and are published</li> <li>Review SpectroCloud API error messages</li> <li> <p>Validate infrastructure configuration</p> </li> <li> <p>Token Cache Issues</p> </li> <li>Token cache is in-memory and lost on restart</li> <li>Not shared across backend instances (use sticky sessions)</li> <li>Check token expiration times</li> <li> <p>Verify auth backend is storing tokens correctly</p> </li> <li> <p>vSphere Deployment Issues</p> </li> <li>Confirm overlord/PCG is accessible</li> <li>Verify datacenter, datastore, and network names</li> <li>Check IP pool has available addresses</li> <li> <p>Validate compute cluster resources</p> </li> <li> <p>MCP Action Failures</p> </li> <li>Verify entity exists in catalog with correct type</li> <li>Check entity has required annotations</li> <li>Confirm entity title matches input parameter</li> <li>Review permission for the specific action</li> </ol>"},{"location":"plugins/spectrocloud/backend/install/","title":"Installing the SpectroCloud Backend Plugin","text":"<p>This guide will help you install and set up the SpectroCloud backend plugin in your Backstage instance.</p>"},{"location":"plugins/spectrocloud/backend/install/#prerequisites","title":"Prerequisites","text":"<p>Before installing the backend plugin, ensure you have:</p> <ol> <li>A working Backstage instance</li> <li>Node.js and npm/yarn installed</li> <li>Access to your Backstage backend configuration</li> <li>SpectroCloud Palette API credentials</li> </ol>"},{"location":"plugins/spectrocloud/backend/install/#installation-steps","title":"Installation Steps","text":""},{"location":"plugins/spectrocloud/backend/install/#1-add-required-packages","title":"1. Add Required Packages","text":"<p>Install the required packages using your package manager:</p> <pre><code>yarn --cwd packages/backend add @terasky/backstage-plugin-spectrocloud-backend @terasky/backstage-plugin-spectrocloud-common\n</code></pre>"},{"location":"plugins/spectrocloud/backend/install/#2-add-to-backend","title":"2. Add to Backend","text":"<p>Modify your backend entry point (typically <code>packages/backend/src/index.ts</code>):</p> <pre><code>// In your backend initialization\nbackend.add(import('@terasky/backstage-plugin-spectrocloud-backend'));\n</code></pre>"},{"location":"plugins/spectrocloud/backend/install/#3-configure-spectrocloud-connection","title":"3. Configure SpectroCloud Connection","text":"<p>Add the following to your <code>app-config.yaml</code>:</p> <pre><code>spectrocloud:\n  enablePermissions: false  # Set to true to enable permission checks\n  environments:\n    - name: production\n      url: https://api.spectrocloud.com\n      tenant: my-tenant\n      apiToken: ${SPECTROCLOUD_API_TOKEN}\n</code></pre>"},{"location":"plugins/spectrocloud/backend/install/#verification","title":"Verification","text":"<p>After installation, verify that:</p> <ol> <li>The plugin appears in your package.json dependencies</li> <li>The backend starts without errors</li> <li>API endpoints are accessible</li> <li>SpectroCloud API connection works</li> </ol>"},{"location":"plugins/spectrocloud/backend/install/#testing-the-installation","title":"Testing the Installation","text":"<ol> <li> <p>Check Backend Health <pre><code>curl http://localhost:7007/api/spectrocloud/health\n</code></pre></p> </li> <li> <p>Test API Endpoint <pre><code># With a valid cluster UID\ncurl http://localhost:7007/api/spectrocloud/clusters/{clusterUid}\n</code></pre></p> </li> <li> <p>Check Backend Logs    Look for successful plugin initialization messages</p> </li> </ol>"},{"location":"plugins/spectrocloud/backend/install/#troubleshooting","title":"Troubleshooting","text":"<p>Common issues and solutions:</p>"},{"location":"plugins/spectrocloud/backend/install/#1-backend-startup-issues","title":"1. Backend Startup Issues","text":"<pre><code># Check backend logs\nyarn workspace backend start --verbose\n</code></pre>"},{"location":"plugins/spectrocloud/backend/install/#2-api-connection-issues","title":"2. API Connection Issues","text":"<ul> <li>Verify SpectroCloud API URL is correct</li> <li>Check API token is valid</li> <li>Ensure tenant name is correct</li> <li>Review network connectivity</li> </ul>"},{"location":"plugins/spectrocloud/backend/install/#3-permission-framework-issues","title":"3. Permission Framework Issues","text":"<ul> <li>Verify permission framework is enabled in Backstage</li> <li>Check permission policy configuration</li> <li>Review backend plugin configuration</li> </ul>"},{"location":"plugins/spectrocloud/backend/install/#4-missing-common-package","title":"4. Missing Common Package","text":"<p>If you see errors about missing types: <pre><code>yarn --cwd packages/backend add @terasky/backstage-plugin-spectrocloud-common\n</code></pre></p>"},{"location":"plugins/spectrocloud/backend/install/#next-steps","title":"Next Steps","text":"<p>After successful installation:</p> <ol> <li>Configure permission policies (if using permissions)</li> <li>Set up MCP actions for AI agents</li> <li>Install the frontend plugin</li> <li>Install the ingestor plugin for catalog entities</li> </ol> <p>Proceed to the Configuration Guide for detailed setup instructions.</p>"},{"location":"plugins/spectrocloud/cluster-provider/about/","title":"SpectroCloud Cluster Provider Plugin","text":""},{"location":"plugins/spectrocloud/cluster-provider/about/#overview","title":"Overview","text":"<p>The SpectroCloud Cluster Provider plugin is a Kubernetes cluster supplier that automatically discovers and configures clusters from SpectroCloud Palette for use with the Backstage Kubernetes plugin.</p>"},{"location":"plugins/spectrocloud/cluster-provider/about/#features","title":"Features","text":""},{"location":"plugins/spectrocloud/cluster-provider/about/#cluster-discovery","title":"Cluster Discovery","text":"<ul> <li>Automatic cluster enumeration from SpectroCloud</li> <li>Project-based filtering</li> <li>Multi-instance support</li> <li>Tenant and project-scoped cluster support</li> </ul>"},{"location":"plugins/spectrocloud/cluster-provider/about/#authentication-modes","title":"Authentication Modes","text":"<p>The plugin supports two authentication methods:</p> <p>Service Account Mode (Default) - Creates dedicated namespace (<code>backstage-system</code>) - Creates service account (<code>backstage-sa</code>) - Creates read-only ClusterRole - Manages service account tokens - Read-only access (get, list, watch only)</p> <p>OIDC Mode - No resources created in clusters - User-level authentication - Uses SpectroCloud identity tokens - Audit trail with actual user names - Requires SpectroCloud authentication backend module</p>"},{"location":"plugins/spectrocloud/cluster-provider/about/#security","title":"Security","text":"<ul> <li>Configurable RBAC rules</li> <li>Minimal permissions by default</li> <li>Support for custom ClusterRole rules</li> <li>Isolated namespace (service account mode)</li> <li>User-level access control (OIDC mode)</li> </ul>"},{"location":"plugins/spectrocloud/cluster-provider/about/#technical-details","title":"Technical Details","text":""},{"location":"plugins/spectrocloud/cluster-provider/about/#service-account-mode-default","title":"Service Account Mode (Default)","text":"<p>Resources Created: 1. Namespace: <code>backstage-system</code> 2. ServiceAccount: <code>backstage-sa</code> 3. Secret: Service account token 4. ClusterRole: <code>backstage-read-only</code> 5. ClusterRoleBinding: Links service account to role</p> <p>Default Permissions: <pre><code>rules:\n  - apiGroups: ['*']\n    resources: ['*']\n    verbs: ['get', 'list', 'watch']\n</code></pre></p> <p>Cluster Registration: - Name (prefixed by instance name if configured) - API URL - Service account token - CA certificate - Auth provider: <code>serviceAccount</code></p>"},{"location":"plugins/spectrocloud/cluster-provider/about/#oidc-mode","title":"OIDC Mode","text":"<p>Resources Created: - None - no cluster resources created</p> <p>Cluster Registration: - Name (prefixed by instance name if configured) - API URL - CA certificate - Auth provider: <code>oidc</code> - OIDC token provider: <code>spectrocloud</code> (configurable)</p> <p>Requirements: - SpectroCloud authentication backend module - SpectroCloud authentication frontend plugin - SpectroCloud Kubernetes auth module - Kubernetes clusters configured for SpectroCloud OIDC</p>"},{"location":"plugins/spectrocloud/cluster-provider/about/#use-cases","title":"Use Cases","text":""},{"location":"plugins/spectrocloud/cluster-provider/about/#unified-cluster-view","title":"Unified Cluster View","text":"<p>Combine SpectroCloud clusters with other sources: - SpectroCloud clusters (service account or OIDC) - Static config clusters - GKE clusters - Catalog-based clusters</p>"},{"location":"plugins/spectrocloud/cluster-provider/about/#service-account-mode","title":"Service Account Mode","text":"<ul> <li>Automated discovery with automatic RBAC setup</li> <li>Generic backstage service account for all users</li> <li>No user authentication required</li> <li>Suitable for read-only cluster access</li> </ul>"},{"location":"plugins/spectrocloud/cluster-provider/about/#oidc-mode_1","title":"OIDC Mode","text":"<ul> <li>User-level cluster authentication</li> <li>Kubernetes audit logs show actual users</li> <li>No service account management</li> <li>Requires user authentication with SpectroCloud</li> <li>Suitable for compliance and security requirements</li> </ul>"},{"location":"plugins/spectrocloud/cluster-provider/about/#mixed-authentication","title":"Mixed Authentication","text":"<ul> <li>Use service accounts for legacy clusters</li> <li>Use OIDC for new clusters requiring user-level access</li> <li>Configure per-environment authentication strategies</li> </ul>"},{"location":"plugins/spectrocloud/cluster-provider/configure/","title":"Configuring the SpectroCloud Cluster Provider Plugin","text":"<p>The SpectroCloud cluster provider offers extensive configuration options.</p>"},{"location":"plugins/spectrocloud/cluster-provider/configure/#configuration-structure","title":"Configuration Structure","text":"<pre><code>spectrocloud:\n  annotationPrefix: terasky.backstage.io  # Optional\n  environments:\n    - name: production\n      url: https://api.spectrocloud.com\n      tenant: my-tenant\n      apiToken: ${SPECTROCLOUD_API_TOKEN}\n      clusterProvider:\n        authType: serviceAccount  # or 'oidc'\n        includeProjects: [production, staging]\n        excludeProjects: [sandbox]\n        excludeTenantScopedClusters: false\n        refreshIntervalSeconds: 300\n        clusterTimeoutSeconds: 30\n        skipMetricsLookup: true\n        rbac:\n          namespace: backstage-system\n          serviceAccountName: backstage-sa\n          clusterRoleRules:\n            - apiGroups: ['*']\n              resources: ['*']\n              verbs: ['get', 'list', 'watch']\n</code></pre>"},{"location":"plugins/spectrocloud/cluster-provider/configure/#authentication-types","title":"Authentication Types","text":"<p>The cluster provider supports two authentication methods:</p>"},{"location":"plugins/spectrocloud/cluster-provider/configure/#service-account-default","title":"Service Account (Default)","text":"<ul> <li>How it works: Creates a service account, ClusterRole, and ClusterRoleBinding in each cluster</li> <li>Use when: You want Backstage to have its own dedicated credentials per cluster</li> <li>Pros: </li> <li>Isolated credentials per cluster</li> <li>Works without additional authentication setup</li> <li>Fine-grained RBAC control</li> <li>Cons:</li> <li>Creates resources in each cluster</li> <li>Requires admin access to clusters</li> <li>No user-level auditing</li> </ul>"},{"location":"plugins/spectrocloud/cluster-provider/configure/#oidc","title":"OIDC","text":"<ul> <li>How it works: Uses OIDC tokens from user authentication (SpectroCloud)</li> <li>Use when: Users authenticate via SpectroCloud and you want user-level access</li> <li>Pros:</li> <li>No resources created in clusters</li> <li>User-level auditing and access control</li> <li>Leverages existing SpectroCloud authentication</li> <li>Cons:</li> <li>Requires SpectroCloud OIDC auth plugin configured</li> <li>Users must be authenticated</li> <li>Access based on user's permissions</li> </ul>"},{"location":"plugins/spectrocloud/cluster-provider/configure/#configuration-parameters","title":"Configuration Parameters","text":""},{"location":"plugins/spectrocloud/cluster-provider/configure/#environment-settings","title":"Environment Settings","text":"Parameter Type Default Description <code>name</code> string optional Instance name prefix for clusters <code>url</code> string required SpectroCloud API URL <code>tenant</code> string required SpectroCloud tenant <code>apiToken</code> string required API token"},{"location":"plugins/spectrocloud/cluster-provider/configure/#cluster-provider-settings","title":"Cluster Provider Settings","text":"Parameter Type Default Description <code>authType</code> string <code>serviceAccount</code> Authentication type: <code>serviceAccount</code> or <code>oidc</code> <code>oidcAuthProviderName</code> string <code>spectrocloud</code> OIDC provider name (when authType is <code>oidc</code>) <code>includeProjects</code> string[] <code>[]</code> Projects to include (empty = all) <code>excludeProjects</code> string[] <code>[]</code> Projects to exclude <code>excludeTenantScopedClusters</code> boolean <code>false</code> Exclude tenant-scoped clusters <code>refreshIntervalSeconds</code> number <code>300</code> Refresh interval <code>clusterTimeoutSeconds</code> number <code>30</code> Timeout per cluster (serviceAccount only) <code>skipMetricsLookup</code> boolean <code>false</code> Skip metrics API check"},{"location":"plugins/spectrocloud/cluster-provider/configure/#rbac-configuration","title":"RBAC Configuration","text":"<p>Note: RBAC settings only apply when <code>authType</code> is <code>serviceAccount</code>. When using <code>oidc</code> authentication, no resources are created in the cluster.</p> Parameter Type Default Description <code>rbac.namespace</code> string <code>backstage-system</code> Namespace name <code>rbac.serviceAccountName</code> string <code>backstage-sa</code> Service account name <code>rbac.clusterRoleRules</code> array read-only Custom RBAC rules"},{"location":"plugins/spectrocloud/cluster-provider/configure/#configuration-examples","title":"Configuration Examples","text":""},{"location":"plugins/spectrocloud/cluster-provider/configure/#basic-setup","title":"Basic Setup","text":"<pre><code>spectrocloud:\n  environments:\n    - url: https://api.spectrocloud.com\n      tenant: my-tenant\n      apiToken: ${SPECTROCLOUD_API_TOKEN}\n      clusterProvider: {}\n</code></pre>"},{"location":"plugins/spectrocloud/cluster-provider/configure/#project-filtering","title":"Project Filtering","text":"<pre><code>spectrocloud:\n  environments:\n    - url: https://api.spectrocloud.com\n      tenant: my-tenant\n      apiToken: ${SPECTROCLOUD_API_TOKEN}\n      clusterProvider:\n        includeProjects:\n          - production\n          - staging\n        excludeProjects:\n          - development\n</code></pre>"},{"location":"plugins/spectrocloud/cluster-provider/configure/#custom-rbac","title":"Custom RBAC","text":"<pre><code>spectrocloud:\n  environments:\n    - url: https://api.spectrocloud.com\n      tenant: my-tenant\n      apiToken: ${SPECTROCLOUD_API_TOKEN}\n      clusterProvider:\n        rbac:\n          namespace: backstage-readonly\n          serviceAccountName: backstage-viewer\n          clusterRoleRules:\n            - apiGroups: ['core']\n              resources: ['pods', 'services']\n              verbs: ['get', 'list', 'watch']\n            - apiGroups: ['apps']\n              resources: ['deployments']\n              verbs: ['get', 'list', 'watch']\n</code></pre>"},{"location":"plugins/spectrocloud/cluster-provider/configure/#oidc-authentication","title":"OIDC Authentication","text":"<p>Use OIDC authentication instead of service accounts. No resources are created in clusters.</p> <pre><code>spectrocloud:\n  environments:\n    - url: https://api.spectrocloud.com\n      tenant: my-tenant\n      apiToken: ${SPECTROCLOUD_API_TOKEN}\n      clusterProvider:\n        authType: oidc\n        oidcAuthProviderName: spectrocloud  # Must match your OIDC auth provider\n</code></pre> <p>You'll also need to configure the Kubernetes plugin to use OIDC:</p> <pre><code>kubernetes:\n  clusterLocatorMethods: []  # Use only SpectroCloud clusters\n  clusters:\n    # Clusters will be auto-discovered from SpectroCloud\n    # Configure them to use OIDC in your spectrocloud config\n\n# Add the spectrocloud-kubernetes-auth-module to your app\n# See the spectrocloud-auth plugin documentation for details\n</code></pre>"},{"location":"plugins/spectrocloud/cluster-provider/configure/#multi-instance","title":"Multi-Instance","text":"<pre><code>spectrocloud:\n  environments:\n    - name: us\n      url: https://api-us.spectrocloud.com\n      tenant: us-tenant\n      apiToken: ${SPECTROCLOUD_US_TOKEN}\n      clusterProvider:\n        includeProjects: [production]\n    - name: eu\n      url: https://api-eu.spectrocloud.com\n      tenant: eu-tenant\n      apiToken: ${SPECTROCLOUD_EU_TOKEN}\n      clusterProvider:\n        authType: oidc  # Use OIDC for EU clusters\n        includeProjects: [production]\n</code></pre>"},{"location":"plugins/spectrocloud/cluster-provider/configure/#troubleshooting","title":"Troubleshooting","text":""},{"location":"plugins/spectrocloud/cluster-provider/configure/#common-issues","title":"Common Issues","text":"<ol> <li>Clusters Not Appearing</li> <li>Verify project filters</li> <li>Check API connectivity</li> <li> <p>Review refresh interval</p> </li> <li> <p>RBAC Errors</p> </li> <li>Verify admin kubeconfig access</li> <li>Check namespace creation permissions</li> <li>Review RBAC rule syntax</li> </ol>"},{"location":"plugins/spectrocloud/cluster-provider/install/","title":"Installing the SpectroCloud Cluster Provider Plugin","text":"<p>This guide will help you install and set up the SpectroCloud cluster provider plugin.</p>"},{"location":"plugins/spectrocloud/cluster-provider/install/#prerequisites","title":"Prerequisites","text":"<ol> <li>A working Backstage instance</li> <li>The Backstage Kubernetes plugin installed</li> <li>SpectroCloud Palette API credentials</li> </ol>"},{"location":"plugins/spectrocloud/cluster-provider/install/#installation-steps","title":"Installation Steps","text":""},{"location":"plugins/spectrocloud/cluster-provider/install/#1-add-required-package","title":"1. Add Required Package","text":"<pre><code>yarn --cwd packages/backend add @terasky/backstage-plugin-spectrocloud-cluster-provider\n</code></pre>"},{"location":"plugins/spectrocloud/cluster-provider/install/#2-add-to-backend","title":"2. Add to Backend","text":"<p>Modify <code>packages/backend/src/index.ts</code>:</p> <pre><code>backend.add(import('@terasky/backstage-plugin-spectrocloud-cluster-provider'));\n</code></pre>"},{"location":"plugins/spectrocloud/cluster-provider/install/#3-configure-spectrocloud","title":"3. Configure SpectroCloud","text":"<p>Add to your <code>app-config.yaml</code>:</p> <pre><code>spectrocloud:\n  environments:\n    - name: production\n      url: https://api.spectrocloud.com\n      tenant: my-tenant\n      apiToken: ${SPECTROCLOUD_API_TOKEN}\n      clusterProvider:\n        includeProjects: [production]\n</code></pre>"},{"location":"plugins/spectrocloud/cluster-provider/install/#verification","title":"Verification","text":"<p>After installation:</p> <ol> <li>Check backend logs for cluster discovery messages</li> <li>Navigate to a component with Kubernetes resources</li> <li>Verify SpectroCloud clusters appear</li> </ol>"},{"location":"plugins/spectrocloud/cluster-provider/install/#testing","title":"Testing","text":"<p>Look for log messages like: <pre><code>SpectroCloud: Discovered X clusters\nSpectroCloud: Created RBAC for cluster Y\n</code></pre></p>"},{"location":"plugins/spectrocloud/cluster-provider/install/#troubleshooting","title":"Troubleshooting","text":""},{"location":"plugins/spectrocloud/cluster-provider/install/#common-issues","title":"Common Issues","text":"<ol> <li>No Clusters Found</li> <li>Verify API credentials</li> <li>Check project filters</li> <li> <p>Review network connectivity</p> </li> <li> <p>RBAC Setup Failures</p> </li> <li>Verify kubeconfig has admin access</li> <li>Check cluster connectivity</li> <li>Review backend logs</li> </ol>"},{"location":"plugins/spectrocloud/cluster-provider/install/#next-steps","title":"Next Steps","text":"<ol> <li>Configure project filtering</li> <li>Customize RBAC settings</li> </ol>"},{"location":"plugins/spectrocloud/frontend/about/","title":"SpectroCloud Frontend Plugin","text":""},{"location":"plugins/spectrocloud/frontend/about/#overview","title":"Overview","text":"<p>The SpectroCloud Frontend plugin provides comprehensive integration with SpectroCloud Palette, including entity cards for visualizing clusters and profiles, standalone pages for cluster deployment and management, and Kubernetes resource visualization. It integrates with the SpectroCloud backend plugin for real-time data and provides interactive features like kubeconfig downloads, pack exploration, and cluster creation.</p>"},{"location":"plugins/spectrocloud/frontend/about/#features","title":"Features","text":""},{"location":"plugins/spectrocloud/frontend/about/#entity-cards","title":"Entity Cards","text":""},{"location":"plugins/spectrocloud/frontend/about/#cluster-card","title":"Cluster Card","text":"<ul> <li>Basic Information:</li> <li>Cluster name and state</li> <li>Kubernetes version</li> <li>Cloud type (EKS, AWS, AKS, Azure, vSphere, etc.)</li> <li>Scope (project or tenant)</li> <li> <p>Project name (if project-scoped)</p> </li> <li> <p>Attached Profiles:</p> </li> <li>Expandable profile list with pack details</li> <li>Profile version display</li> <li>Upgrade availability indicators</li> <li>Pack/layer details with syntax-highlighted YAML viewer</li> <li> <p>Permission-based visibility of pack values and manifests</p> </li> <li> <p>Kubeconfig Download:</p> </li> <li>One-click kubeconfig download</li> <li>FRP (reverse proxy) support</li> <li>Permission-controlled access</li> </ul>"},{"location":"plugins/spectrocloud/frontend/about/#profile-card","title":"Profile Card","text":"<ul> <li>Profile Information:</li> <li>Profile type (infra, add-on, cluster)</li> <li>Cloud type</li> <li>Scope (project or tenant)</li> <li>Profile status (published, draft)</li> <li> <p>Latest version</p> </li> <li> <p>Version Management:</p> </li> <li>All available versions listed</li> <li>Cluster count per version</li> <li>Expandable cluster lists</li> <li>Direct links to cluster entities</li> </ul>"},{"location":"plugins/spectrocloud/frontend/about/#cluster-group-card","title":"Cluster Group Card","text":"<ul> <li>Basic Information:</li> <li>Cluster group name and ID</li> <li>Scope (project or tenant)</li> <li>Project name with link to system entity</li> <li> <p>Endpoint type (Ingress, LoadBalancer)</p> </li> <li> <p>Member Clusters:</p> </li> <li>List of clusters in the group</li> <li> <p>Clickable links to cluster entities</p> </li> <li> <p>Add-on Profiles:</p> </li> <li>List of add-on profiles attached to the group</li> <li>Clickable links to profile entities</li> </ul>"},{"location":"plugins/spectrocloud/frontend/about/#virtual-cluster-card","title":"Virtual Cluster Card","text":"<ul> <li>Basic Information:</li> <li>Virtual cluster name, ID, and state</li> <li>Scope and project (linked to system entity)</li> <li> <p>Cloud type (always \"nested\")</p> </li> <li> <p>Resource Quotas:</p> </li> <li>CPU quotas: requests, limits, and usage</li> <li>Memory quotas: requests, limits, and usage</li> <li>Visual progress bars with usage percentages</li> <li> <p>Color-coded warnings when usage exceeds limits</p> </li> <li> <p>References:</p> </li> <li>Host cluster (clickable link)</li> <li>Cluster group (clickable link)</li> <li> <p>Attached profiles (clickable links)</p> </li> <li> <p>Actions:</p> </li> <li>Download kubeconfig</li> <li>Permission-controlled access</li> </ul>"},{"location":"plugins/spectrocloud/frontend/about/#entity-content-tabs","title":"Entity Content Tabs","text":""},{"location":"plugins/spectrocloud/frontend/about/#kubernetes-resources-tab","title":"Kubernetes Resources Tab","text":"<ul> <li>Resource Visualization:</li> <li>View Kubernetes resources for SpectroCloud clusters</li> <li>Integration with <code>backstage.io/kubernetes-cluster</code> annotation</li> <li>Support for standard Kubernetes resources</li> <li>Support for Crossplane claims and composites</li> <li> <p>Support for KRO (Kubernetes Resource Orchestrator) instances</p> </li> <li> <p>Filtering Capabilities:</p> </li> <li>Filter by namespace</li> <li>Filter by resource kind</li> <li>Filter by resource category</li> <li>Filter by entity kind</li> <li>Filter by owner</li> <li> <p>Text search</p> </li> <li> <p>View Options:</p> </li> <li>Flat grouped view (default)</li> <li>Optional graph view</li> <li>Optional hierarchical table view</li> </ul>"},{"location":"plugins/spectrocloud/frontend/about/#cluster-group-settings-tab","title":"Cluster Group Settings Tab","text":"<p>Available for <code>spectrocloud-cluster-group</code> entities:</p> <ul> <li>Version Information:</li> <li>Kubernetes version</li> <li>vCluster version</li> <li> <p>Kubernetes distribution</p> </li> <li> <p>Basic Configuration:</p> </li> <li>Endpoint type (Ingress, LoadBalancer)</li> <li>Member clusters count</li> <li> <p>Metrics Server integration status</p> </li> <li> <p>Resource Limits:</p> </li> <li>CPU limits per virtual cluster</li> <li>Memory limits per virtual cluster</li> <li>Storage limits</li> <li> <p>Over-subscription percentage</p> </li> <li> <p>Deployed Components:</p> </li> <li>Local Path Provisioner status</li> <li>CNI (Flannel) status</li> <li>Kube Proxy status</li> <li>MetalLB status</li> <li>Ingress NGINX status</li> <li> <p>Metrics Server status</p> </li> <li> <p>Resource Sync Configuration:</p> </li> <li>Resources synced to host cluster (table)</li> <li> <p>Resources synced from host cluster (table)</p> </li> <li> <p>Policies:</p> </li> <li>Resource Quota: enabled/disabled with detailed limits table</li> <li>Limit Range: enabled/disabled with default requests/limits tables</li> <li> <p>Network Policy: enabled/disabled with:</p> <ul> <li>Fallback DNS settings</li> <li>Outgoing connections CIDR and exceptions</li> <li>Extra control plane rules</li> <li>Extra workload rules</li> </ul> </li> <li> <p>vCluster Plugins:</p> </li> <li> <p>List of configured plugins with image and version</p> </li> <li> <p>Raw Configuration:</p> </li> <li>Collapsible Helm values YAML</li> <li>Syntax-highlighted display</li> </ul>"},{"location":"plugins/spectrocloud/frontend/about/#standalone-pages","title":"Standalone Pages","text":""},{"location":"plugins/spectrocloud/frontend/about/#cluster-deployment-page","title":"Cluster Deployment Page","text":"<p>A comprehensive wizard for deploying new SpectroCloud clusters and virtual clusters:</p> <p>Supported Cloud Types: - Amazon EKS - AWS (Palette eXtended Kubernetes) - Azure AKS - Azure (Palette eXtended Kubernetes) - VMware vSphere - Virtual Cluster (nested within cluster groups)</p> <p>Physical Cluster Deployment Steps: 1. Cloud Type Selection: Choose target cloud provider 2. Project Selection: Select SpectroCloud project 3. Cloud Account Selection: Choose configured cloud account 4. Profile Selection: Select infrastructure and add-on profiles 5. Profile Variables: Configure profile-level variables 6. Cluster Configuration: Set cluster name, description, tags, and variables 7. Infrastructure Configuration:    - Control plane configuration    - Worker pool configuration (instance types, sizes, labels, taints)    - vSphere-specific: datacenters, datastores, networks, IP pools 8. Review and Deploy: Review configuration and create cluster</p> <p>Virtual Cluster Deployment Steps: 1. Cloud Type Selection: Choose \"Virtual Cluster\" 2. Project Selection: Select SpectroCloud project 3. Virtual Cluster Setup:    - Virtual cluster name (lowercase alphanumeric and hyphens)    - Cluster group selection (autocomplete with search)    - Resource quotas configuration:      - CPU cores (numeric with validation)      - Memory in GiB (numeric with validation)      - Storage in GiB (numeric with validation)    - Display cluster group limits for reference 4. Review and Deploy:     - Review all configuration settings    - View and download generated Terraform configuration    - Deploy virtual cluster with a single click</p>"},{"location":"plugins/spectrocloud/frontend/about/#cluster-viewer-page","title":"Cluster Viewer Page","text":"<p>Browse and manage all accessible SpectroCloud clusters:</p> <ul> <li>View Modes: Card view and list view</li> <li>Filtering: Modal-based filtering with:</li> <li>Filter by project</li> <li>Filter by cloud type</li> <li>Filter by cluster status</li> <li>Filter by Kubernetes version</li> <li>Show only clusters with updates available (checkbox)</li> <li>Actions:</li> <li>Create new clusters (redirects to deployment wizard)</li> <li>Download kubeconfig</li> <li>Navigate to cluster entity page</li> <li>Sort by various fields</li> <li>Updates Detection: Identifies clusters where profile versions are behind latest</li> </ul>"},{"location":"plugins/spectrocloud/frontend/about/#virtual-cluster-viewer-page","title":"Virtual Cluster Viewer Page","text":"<p>Browse and manage all accessible SpectroCloud virtual clusters:</p> <ul> <li>View Modes: Card view and table view</li> <li>Filtering:</li> <li>Filter by project</li> <li>Filter by status</li> <li>Show only clusters with updates available (checkbox)</li> <li>Display Information:</li> <li>Virtual cluster name and state</li> <li>Project (clickable link to system entity)</li> <li>Host cluster and cluster group (clickable links)</li> <li>Resource quotas (CPU and memory usage)</li> <li>Attached profiles (clickable links)</li> <li>Actions:</li> <li>Create new clusters (redirects to deployment wizard)</li> <li>Download kubeconfig</li> <li>Navigate to virtual cluster entity page</li> <li>Refresh list</li> <li>Updates Detection: Identifies virtual clusters where profile versions are behind latest</li> </ul>"},{"location":"plugins/spectrocloud/frontend/about/#packlayer-viewer","title":"Pack/Layer Viewer","text":"<ul> <li>Configuration Display:</li> <li>Syntax-highlighted YAML viewer (using react-syntax-highlighter)</li> <li>Values configuration with schema information</li> <li>Pack presets display</li> <li>Manifest content (for manifest packs)</li> <li>Tab-based navigation between values and manifests</li> </ul>"},{"location":"plugins/spectrocloud/frontend/about/#technical-architecture","title":"Technical Architecture","text":""},{"location":"plugins/spectrocloud/frontend/about/#plugin-system-support","title":"Plugin System Support","text":"<p>The plugin supports both legacy and new frontend system approaches:</p>"},{"location":"plugins/spectrocloud/frontend/about/#legacy-system-plugints","title":"Legacy System (<code>plugin.ts</code>)","text":"<ul> <li>Uses <code>createPlugin</code> and <code>createComponentExtension</code></li> <li>Compatible with apps using <code>@backstage/app-defaults</code></li> <li>Import from <code>@terasky/backstage-plugin-spectrocloud</code></li> </ul>"},{"location":"plugins/spectrocloud/frontend/about/#new-frontend-system-alphatsx","title":"New Frontend System (<code>alpha.tsx</code>)","text":"<ul> <li>Uses <code>createFrontendPlugin</code> with blueprints</li> <li>Import from <code>@terasky/backstage-plugin-spectrocloud/alpha</code></li> <li>Provides:</li> <li><code>ApiBlueprint</code> for SpectroCloud API and Auth API</li> <li><code>EntityCardBlueprint</code> for cluster and profile cards</li> <li><code>EntityContentBlueprint</code> for Kubernetes resources tab</li> <li><code>PageBlueprint</code> for deployment and viewer pages</li> <li><code>NavItemBlueprint</code> for navigation</li> </ul>"},{"location":"plugins/spectrocloud/frontend/about/#api-integration","title":"API Integration","text":"<p>The plugin provides a comprehensive API client (<code>SpectroCloudApiClient</code>) with methods for:</p> <ul> <li>User &amp; Projects: <code>getUserProjects()</code>, <code>getProjects()</code></li> <li>Clusters: <code>getAllClusters()</code>, <code>getClusterDetails()</code>, <code>createCluster()</code></li> <li>Virtual Clusters: <code>getAllVirtualClusters()</code>, <code>getVirtualClusterDetails()</code>, <code>createVirtualCluster()</code></li> <li>Cluster Groups: <code>getClusterGroupDetails()</code>, <code>getClusterGroups()</code></li> <li>Kubeconfig: <code>getKubeconfig()</code>, <code>getVirtualClusterKubeconfig()</code></li> <li>Profiles: <code>getClusterProfiles()</code>, <code>searchProfiles()</code>, <code>getProjectProfiles()</code>, <code>getProfileWithPacks()</code>, <code>getProfileVariables()</code></li> <li>Packs: <code>getPackManifest()</code></li> <li>Cloud Accounts: <code>getCloudAccounts()</code>, <code>getCloudAccount()</code></li> <li>vSphere: <code>getVSphereCloudAccountMetadata()</code>, <code>getVSphereComputeClusterResources()</code>, <code>getVSphereIPPools()</code></li> <li>Infrastructure: <code>getUserSSHKeys()</code>, <code>getOverlords()</code></li> </ul>"},{"location":"plugins/spectrocloud/frontend/about/#permission-integration","title":"Permission Integration","text":"<p>The frontend implements a comprehensive permission system with guards and hooks:</p> <p>Permission Guards (Components): - <code>IfCanViewClusterInfo</code> - <code>IfCanDownloadKubeconfig</code> - <code>IfCanViewPackValues</code> - <code>IfCanViewPackManifests</code> - <code>IfCanViewProfileInfo</code> - <code>IfCanViewProfileClusters</code> - <code>IfCanCreateCluster</code></p> <p>Permission Hooks: - <code>useCanViewClusterInfo()</code> - <code>useCanDownloadKubeconfig()</code> - <code>useCanViewPackValues()</code> - <code>useCanViewPackManifests()</code> - <code>useCanViewProfileInfo()</code> - <code>useCanViewProfileClusters()</code> - <code>useCanCreateCluster()</code></p> <p>Permissions are controlled by the <code>spectrocloud.enablePermissions</code> configuration option.</p>"},{"location":"plugins/spectrocloud/frontend/about/#route-structure","title":"Route Structure","text":"Route Path Description <code>rootRouteRef</code> <code>/spectrocloud</code> Root route <code>clusterDeploymentRouteRef</code> <code>/spectrocloud/deploy</code> Cluster deployment wizard <code>clusterViewerRouteRef</code> <code>/spectrocloud/clusters</code> Cluster viewer/browser <code>virtualClusterViewerRouteRef</code> <code>/spectrocloud/virtual-clusters</code> Virtual cluster viewer/browser"},{"location":"plugins/spectrocloud/frontend/about/#data-flow","title":"Data Flow","text":"<ol> <li>Entity Cards: Read basic information from annotations, fetch detailed data from backend API</li> <li>Cluster Viewer: Fetches all clusters from backend, applies client-side filtering</li> <li>Cluster Deployment: Multi-step wizard with progressive data fetching (projects \u2192 accounts \u2192 profiles \u2192 metadata)</li> <li>Kubernetes Resources: Uses catalog tags and annotations to identify resources</li> <li>Real-time Refresh: Manual refresh buttons and automatic data revalidation</li> <li>Permission Checks: Conditional rendering based on permission evaluation</li> </ol>"},{"location":"plugins/spectrocloud/frontend/about/#authentication","title":"Authentication","text":"<p>The plugin integrates with <code>@terasky/backstage-plugin-spectrocloud-auth</code>: - Uses OIDC tokens for authentication - Supports HS256 session tokens for SpectroCloud API - Sends <code>X-SpectroCloud-Token</code> and <code>X-SpectroCloud-User-Email</code> headers - Handles re-authentication requirements from backend</p>"},{"location":"plugins/spectrocloud/frontend/about/#use-cases","title":"Use Cases","text":""},{"location":"plugins/spectrocloud/frontend/about/#cluster-management","title":"Cluster Management","text":"<ul> <li>View cluster health and status at a glance</li> <li>Access kubeconfig for cluster operations</li> <li>Monitor profile versions and available upgrades</li> <li>Browse all clusters across projects</li> <li>Identify clusters needing updates</li> </ul>"},{"location":"plugins/spectrocloud/frontend/about/#cluster-deployment","title":"Cluster Deployment","text":"<ul> <li>Self-service cluster creation through Backstage</li> <li>Deploy to multiple cloud types (EKS, AWS, AKS, Azure, vSphere)</li> <li>Create virtual clusters within existing cluster groups</li> <li>Configure infrastructure and add-on profiles</li> <li>Set up worker pools with custom configurations</li> <li>vSphere deployments with PCG/overlord selection</li> <li>Define resource quotas for virtual clusters (CPU, memory, storage)</li> </ul>"},{"location":"plugins/spectrocloud/frontend/about/#profile-tracking","title":"Profile Tracking","text":"<ul> <li>Track which clusters use which profile versions</li> <li>Plan profile upgrades across clusters</li> <li>Understand profile adoption</li> <li>View profile version history</li> </ul>"},{"location":"plugins/spectrocloud/frontend/about/#configuration-review","title":"Configuration Review","text":"<ul> <li>Review pack configurations without accessing Palette</li> <li>Compare values across profiles</li> <li>Audit manifest content</li> <li>View pack presets and schemas</li> </ul>"},{"location":"plugins/spectrocloud/frontend/about/#kubernetes-resource-management","title":"Kubernetes Resource Management","text":"<ul> <li>View resources deployed in SpectroCloud clusters</li> <li>Support for Crossplane and KRO resources</li> <li>Filter and search capabilities</li> <li>Category-based organization</li> </ul>"},{"location":"plugins/spectrocloud/frontend/about/#virtual-cluster-management","title":"Virtual Cluster Management","text":"<ul> <li>Browse all virtual clusters across projects</li> <li>Monitor resource quotas and usage</li> <li>Track CPU and memory consumption</li> <li>Identify virtual clusters needing updates</li> <li>Access kubeconfig for virtual clusters</li> <li>Navigate between virtual clusters, host clusters, and cluster groups</li> </ul>"},{"location":"plugins/spectrocloud/frontend/about/#cluster-group-configuration","title":"Cluster Group Configuration","text":"<ul> <li>Review cluster group settings and policies</li> <li>Understand resource sync configurations</li> <li>View resource quotas and limit ranges</li> <li>Inspect network policy settings</li> <li>Analyze deployed components and integrations</li> <li>Examine vCluster plugin configurations</li> </ul>"},{"location":"plugins/spectrocloud/frontend/configure/","title":"Configuring the SpectroCloud Frontend Plugin","text":"<p>The SpectroCloud frontend plugin can be configured to customize its behavior and integrate with Backstage's permission framework.</p>"},{"location":"plugins/spectrocloud/frontend/configure/#configuration-options","title":"Configuration Options","text":"<p>Add the following to your <code>app-config.yaml</code>:</p> <pre><code>spectrocloud:\n  annotationPrefix: terasky.backstage.io  # Optional, default value\n  enablePermissions: true  # Enable permission checks\n\nkubernetesIngestor:\n  annotationPrefix: terasky.backstage.io  # Optional, for Kubernetes Resources tab\n</code></pre>"},{"location":"plugins/spectrocloud/frontend/configure/#configuration-parameters","title":"Configuration Parameters","text":"Parameter Type Default Description <code>annotationPrefix</code> string <code>terasky.backstage.io</code> Prefix used for SpectroCloud entity annotations <code>enablePermissions</code> boolean <code>false</code> Enable frontend permission checks <code>kubernetesIngestor.annotationPrefix</code> string - Fallback annotation prefix for Kubernetes Resources tab"},{"location":"plugins/spectrocloud/frontend/configure/#permission-configuration","title":"Permission Configuration","text":""},{"location":"plugins/spectrocloud/frontend/configure/#available-permissions","title":"Available Permissions","text":"<p>The frontend respects the following permissions:</p> Permission Description Controls <code>spectrocloud.cluster.view-info</code> View cluster information Cluster card visibility, cluster viewer <code>spectrocloud.cluster.download-kubeconfig</code> Download kubeconfig Download button in cards and viewer <code>spectrocloud.cluster.view-pack-values</code> View pack values Pack expansion and values viewing <code>spectrocloud.cluster.view-pack-manifests</code> View pack manifests Manifest tabs in pack viewer <code>spectrocloud.cluster.create</code> Create clusters Cluster deployment page access <code>spectrocloud.profile.view-info</code> View profile information Profile card visibility <code>spectrocloud.profile.view-clusters</code> View clusters for profile Cluster list expansion in profile card"},{"location":"plugins/spectrocloud/frontend/configure/#enabling-permissions","title":"Enabling Permissions","text":"<p>To enable permission checks:</p> <ol> <li> <p>Enable in config: <pre><code>spectrocloud:\n  enablePermissions: true\n</code></pre></p> </li> <li> <p>Configure permission policies (using RBAC plugin): <pre><code># Developers - read-only access\np, role:default/developers, spectrocloud.cluster.view-info, read, allow\np, role:default/developers, spectrocloud.profile.view-info, read, allow\n\n# Platform Team - full access\np, role:default/platform-team, spectrocloud.cluster.view-info, read, allow\np, role:default/platform-team, spectrocloud.cluster.download-kubeconfig, read, allow\np, role:default/platform-team, spectrocloud.cluster.view-pack-values, read, allow\np, role:default/platform-team, spectrocloud.cluster.view-pack-manifests, read, allow\np, role:default/platform-team, spectrocloud.cluster.create, create, allow\np, role:default/platform-team, spectrocloud.profile.view-info, read, allow\np, role:default/platform-team, spectrocloud.profile.view-clusters, read, allow\n</code></pre></p> </li> </ol>"},{"location":"plugins/spectrocloud/frontend/configure/#entity-card-configuration","title":"Entity Card Configuration","text":""},{"location":"plugins/spectrocloud/frontend/configure/#cluster-card","title":"Cluster Card","text":"<p>The cluster card automatically displays for entities with: - <code>kind: Resource</code> - <code>spec.type: spectrocloud-cluster</code></p> <p>Required annotations: <pre><code>metadata:\n  annotations:\n    terasky.backstage.io/cluster-id: &lt;cluster-uid&gt;\n    terasky.backstage.io/project-id: &lt;project-uid&gt;  # Optional, for project-scoped clusters\n    terasky.backstage.io/instance: &lt;instance-name&gt;  # Optional, for multi-instance setups\n</code></pre></p> <p>Additional annotations used by the card: <pre><code>metadata:\n  annotations:\n    terasky.backstage.io/cloud-type: eks|aws|aks|azure|vsphere\n    terasky.backstage.io/state: Running|Pending|Failed|...\n    terasky.backstage.io/kubernetes-version: \"1.28.5\"\n    terasky.backstage.io/scope: project|tenant\n    terasky.backstage.io/project-name: \"My Project\"\n    terasky.backstage.io/cluster-profile-refs: '[{\"name\":\"profile\",\"uid\":\"version-uid\"}]'\n</code></pre></p>"},{"location":"plugins/spectrocloud/frontend/configure/#profile-card","title":"Profile Card","text":"<p>The profile card automatically displays for entities with: - <code>kind: Resource</code> - <code>spec.type: spectrocloud-cluster-profile</code></p> <p>Required annotations: <pre><code>metadata:\n  annotations:\n    terasky.backstage.io/profile-id: &lt;profile-uid&gt;\n    terasky.backstage.io/project-id: &lt;project-uid&gt;  # Optional, for project-scoped profiles\n    terasky.backstage.io/instance: &lt;instance-name&gt;  # Optional, for multi-instance setups\n</code></pre></p> <p>Additional annotations used by the card: <pre><code>metadata:\n  annotations:\n    terasky.backstage.io/profile-type: infra|add-on|cluster\n    terasky.backstage.io/cloud-type: eks|aws|aks|azure|vsphere\n    terasky.backstage.io/scope: project|tenant\n    terasky.backstage.io/profile-status: published|draft\n    terasky.backstage.io/version: \"1.0.0\"\n    terasky.backstage.io/latest-version: \"1.1.0\"\n    terasky.backstage.io/profile-versions: '[{\"uid\":\"v1\",\"version\":\"1.0.0\"}]'\n</code></pre></p>"},{"location":"plugins/spectrocloud/frontend/configure/#kubernetes-resources-tab","title":"Kubernetes Resources Tab","text":"<p>The Kubernetes Resources tab displays for entities with: - <code>kind: Resource</code> - <code>spec.type: spectrocloud-cluster</code> - <code>backstage.io/kubernetes-cluster</code> annotation or <code>cluster:&lt;cluster-name&gt;</code> tag</p> <p>Required configuration: <pre><code>metadata:\n  annotations:\n    backstage.io/kubernetes-cluster: &lt;cluster-name&gt;\n    # OR use tags:\n  tags:\n    - cluster:&lt;cluster-name&gt;\n</code></pre></p> <p>The tab supports filtering and viewing Kubernetes resources, including: - Standard Kubernetes resources - Crossplane claims and composites - KRO (Kubernetes Resource Orchestrator) instances</p>"},{"location":"plugins/spectrocloud/frontend/configure/#page-configuration","title":"Page Configuration","text":""},{"location":"plugins/spectrocloud/frontend/configure/#cluster-viewer-page","title":"Cluster Viewer Page","text":"<p>The cluster viewer page is available at <code>/spectrocloud/clusters</code> and provides: - List and card view of all accessible clusters - Filtering by project, cloud type, status, and Kubernetes version - \"Updates Available\" filter to identify clusters behind latest profile versions - Kubeconfig download (permission-controlled) - Direct links to cluster entity pages</p>"},{"location":"plugins/spectrocloud/frontend/configure/#cluster-deployment-page","title":"Cluster Deployment Page","text":"<p>The cluster deployment page is available at <code>/spectrocloud/deploy</code> and provides a wizard for creating new clusters:</p> <p>Supported cloud types: - Amazon EKS: Managed Kubernetes on AWS - AWS (PXK): Palette eXtended Kubernetes on AWS - Azure AKS: Managed Kubernetes on Azure - Azure (PXK): Palette eXtended Kubernetes on Azure - vSphere: VMware vSphere clusters with PCG/overlord support</p> <p>The page requires the <code>spectrocloud.cluster.create</code> permission when permissions are enabled.</p>"},{"location":"plugins/spectrocloud/frontend/configure/#customization","title":"Customization","text":""},{"location":"plugins/spectrocloud/frontend/configure/#custom-annotation-prefix","title":"Custom Annotation Prefix","text":"<p>If using a different annotation prefix:</p> <pre><code>spectrocloud:\n  annotationPrefix: mycompany.backstage.io\n</code></pre> <p>Ensure the ingestor plugin uses the same prefix.</p>"},{"location":"plugins/spectrocloud/frontend/configure/#kubernetes-resources-configuration","title":"Kubernetes Resources Configuration","text":"<p>The Kubernetes Resources tab can use either the <code>spectrocloud.annotationPrefix</code> or fall back to <code>kubernetesIngestor.annotationPrefix</code>:</p> <pre><code>spectrocloud:\n  annotationPrefix: mycompany.backstage.io\n\nkubernetesIngestor:\n  annotationPrefix: mycompany.backstage.io  # Fallback for K8s resources\n</code></pre> <p>The annotation resolution order is: 1. <code>spectrocloud.annotationPrefix</code> 2. <code>kubernetesIngestor.annotationPrefix</code> (fallback) 3. <code>terasky.backstage.io</code> (default)</p>"},{"location":"plugins/spectrocloud/frontend/configure/#integration-with-authentication","title":"Integration with Authentication","text":"<p>The frontend integrates with <code>@terasky/backstage-plugin-spectrocloud-auth</code> for authentication:</p> <ol> <li>OIDC Tokens: Uses OAuth2/OIDC for user authentication</li> <li>Session Tokens: Supports HS256 session tokens for SpectroCloud API</li> <li>Headers: Sends <code>X-SpectroCloud-Token</code> and <code>X-SpectroCloud-User-Email</code></li> <li>Re-authentication: Handles <code>X-SpectroCloud-ReAuth-Required</code> responses</li> </ol>"},{"location":"plugins/spectrocloud/frontend/configure/#best-practices","title":"Best Practices","text":""},{"location":"plugins/spectrocloud/frontend/configure/#security","title":"Security","text":"<ol> <li>Enable permissions in production environments</li> <li>Use least-privilege permission policies</li> <li>Restrict cluster creation permission to authorized users</li> <li>Regularly audit kubeconfig download access</li> <li>Review who has access to pack values and manifests</li> </ol>"},{"location":"plugins/spectrocloud/frontend/configure/#performance","title":"Performance","text":"<ol> <li>The frontend fetches data on-demand from the backend</li> <li>Use the refresh button to get latest data</li> <li>Pack content is loaded lazily when expanded</li> <li>Cluster viewer applies client-side filtering for responsiveness</li> <li>Profile metadata is cached during deployment wizard</li> </ol>"},{"location":"plugins/spectrocloud/frontend/configure/#user-experience","title":"User Experience","text":"<ol> <li>Provide clear permission feedback to users</li> <li>Document which roles have which permissions</li> <li>Use meaningful profile and cluster names</li> <li>Add descriptive titles to entities for better searchability</li> <li>Configure appropriate refresh intervals for catalog data</li> </ol>"},{"location":"plugins/spectrocloud/frontend/configure/#troubleshooting","title":"Troubleshooting","text":""},{"location":"plugins/spectrocloud/frontend/configure/#common-issues","title":"Common Issues","text":"<ol> <li>Card Shows \"Loading\" Forever</li> <li>Check backend plugin is running</li> <li>Verify API endpoint is accessible</li> <li>Check browser network tab for errors</li> <li> <p>Confirm entity has required annotations</p> </li> <li> <p>Permission Denied Messages</p> </li> <li>Verify <code>enablePermissions</code> is set correctly</li> <li>Check user's permission policies</li> <li>Review backend logs</li> <li> <p>Confirm RBAC configuration is correct</p> </li> <li> <p>Missing Data</p> </li> <li>Verify entity has required annotations</li> <li>Check annotation prefix matches config</li> <li>Ensure backend can reach SpectroCloud API</li> <li> <p>Check instance name matches in annotations and config</p> </li> <li> <p>Cluster Deployment Page Not Accessible</p> </li> <li>Verify user has <code>spectrocloud.cluster.create</code> permission</li> <li>Check authentication is working correctly</li> <li>Review backend API connectivity</li> <li> <p>Ensure projects and cloud accounts are configured</p> </li> <li> <p>Kubernetes Resources Tab Not Showing</p> </li> <li>Verify entity has <code>backstage.io/kubernetes-cluster</code> annotation or <code>cluster:</code> tag</li> <li>Check Kubernetes ingestor is running</li> <li>Confirm resources are being ingested into catalog</li> <li> <p>Review annotation prefix configuration</p> </li> <li> <p>Authentication Issues</p> </li> <li>Check <code>X-SpectroCloud-ReAuth-Required</code> header in network tab</li> <li>Verify OIDC tokens are valid</li> <li>Confirm auth backend is configured correctly</li> <li>Check cookie settings for <code>spectrocloud-api-token</code></li> </ol>"},{"location":"plugins/spectrocloud/frontend/install/","title":"Installing the SpectroCloud Frontend Plugin","text":"<p>This guide will help you install and set up the SpectroCloud frontend plugin in your Backstage instance.</p>"},{"location":"plugins/spectrocloud/frontend/install/#prerequisites","title":"Prerequisites","text":"<p>Before installing the frontend plugin, ensure you have:</p> <ol> <li>A working Backstage instance</li> <li>Node.js and npm/yarn installed</li> <li>The SpectroCloud backend plugin installed</li> <li>The SpectroCloud ingestor plugin installed (for catalog entities)</li> <li>SpectroCloud cluster and profile entities in your catalog</li> </ol>"},{"location":"plugins/spectrocloud/frontend/install/#installation-steps","title":"Installation Steps","text":""},{"location":"plugins/spectrocloud/frontend/install/#1-add-required-packages","title":"1. Add Required Packages","text":"<p>Install the required package using your package manager:</p> <pre><code>yarn --cwd packages/app add @terasky/backstage-plugin-spectrocloud\n</code></pre>"},{"location":"plugins/spectrocloud/frontend/install/#2-add-entity-cards-new-frontend-system","title":"2. Add Entity Cards (New Frontend System)","text":"<p>If using the new frontend system, add to your <code>packages/app/src/App.tsx</code>:</p> <pre><code>import { createApp } from '@backstage/frontend-defaults';\n\nconst app = createApp({\n  features: [\n    // ... other features\n    import('@terasky/backstage-plugin-spectrocloud/alpha'),\n  ],\n});\n</code></pre>"},{"location":"plugins/spectrocloud/frontend/install/#3-add-entity-cards-legacy-system","title":"3. Add Entity Cards (Legacy System)","text":"<p>If using the legacy frontend system, add to your entity page:</p> <pre><code>// packages/app/src/components/catalog/EntityPage.tsx\nimport {\n  SpectroCloudClusterCard,\n  SpectroCloudClusterProfileCard,\n} from '@terasky/backstage-plugin-spectrocloud';\n\n// Add to your cluster resource page\nconst spectroCloudClusterPage = (\n  &lt;EntityLayout&gt;\n    &lt;EntityLayout.Route path=\"/\" title=\"Overview\"&gt;\n      &lt;Grid container spacing={3}&gt;\n        &lt;Grid item xs={12}&gt;\n          &lt;SpectroCloudClusterCard /&gt;\n        &lt;/Grid&gt;\n      &lt;/Grid&gt;\n    &lt;/EntityLayout.Route&gt;\n  &lt;/EntityLayout&gt;\n);\n\n// Add to your profile resource page\nconst spectroCloudProfilePage = (\n  &lt;EntityLayout&gt;\n    &lt;EntityLayout.Route path=\"/\" title=\"Overview\"&gt;\n      &lt;Grid container spacing={3}&gt;\n        &lt;Grid item xs={12}&gt;\n          &lt;SpectroCloudClusterProfileCard /&gt;\n        &lt;/Grid&gt;\n      &lt;/Grid&gt;\n    &lt;/EntityLayout.Route&gt;\n  &lt;/EntityLayout&gt;\n);\n</code></pre>"},{"location":"plugins/spectrocloud/frontend/install/#4-configure-entity-page-routing","title":"4. Configure Entity Page Routing","text":"<p>Add routing for SpectroCloud entity types:</p> <pre><code>// In your EntityPage.tsx\ncase 'spectrocloud-cluster':\n  return spectroCloudClusterPage;\ncase 'spectrocloud-cluster-profile':\n  return spectroCloudProfilePage;\n</code></pre>"},{"location":"plugins/spectrocloud/frontend/install/#verification","title":"Verification","text":"<p>After installation, verify that:</p> <ol> <li>The plugin appears in your package.json dependencies</li> <li>The app builds without errors</li> <li>Cluster and profile cards render correctly</li> <li>Data loads from the backend API</li> </ol>"},{"location":"plugins/spectrocloud/frontend/install/#testing-the-installation","title":"Testing the Installation","text":"<ol> <li>Navigate to a SpectroCloud Cluster Entity</li> <li>Verify the cluster card displays</li> <li>Check that cluster information is shown</li> <li> <p>Test the kubeconfig download button</p> </li> <li> <p>Navigate to a SpectroCloud Profile Entity</p> </li> <li>Verify the profile card displays</li> <li>Check version information</li> <li>Test expanding cluster lists</li> </ol>"},{"location":"plugins/spectrocloud/frontend/install/#troubleshooting","title":"Troubleshooting","text":"<p>Common issues and solutions:</p>"},{"location":"plugins/spectrocloud/frontend/install/#1-cards-not-showing","title":"1. Cards Not Showing","text":"<ul> <li>Verify entity has correct <code>spec.type</code> (<code>spectrocloud-cluster</code> or <code>spectrocloud-cluster-profile</code>)</li> <li>Check entity annotations are present</li> <li>Verify backend plugin is running</li> </ul>"},{"location":"plugins/spectrocloud/frontend/install/#2-data-not-loading","title":"2. Data Not Loading","text":"<ul> <li>Check browser console for API errors</li> <li>Verify backend plugin is accessible</li> <li>Check network connectivity</li> </ul>"},{"location":"plugins/spectrocloud/frontend/install/#3-permission-errors","title":"3. Permission Errors","text":"<ul> <li>Verify permission configuration</li> <li>Check user has required permissions</li> <li>Review backend logs for permission denials</li> </ul>"},{"location":"plugins/spectrocloud/frontend/install/#next-steps","title":"Next Steps","text":"<p>After successful installation:</p> <ol> <li>Configure permissions (optional but recommended)</li> <li>Customize card appearance if needed</li> <li>Set up proper entity pages for your use case</li> </ol> <p>Proceed to the Configuration Guide for detailed setup instructions.</p>"},{"location":"plugins/spectrocloud/ingestor/about/","title":"SpectroCloud Ingestor Plugin","text":""},{"location":"plugins/spectrocloud/ingestor/about/#overview","title":"Overview","text":"<p>The SpectroCloud Ingestor plugin is a catalog entity provider that automatically discovers and imports SpectroCloud Palette resources into the Backstage catalog. It creates proper entity relationships and adds comprehensive annotations for other plugins to consume.</p>"},{"location":"plugins/spectrocloud/ingestor/about/#features","title":"Features","text":""},{"location":"plugins/spectrocloud/ingestor/about/#resource-ingestion","title":"Resource Ingestion","text":"<ul> <li>Projects: Imported as System entities</li> <li>Cluster Profiles: Imported as Resource entities with type <code>spectrocloud-cluster-profile</code></li> <li>Clusters: Imported as Resource entities with type <code>spectrocloud-cluster</code></li> <li>Cluster Groups: Imported as Resource entities with type <code>spectrocloud-cluster-group</code></li> <li>Virtual Clusters: Imported as Resource entities with type <code>spectrocloud-virtual-cluster</code></li> </ul>"},{"location":"plugins/spectrocloud/ingestor/about/#relationship-mapping","title":"Relationship Mapping","text":"<ul> <li>Clusters are linked to their parent project (system)</li> <li>Cluster profiles are linked to their parent project (system)</li> <li>Clusters have <code>dependsOn</code> relationships to attached profiles</li> <li>Cluster groups have <code>dependsOn</code> relationships to:</li> <li>Member clusters (host clusters in the group)</li> <li>Add-on cluster profiles attached to the group</li> <li>Virtual clusters have <code>dependsOn</code> relationships to:</li> <li>Host cluster (physical cluster hosting the virtual cluster)</li> <li>Cluster group (group the virtual cluster belongs to)</li> <li>Attached cluster profiles (directly attached to the virtual cluster)</li> </ul>"},{"location":"plugins/spectrocloud/ingestor/about/#smart-naming-conventions","title":"Smart Naming Conventions","text":"<ul> <li>Prevents name conflicts across multiple instances</li> <li>Preserves original names in <code>metadata.title</code></li> <li>Uses scoped naming for uniqueness</li> </ul>"},{"location":"plugins/spectrocloud/ingestor/about/#scheduled-refresh","title":"Scheduled Refresh","text":"<ul> <li>Configurable refresh intervals</li> <li>Automatic detection of new resources</li> <li>Removal of deleted resources</li> </ul>"},{"location":"plugins/spectrocloud/ingestor/about/#multi-instance-support","title":"Multi-Instance Support","text":"<ul> <li>Connect to multiple SpectroCloud environments</li> <li>Instance-specific configuration</li> <li>Proper entity namespacing</li> </ul>"},{"location":"plugins/spectrocloud/ingestor/about/#entity-types","title":"Entity Types","text":""},{"location":"plugins/spectrocloud/ingestor/about/#projects-system","title":"Projects (System)","text":"<p>SpectroCloud projects are imported as System entities:</p> <pre><code>apiVersion: backstage.io/v1alpha1\nkind: System\nmetadata:\n  name: my-project\n  title: My Project\n  annotations:\n    terasky.backstage.io/project-id: abc123\n    terasky.backstage.io/scope: tenant\n    terasky.backstage.io/instance: production\nspec:\n  owner: spectrocloud\n</code></pre>"},{"location":"plugins/spectrocloud/ingestor/about/#cluster-profiles-resource","title":"Cluster Profiles (Resource)","text":"<p>Cluster profiles are imported as Resource entities:</p> <pre><code>apiVersion: backstage.io/v1alpha1\nkind: Resource\nmetadata:\n  name: my-project-my-profile\n  title: my-profile\n  annotations:\n    terasky.backstage.io/profile-id: def456\n    terasky.backstage.io/scope: project\n    terasky.backstage.io/project-id: abc123\n    terasky.backstage.io/cloud-type: vsphere\n    terasky.backstage.io/profile-versions: '[{\"uid\":\"v1\",\"version\":\"1.0.0\"}]'\nspec:\n  type: spectrocloud-cluster-profile\n  owner: spectrocloud\n  system: my-project\n</code></pre>"},{"location":"plugins/spectrocloud/ingestor/about/#clusters-resource","title":"Clusters (Resource)","text":"<p>Clusters are imported as Resource entities:</p> <pre><code>apiVersion: backstage.io/v1alpha1\nkind: Resource\nmetadata:\n  name: my-project-my-cluster\n  title: my-cluster\n  annotations:\n    terasky.backstage.io/cluster-id: ghi789\n    terasky.backstage.io/scope: project\n    terasky.backstage.io/project-id: abc123\n    terasky.backstage.io/cloud-type: vsphere\n    terasky.backstage.io/state: Running\n    terasky.backstage.io/kubernetes-version: 1.28.5\n    terasky.backstage.io/cluster-profile-refs: '[{\"name\":\"my-profile\",\"uid\":\"def456\"}]'\nspec:\n  type: spectrocloud-cluster\n  owner: spectrocloud\n  system: my-project\n</code></pre>"},{"location":"plugins/spectrocloud/ingestor/about/#cluster-groups-resource","title":"Cluster Groups (Resource)","text":"<p>Cluster groups are imported as Resource entities:</p> <pre><code>apiVersion: backstage.io/v1alpha1\nkind: Resource\nmetadata:\n  name: my-project-my-cluster-group\n  title: my-cluster-group\n  annotations:\n    terasky.backstage.io/cluster-group-id: cg123\n    terasky.backstage.io/scope: project\n    terasky.backstage.io/project-id: abc123\n    terasky.backstage.io/endpoint-type: Ingress\n    terasky.backstage.io/cluster-profile-refs: '[{\"name\":\"addon-profile\",\"uid\":\"addon123\"}]'\nspec:\n  type: spectrocloud-cluster-group\n  owner: spectrocloud\n  system: my-project\n  dependsOn:\n    - resource:default/my-project-host-cluster\n    - resource:default/my-project-addon-profile\n</code></pre>"},{"location":"plugins/spectrocloud/ingestor/about/#virtual-clusters-resource","title":"Virtual Clusters (Resource)","text":"<p>Virtual clusters are imported as Resource entities:</p> <pre><code>apiVersion: backstage.io/v1alpha1\nkind: Resource\nmetadata:\n  name: my-project-my-vcluster\n  title: my-vcluster\n  annotations:\n    terasky.backstage.io/cluster-id: vc456\n    terasky.backstage.io/scope: project\n    terasky.backstage.io/project-id: abc123\n    terasky.backstage.io/cloud-type: nested\n    terasky.backstage.io/state: Running\n    terasky.backstage.io/host-cluster-id: ghi789\n    terasky.backstage.io/cluster-group-id: cg123\n    terasky.backstage.io/cpu-limit: 6000\n    terasky.backstage.io/cpu-limit-unit: MilliCore\n    terasky.backstage.io/memory-limit: 8388608\n    terasky.backstage.io/memory-limit-unit: KiB\n    terasky.backstage.io/cluster-profile-refs: '[{\"name\":\"vcluster-profile\",\"uid\":\"vcp123\"}]'\nspec:\n  type: spectrocloud-virtual-cluster\n  owner: spectrocloud\n  system: my-project\n  dependsOn:\n    - resource:default/my-project-my-cluster\n    - resource:default/my-project-my-cluster-group\n    - resource:default/my-project-vcluster-profile\n</code></pre>"},{"location":"plugins/spectrocloud/ingestor/about/#annotations-reference","title":"Annotations Reference","text":"<p>Note: All annotations use the configured <code>annotationPrefix</code> (default: <code>terasky.backstage.io</code>). The prefix is shown as <code>{prefix}</code> below.</p>"},{"location":"plugins/spectrocloud/ingestor/about/#project-annotations","title":"Project Annotations","text":"Annotation Description Example <code>{prefix}/project-id</code> SpectroCloud project UID <code>abc123</code> <code>{prefix}/scope</code> Always <code>project</code> for projects <code>project</code> <code>{prefix}/tenant-id</code> Parent tenant UID <code>tenant456</code> <code>{prefix}/instance</code> SpectroCloud instance name <code>production</code>"},{"location":"plugins/spectrocloud/ingestor/about/#profile-annotations","title":"Profile Annotations","text":"Annotation Description Example <code>{prefix}/profile-id</code> SpectroCloud profile UID <code>prof789</code> <code>{prefix}/scope</code> <code>tenant</code> or <code>project</code> <code>project</code> <code>{prefix}/project-id</code> Parent project UID (if project-scoped) <code>abc123</code> <code>{prefix}/overlord-id</code> Overlord/PCG UID (if applicable) <code>overlord123</code> <code>{prefix}/profile-type</code> Profile type <code>infra</code>, <code>add-on</code>, <code>cluster</code> <code>{prefix}/cloud-type</code> Target cloud type <code>eks</code>, <code>aws</code>, <code>aks</code>, <code>azure</code>, <code>vsphere</code> <code>{prefix}/profile-status</code> Profile publication status <code>published</code>, <code>draft</code> <code>{prefix}/version</code> Current version <code>1.0.0</code> <code>{prefix}/latest-version</code> Latest available version <code>1.1.0</code> <code>{prefix}/profile-versions</code> JSON array of all versions <code>[{\"uid\":\"v1\",\"version\":\"1.0.0\"}]</code> <code>{prefix}/instance</code> SpectroCloud instance name <code>production</code>"},{"location":"plugins/spectrocloud/ingestor/about/#cluster-annotations","title":"Cluster Annotations","text":"Annotation Description Example <code>{prefix}/cluster-id</code> SpectroCloud cluster UID <code>cluster789</code> <code>{prefix}/scope</code> <code>tenant</code> or <code>project</code> <code>project</code> <code>{prefix}/project-id</code> Parent project UID (if project-scoped) <code>abc123</code> <code>{prefix}/project-name</code> Parent project name <code>My Project</code> <code>{prefix}/overlord-id</code> Overlord/PCG UID <code>overlord123</code> <code>{prefix}/tenant-id</code> Parent tenant UID <code>tenant456</code> <code>{prefix}/cloud-type</code> Cloud provider type <code>eks</code>, <code>aws</code>, <code>aks</code>, <code>azure</code>, <code>vsphere</code> <code>{prefix}/state</code> Cluster state <code>Running</code>, <code>Pending</code>, <code>Failed</code>, etc. <code>{prefix}/kubernetes-version</code> Kubernetes version <code>1.28.5</code> <code>{prefix}/cluster-profile-refs</code> JSON array of attached profiles <code>[{\"name\":\"my-profile\",\"uid\":\"version-uid\"}]</code> <code>{prefix}/instance</code> SpectroCloud instance name <code>production</code>"},{"location":"plugins/spectrocloud/ingestor/about/#cluster-group-annotations","title":"Cluster Group Annotations","text":"Annotation Description Example <code>{prefix}/cluster-group-id</code> SpectroCloud cluster group UID <code>cg123</code> <code>{prefix}/scope</code> <code>tenant</code> or <code>project</code> <code>project</code> <code>{prefix}/project-id</code> Parent project UID (if project-scoped) <code>abc123</code> <code>{prefix}/tenant-id</code> Parent tenant UID <code>tenant456</code> <code>{prefix}/endpoint-type</code> Virtual cluster endpoint type <code>Ingress</code>, <code>LoadBalancer</code> <code>{prefix}/cluster-profile-refs</code> JSON array of add-on profiles <code>[{\"name\":\"addon\",\"uid\":\"addon123\"}]</code> <code>{prefix}/instance</code> SpectroCloud instance name <code>production</code>"},{"location":"plugins/spectrocloud/ingestor/about/#virtual-cluster-annotations","title":"Virtual Cluster Annotations","text":"Annotation Description Example <code>{prefix}/cluster-id</code> SpectroCloud virtual cluster UID <code>vc456</code> <code>{prefix}/scope</code> <code>tenant</code> or <code>project</code> <code>project</code> <code>{prefix}/project-id</code> Parent project UID (if project-scoped) <code>abc123</code> <code>{prefix}/project-name</code> Parent project name <code>My Project</code> <code>{prefix}/tenant-id</code> Parent tenant UID <code>tenant456</code> <code>{prefix}/cloud-type</code> Always <code>nested</code> for virtual clusters <code>nested</code> <code>{prefix}/state</code> Virtual cluster state <code>Running</code>, <code>Pending</code>, <code>Failed</code>, etc. <code>{prefix}/host-cluster-id</code> UID of host cluster <code>ghi789</code> <code>{prefix}/cluster-group-id</code> UID of cluster group <code>cg123</code> <code>{prefix}/cpu-limit</code> CPU limit value <code>6000</code> <code>{prefix}/cpu-limit-unit</code> CPU limit unit <code>MilliCore</code> <code>{prefix}/memory-limit</code> Memory limit value <code>8388608</code> <code>{prefix}/memory-limit-unit</code> Memory limit unit <code>KiB</code> <code>{prefix}/cluster-profile-refs</code> JSON array of attached profiles <code>[{\"name\":\"vcluster-profile\",\"uid\":\"vcp123\"}]</code> <code>{prefix}/instance</code> SpectroCloud instance name <code>production</code>"},{"location":"plugins/spectrocloud/ingestor/about/#use-cases","title":"Use Cases","text":""},{"location":"plugins/spectrocloud/ingestor/about/#catalog-discovery","title":"Catalog Discovery","text":"<ul> <li>Automatically populate catalog with SpectroCloud resources</li> <li>No manual entity registration required</li> <li>Stays in sync with SpectroCloud</li> </ul>"},{"location":"plugins/spectrocloud/ingestor/about/#cross-plugin-integration","title":"Cross-Plugin Integration","text":"<ul> <li>Frontend plugin uses annotations for display</li> <li>Backend plugin uses annotations for API routing</li> <li>Kubernetes plugin can reference cluster entities</li> </ul>"},{"location":"plugins/spectrocloud/ingestor/about/#multi-environment-management","title":"Multi-Environment Management","text":"<ul> <li>Track resources across multiple SpectroCloud instances</li> <li>Unified view in Backstage catalog</li> <li>Environment-specific filtering</li> </ul>"},{"location":"plugins/spectrocloud/ingestor/configure/","title":"Configuring the SpectroCloud Ingestor Plugin","text":"<p>The SpectroCloud ingestor plugin provides extensive configuration options for customizing resource ingestion behavior.</p>"},{"location":"plugins/spectrocloud/ingestor/configure/#configuration-structure","title":"Configuration Structure","text":"<pre><code>spectrocloud:\n  annotationPrefix: terasky.backstage.io  # Global annotation prefix\n  environments:\n    - name: production\n      url: https://api.spectrocloud.com\n      tenant: my-tenant\n      apiToken: ${SPECTROCLOUD_API_TOKEN}\n      catalogProvider:\n        enabled: true\n        refreshIntervalSeconds: 600\n        defaultOwner: spectrocloud-auto-ingested\n        ownerNamespace: group\n        includeProjects:\n          - production\n          - staging\n        excludeProjects:\n          - sandbox\n        excludeTenantScopedResources: false\n        resources:\n          projects: true\n          clusterProfiles: true\n          clusters: true\n          clusterGroups: true\n          virtualClusters: true\n</code></pre>"},{"location":"plugins/spectrocloud/ingestor/configure/#configuration-parameters","title":"Configuration Parameters","text":""},{"location":"plugins/spectrocloud/ingestor/configure/#global-settings","title":"Global Settings","text":"Parameter Type Default Description <code>annotationPrefix</code> string <code>terasky.backstage.io</code> Prefix for entity annotations"},{"location":"plugins/spectrocloud/ingestor/configure/#environment-settings","title":"Environment Settings","text":"Parameter Type Default Description <code>name</code> string optional Instance name for multi-instance setups <code>url</code> string required SpectroCloud API URL <code>tenant</code> string required SpectroCloud tenant name <code>apiToken</code> string required SpectroCloud API token"},{"location":"plugins/spectrocloud/ingestor/configure/#catalog-provider-settings","title":"Catalog Provider Settings","text":"Parameter Type Default Description <code>enabled</code> boolean <code>true</code> Enable/disable the provider <code>refreshIntervalSeconds</code> number <code>600</code> Refresh interval in seconds (10 minutes) <code>defaultOwner</code> string <code>spectrocloud-auto-ingested</code> Default owner for ingested entities <code>ownerNamespace</code> string <code>group</code> Owner namespace (<code>group</code> or <code>user</code>) <code>includeProjects</code> string[] <code>[]</code> Projects to include (empty = all) <code>excludeProjects</code> string[] <code>[]</code> Projects to exclude <code>excludeTenantScopedResources</code> boolean <code>false</code> Exclude tenant-scoped resources (profiles and clusters) <code>resources.projects</code> boolean <code>true</code> Ingest project entities <code>resources.clusterProfiles</code> boolean <code>true</code> Ingest cluster profile entities <code>resources.clusters</code> boolean <code>true</code> Ingest cluster entities <code>resources.clusterGroups</code> boolean <code>true</code> Ingest cluster group entities <code>resources.virtualClusters</code> boolean <code>true</code> Ingest virtual cluster entities"},{"location":"plugins/spectrocloud/ingestor/configure/#configuration-examples","title":"Configuration Examples","text":""},{"location":"plugins/spectrocloud/ingestor/configure/#basic-configuration","title":"Basic Configuration","text":"<pre><code>spectrocloud:\n  environments:\n    - url: https://api.spectrocloud.com\n      tenant: my-tenant\n      apiToken: ${SPECTROCLOUD_API_TOKEN}\n      catalogProvider:\n        enabled: true\n</code></pre>"},{"location":"plugins/spectrocloud/ingestor/configure/#production-only-configuration","title":"Production-Only Configuration","text":"<pre><code>spectrocloud:\n  environments:\n    - name: prod\n      url: https://api.spectrocloud.com\n      tenant: my-tenant\n      apiToken: ${SPECTROCLOUD_API_TOKEN}\n      catalogProvider:\n        enabled: true\n        refreshIntervalSeconds: 300\n        includeProjects:\n          - production\n          - staging\n        excludeProjects:\n          - development\n          - sandbox\n</code></pre>"},{"location":"plugins/spectrocloud/ingestor/configure/#multi-instance-configuration","title":"Multi-Instance Configuration","text":"<pre><code>spectrocloud:\n  annotationPrefix: terasky.backstage.io\n  environments:\n    - name: us-prod\n      url: https://api-us.spectrocloud.com\n      tenant: us-tenant\n      apiToken: ${SPECTROCLOUD_US_TOKEN}\n      catalogProvider:\n        enabled: true\n        refreshIntervalSeconds: 600\n        includeProjects:\n          - us-production\n    - name: eu-prod\n      url: https://api-eu.spectrocloud.com\n      tenant: eu-tenant\n      apiToken: ${SPECTROCLOUD_EU_TOKEN}\n      catalogProvider:\n        enabled: true\n        refreshIntervalSeconds: 600\n        includeProjects:\n          - eu-production\n</code></pre>"},{"location":"plugins/spectrocloud/ingestor/configure/#clusters-only-configuration","title":"Clusters-Only Configuration","text":"<pre><code>spectrocloud:\n  environments:\n    - url: https://api.spectrocloud.com\n      tenant: my-tenant\n      apiToken: ${SPECTROCLOUD_API_TOKEN}\n      catalogProvider:\n        enabled: true\n        resources:\n          projects: false\n          clusterProfiles: false\n          clusters: true\n          clusterGroups: false\n          virtualClusters: false\n</code></pre>"},{"location":"plugins/spectrocloud/ingestor/configure/#virtual-clusters-and-cluster-groups-only","title":"Virtual Clusters and Cluster Groups Only","text":"<pre><code>spectrocloud:\n  environments:\n    - url: https://api.spectrocloud.com\n      tenant: my-tenant\n      apiToken: ${SPECTROCLOUD_API_TOKEN}\n      catalogProvider:\n        enabled: true\n        resources:\n          projects: true\n          clusterProfiles: true\n          clusters: true\n          clusterGroups: true\n          virtualClusters: true\n</code></pre> <p>Note: When ingesting virtual clusters and cluster groups, it's recommended to also ingest regular clusters and profiles to ensure all dependencies are available in the catalog.</p>"},{"location":"plugins/spectrocloud/ingestor/configure/#custom-owner-configuration","title":"Custom Owner Configuration","text":"<pre><code>spectrocloud:\n  environments:\n    - url: https://api.spectrocloud.com\n      tenant: my-tenant\n      apiToken: ${SPECTROCLOUD_API_TOKEN}\n      catalogProvider:\n        enabled: true\n        defaultOwner: platform-team\n        ownerNamespace: group  # Entities will be owned by group:default/platform-team\n</code></pre>"},{"location":"plugins/spectrocloud/ingestor/configure/#entity-naming-convention","title":"Entity Naming Convention","text":"<p>The plugin uses smart naming conventions to ensure uniqueness:</p>"},{"location":"plugins/spectrocloud/ingestor/configure/#projects","title":"Projects","text":"<ul> <li>Format: <code>&lt;project-name&gt;</code> or <code>&lt;instance&gt;-&lt;project-name&gt;</code></li> <li>Title: Original project name</li> </ul>"},{"location":"plugins/spectrocloud/ingestor/configure/#cluster-profiles","title":"Cluster Profiles","text":"<ul> <li>Project-scoped: <code>&lt;project-name&gt;-&lt;profile-name&gt;</code></li> <li>Tenant-scoped: <code>tenant-&lt;profile-name&gt;</code></li> <li>Title: Original profile name</li> </ul>"},{"location":"plugins/spectrocloud/ingestor/configure/#clusters","title":"Clusters","text":"<ul> <li>Project-scoped: <code>&lt;project-name&gt;-&lt;cluster-name&gt;</code></li> <li>Tenant-scoped: <code>tenant-&lt;cluster-name&gt;</code></li> <li>Title: Original cluster name</li> </ul>"},{"location":"plugins/spectrocloud/ingestor/configure/#cluster-groups","title":"Cluster Groups","text":"<ul> <li>Project-scoped: <code>&lt;project-name&gt;-&lt;cluster-group-name&gt;</code></li> <li>Tenant-scoped: <code>tenant-&lt;cluster-group-name&gt;</code></li> <li>Title: Original cluster group name</li> </ul>"},{"location":"plugins/spectrocloud/ingestor/configure/#virtual-clusters","title":"Virtual Clusters","text":"<ul> <li>Project-scoped: <code>&lt;project-name&gt;-&lt;virtual-cluster-name&gt;</code></li> <li>Tenant-scoped: <code>tenant-&lt;virtual-cluster-name&gt;</code></li> <li>Title: Original virtual cluster name</li> </ul>"},{"location":"plugins/spectrocloud/ingestor/configure/#filtering-strategies","title":"Filtering Strategies","text":""},{"location":"plugins/spectrocloud/ingestor/configure/#include-strategy","title":"Include Strategy","text":"<p>Use <code>includeProjects</code> to whitelist specific projects: <pre><code>catalogProvider:\n  includeProjects:\n    - production\n    - staging\n</code></pre></p>"},{"location":"plugins/spectrocloud/ingestor/configure/#exclude-strategy","title":"Exclude Strategy","text":"<p>Use <code>excludeProjects</code> to blacklist specific projects: <pre><code>catalogProvider:\n  excludeProjects:\n    - development\n    - testing\n    - sandbox\n</code></pre></p>"},{"location":"plugins/spectrocloud/ingestor/configure/#tenant-scoped-exclusion","title":"Tenant-Scoped Exclusion","text":"<p>Exclude all tenant-scoped resources (both profiles and clusters): <pre><code>catalogProvider:\n  excludeTenantScopedResources: true\n</code></pre></p> <p>Note: This replaces the separate <code>excludeTenantScopedProfiles</code> and <code>excludeTenantScopedClusters</code> options.</p>"},{"location":"plugins/spectrocloud/ingestor/configure/#entity-relationships","title":"Entity Relationships","text":"<p>The ingestor creates proper entity relationships:</p>"},{"location":"plugins/spectrocloud/ingestor/configure/#system-relationships","title":"System Relationships","text":"<ul> <li>Projects (System entities) contain profiles and clusters</li> <li>Project-scoped profiles have <code>spec.system</code> pointing to the project</li> <li>Project-scoped clusters have <code>spec.system</code> pointing to the project</li> </ul>"},{"location":"plugins/spectrocloud/ingestor/configure/#dependency-relationships","title":"Dependency Relationships","text":"<ul> <li>Clusters have <code>spec.dependsOn</code> referencing attached profile entities</li> <li>Cluster Groups have <code>spec.dependsOn</code> referencing:</li> <li>Member clusters (host clusters in the group)</li> <li>Add-on profiles attached to the cluster group</li> <li>Virtual Clusters have <code>spec.dependsOn</code> referencing:</li> <li>Host cluster (physical cluster hosting the virtual cluster)</li> <li>Cluster group (group the virtual cluster belongs to)</li> <li>Attached cluster profiles (directly attached to virtual cluster)</li> <li>Profile references use the profile version UID for exact version tracking</li> </ul>"},{"location":"plugins/spectrocloud/ingestor/configure/#example-relationships","title":"Example Relationships","text":"<pre><code># Project (System)\nkind: System\nmetadata:\n  name: my-project\nspec:\n  owner: group:default/platform-team\n\n---\n# Profile (Resource)\nkind: Resource\nmetadata:\n  name: my-project-infra-profile\nspec:\n  type: spectrocloud-cluster-profile\n  owner: group:default/platform-team\n  system: my-project  # Links to project\n\n---\n# Cluster (Resource)\nkind: Resource\nmetadata:\n  name: my-project-prod-cluster\nspec:\n  type: spectrocloud-cluster\n  owner: group:default/platform-team\n  system: my-project  # Links to project\n  dependsOn:\n    - resource:default/my-project-infra-profile  # Links to profile\n\n---\n# Cluster Group (Resource)\nkind: Resource\nmetadata:\n  name: my-project-vcluster-group\nspec:\n  type: spectrocloud-cluster-group\n  owner: group:default/platform-team\n  system: my-project\n  dependsOn:\n    - resource:default/my-project-prod-cluster  # Member cluster\n    - resource:default/my-project-addon-profile  # Add-on profile\n\n---\n# Virtual Cluster (Resource)\nkind: Resource\nmetadata:\n  name: my-project-dev-vcluster\nspec:\n  type: spectrocloud-virtual-cluster\n  owner: group:default/platform-team\n  system: my-project\n  dependsOn:\n    - resource:default/my-project-prod-cluster  # Host cluster\n    - resource:default/my-project-vcluster-group  # Cluster group\n    - resource:default/my-project-vcluster-profile  # Attached profile\n</code></pre>"},{"location":"plugins/spectrocloud/ingestor/configure/#best-practices","title":"Best Practices","text":""},{"location":"plugins/spectrocloud/ingestor/configure/#performance","title":"Performance","text":"<ol> <li>Set appropriate refresh intervals (not too frequent)</li> <li>Default 600 seconds (10 minutes) is suitable for most use cases</li> <li>Reduce for rapidly changing environments</li> <li>Increase for large, stable environments</li> <li>Use project filtering to limit scope</li> <li>Monitor catalog size growth</li> <li>Disable ingestion of unused resource types via <code>resources.*</code> settings</li> </ol>"},{"location":"plugins/spectrocloud/ingestor/configure/#security","title":"Security","text":"<ol> <li>Use environment variables for API tokens</li> <li>Limit API token permissions to read-only</li> <li>Use project filtering for sensitive environments</li> <li>Use <code>excludeTenantScopedResources</code> to prevent exposure of tenant-level resources</li> <li>Configure appropriate owner and namespace for ingested entities</li> </ol>"},{"location":"plugins/spectrocloud/ingestor/configure/#organization","title":"Organization","text":"<ol> <li>Use meaningful instance names for multi-instance setups</li> <li>Maintain consistent annotation prefix across all plugins</li> <li>Document project naming conventions</li> <li>Use descriptive titles for entities (set in entity metadata)</li> <li>Apply consistent tagging strategies</li> </ol>"},{"location":"plugins/spectrocloud/ingestor/configure/#troubleshooting","title":"Troubleshooting","text":""},{"location":"plugins/spectrocloud/ingestor/configure/#common-issues","title":"Common Issues","text":"<ol> <li>No Entities Created</li> <li>Verify <code>catalogProvider.enabled</code> is <code>true</code></li> <li>Check API credentials</li> <li> <p>Review project filters</p> </li> <li> <p>Missing Projects/Clusters</p> </li> <li>Check <code>includeProjects</code>/<code>excludeProjects</code> filters</li> <li>Verify API token has access</li> <li> <p>Check tenant-scoped exclusion settings</p> </li> <li> <p>Duplicate Entities</p> </li> <li>Ensure unique instance names</li> <li>Check annotation prefix consistency</li> <li> <p>Review naming conventions</p> </li> <li> <p>Stale Data</p> </li> <li>Reduce <code>refreshIntervalSeconds</code></li> <li>Check scheduler is running</li> <li>Review backend logs</li> <li> <p>Verify API token has not expired</p> </li> <li> <p>Relationship Errors</p> </li> <li>Verify parent entities (projects) are created before children</li> <li>Check <code>spec.system</code> and <code>spec.dependsOn</code> references</li> <li> <p>Ensure entity names are unique</p> </li> <li> <p>Owner Resolution Issues</p> </li> <li>Check <code>defaultOwner</code> entity exists in catalog</li> <li>Verify <code>ownerNamespace</code> is correct (<code>group</code> or <code>user</code>)</li> <li> <p>Confirm owner entity has correct format (e.g., <code>group:default/team-name</code>)</p> </li> <li> <p>Resource Type Toggle Not Working</p> </li> <li>Verify <code>resources.projects</code>, <code>resources.clusterProfiles</code>, <code>resources.clusters</code> settings</li> <li>Check logs for ingestion skipping messages</li> <li>Ensure config changes are loaded (restart backend if needed)</li> </ol>"},{"location":"plugins/spectrocloud/ingestor/install/","title":"Installing the SpectroCloud Ingestor Plugin","text":"<p>This guide will help you install and set up the SpectroCloud ingestor plugin in your Backstage instance.</p>"},{"location":"plugins/spectrocloud/ingestor/install/#prerequisites","title":"Prerequisites","text":"<p>Before installing the ingestor plugin, ensure you have:</p> <ol> <li>A working Backstage instance</li> <li>Node.js and npm/yarn installed</li> <li>Access to your Backstage backend configuration</li> <li>SpectroCloud Palette API credentials</li> </ol>"},{"location":"plugins/spectrocloud/ingestor/install/#installation-steps","title":"Installation Steps","text":""},{"location":"plugins/spectrocloud/ingestor/install/#1-add-required-package","title":"1. Add Required Package","text":"<p>Install the required package using your package manager:</p> <pre><code>yarn --cwd packages/backend add @terasky/backstage-plugin-spectrocloud-ingestor\n</code></pre>"},{"location":"plugins/spectrocloud/ingestor/install/#2-add-to-backend","title":"2. Add to Backend","text":"<p>Modify your backend entry point (typically <code>packages/backend/src/index.ts</code>):</p> <pre><code>// In your backend initialization\nbackend.add(import('@terasky/backstage-plugin-spectrocloud-ingestor'));\n</code></pre>"},{"location":"plugins/spectrocloud/ingestor/install/#3-configure-spectrocloud-connection","title":"3. Configure SpectroCloud Connection","text":"<p>Add the following to your <code>app-config.yaml</code>:</p> <pre><code>spectrocloud:\n  environments:\n    - name: production\n      url: https://api.spectrocloud.com\n      tenant: my-tenant\n      apiToken: ${SPECTROCLOUD_API_TOKEN}\n      catalogProvider:\n        enabled: true\n        refreshIntervalSeconds: 600\n</code></pre>"},{"location":"plugins/spectrocloud/ingestor/install/#verification","title":"Verification","text":"<p>After installation, verify that:</p> <ol> <li>The plugin appears in your package.json dependencies</li> <li>The backend starts without errors</li> <li>Entities appear in the catalog after the refresh interval</li> <li>Entity relationships are properly created</li> </ol>"},{"location":"plugins/spectrocloud/ingestor/install/#testing-the-installation","title":"Testing the Installation","text":"<ol> <li> <p>Check Backend Logs    Look for messages like:    <pre><code>SpectroCloud entity provider initialized\nSpectroCloud: Discovered X projects, Y profiles, Z clusters\n</code></pre></p> </li> <li> <p>View Catalog Entities</p> </li> <li>Navigate to the Backstage catalog</li> <li>Filter by <code>type:spectrocloud-cluster</code> or <code>type:spectrocloud-cluster-profile</code></li> <li> <p>Verify entities have correct annotations</p> </li> <li> <p>Check Entity Relationships</p> </li> <li>Open a cluster entity</li> <li>Verify it shows the parent system (project)</li> <li>Check profile references in annotations</li> </ol>"},{"location":"plugins/spectrocloud/ingestor/install/#troubleshooting","title":"Troubleshooting","text":"<p>Common issues and solutions:</p>"},{"location":"plugins/spectrocloud/ingestor/install/#1-no-entities-appearing","title":"1. No Entities Appearing","text":"<ul> <li>Verify SpectroCloud API credentials</li> <li>Check <code>catalogProvider.enabled</code> is <code>true</code></li> <li>Wait for the refresh interval to complete</li> <li>Check backend logs for errors</li> </ul>"},{"location":"plugins/spectrocloud/ingestor/install/#2-backend-startup-issues","title":"2. Backend Startup Issues","text":"<pre><code># Check backend logs with verbose output\nyarn workspace backend start --verbose\n</code></pre>"},{"location":"plugins/spectrocloud/ingestor/install/#3-api-connection-issues","title":"3. API Connection Issues","text":"<ul> <li>Verify SpectroCloud API URL is correct</li> <li>Check API token is valid and has read permissions</li> <li>Ensure tenant name is correct</li> <li>Review network connectivity</li> </ul>"},{"location":"plugins/spectrocloud/ingestor/install/#4-duplicate-entities","title":"4. Duplicate Entities","text":"<ul> <li>If using multiple instances, ensure unique <code>name</code> values</li> <li>Check annotation prefix is consistent</li> <li>Review entity naming conventions</li> </ul>"},{"location":"plugins/spectrocloud/ingestor/install/#next-steps","title":"Next Steps","text":"<p>After successful installation:</p> <ol> <li>Configure catalog provider options</li> <li>Set up entity refresh schedules</li> <li>Install the frontend plugin for visualization</li> <li>Install the backend plugin for API access</li> </ol> <p>Proceed to the Configuration Guide for detailed setup instructions.</p>"},{"location":"plugins/spring-initializer/overview/","title":"Spring Initializer Plugin","text":"<p>The Spring Initializer plugin for Backstage provides a powerful interface for creating Spring Boot applications through Software Templates. It enables teams to discover, configure, and generate Spring Boot projects directly within the Backstage scaffolder, making Spring Boot application creation a seamless part of the service creation process.</p>"},{"location":"plugins/spring-initializer/overview/#plugin-components","title":"Plugin Components","text":""},{"location":"plugins/spring-initializer/overview/#frontend-plugin","title":"Frontend Plugin","text":"<p>The frontend plugin provides a user interface for:</p> <ul> <li>Discovering available Spring Boot versions and configurations</li> <li>Configuring Spring Boot project metadata (groupId, artifactId, etc.)</li> <li>Selecting dependencies with smart compatibility filtering</li> <li>Version-aware dependency management</li> <li>Dynamic form generation based on Spring Initializer API</li> <li>Real-time validation of Spring Boot version and dependency compatibility</li> </ul> <p>Learn more about the frontend plugin</p>"},{"location":"plugins/spring-initializer/overview/#backend-module","title":"Backend Module","text":"<p>The backend module provides a scaffolder action for:</p> <ul> <li>Generating Spring Boot projects via Spring Initializer API</li> <li>Downloading and extracting project ZIP files</li> <li>Error handling with detailed Spring Initializer feedback</li> <li>Support for custom Spring Initializer endpoints</li> <li>Configurable output paths</li> </ul> <p>Learn more about the backend module</p>"},{"location":"plugins/spring-initializer/overview/#key-features","title":"Key Features","text":""},{"location":"plugins/spring-initializer/overview/#admin-configuration-control","title":"Admin Configuration Control","text":"<p>Administrators can enforce company standards through configuration:</p> <ol> <li>Field Defaults: Set default values for any configurable field</li> <li>Read-Only Fields: Lock fields to specific values (groupId, bootVersion, javaVersion, packaging, type, language)</li> <li>Required Dependencies: Force include specific dependencies that cannot be removed</li> <li>Disallowed Dependencies: Hide specific dependencies from users</li> <li>Flexible Enforcement: Mix defaults with user choice for optimal balance</li> </ol>"},{"location":"plugins/spring-initializer/overview/#dynamic-configuration-discovery","title":"Dynamic Configuration Discovery","text":"<p>The plugin fetches metadata from the Spring Initializer API (start.spring.io by default) to provide:</p> <ol> <li>Available Spring Boot Versions: Automatically discover all available versions including SNAPSHOT, Milestone (M), and Release Candidate (RC) versions</li> <li>Supported Languages: Java, Kotlin, and Groovy</li> <li>Project Types: Maven, Gradle, and Gradle Kotlin</li> <li>Java Versions: All supported JDK versions</li> <li>Dependencies: Comprehensive list of Spring Boot dependencies with metadata</li> </ol>"},{"location":"plugins/spring-initializer/overview/#smart-dependency-filtering","title":"Smart Dependency Filtering","text":"<ul> <li>Version Range Parsing: Automatically parses dependency version ranges like <code>[3.5.0,4.1.0-M1)</code></li> <li>Compatibility Checking: Only shows dependencies compatible with the selected Spring Boot version</li> <li>Auto-removal: Automatically removes incompatible dependencies when changing versions</li> <li>Category Filtering: Hides entire dependency categories when no compatible dependencies exist</li> <li>Compatibility Indicators: Shows count of compatible vs. total dependencies per category</li> </ul>"},{"location":"plugins/spring-initializer/overview/#version-intelligence","title":"Version Intelligence","text":"<p>The plugin understands Spring Boot version semantics: - Correctly orders versions considering suffixes (SNAPSHOT &lt; M &lt; RC &lt; Final) - Handles inclusive and exclusive version ranges - Supports complex version range notation - Prevents selection of incompatible dependency combinations</p>"},{"location":"plugins/spring-initializer/overview/#admin-configuration-control_1","title":"Admin Configuration Control","text":"<ul> <li>Enforce Company Standards: Lock fields to specific values</li> <li>Set Smart Defaults: Pre-configure common values</li> <li>Require Dependencies: Force include security, monitoring, or baseline dependencies</li> <li>Restrict Choices: Hide dependencies that violate company policies</li> <li>Flexible Enforcement: Mix locked and flexible fields for optimal UX</li> </ul>"},{"location":"plugins/spring-initializer/overview/#custom-endpoint-support","title":"Custom Endpoint Support","text":"<ul> <li>Configure custom Spring Initializer endpoints for private instances</li> <li>Full proxy support to avoid CORS issues</li> <li>Configurable API paths</li> </ul>"},{"location":"plugins/spring-initializer/overview/#getting-started","title":"Getting Started","text":"<p>To get started with the Spring Initializer plugin:</p> <ol> <li>Follow the Frontend Installation Guide</li> <li>Follow the Backend Installation Guide</li> <li>Configure the plugins using the Frontend Configuration Guide and Backend Configuration Guide</li> <li>Start creating Spring Boot applications through your templates</li> </ol>"},{"location":"plugins/spring-initializer/overview/#documentation-structure","title":"Documentation Structure","text":"<p>Frontend Plugin - About - Learn about the plugin's components and features - Installation - Step-by-step installation guide - Configuration - Detailed configuration options</p> <p>Backend Module - About - Learn about the scaffolder action - Installation - Step-by-step installation guide - Configuration - Detailed configuration options</p>"},{"location":"plugins/spring-initializer/backend/about/","title":"Spring Initializer Backend Module","text":"<p>The backend component of the Spring Initializer plugin provides a scaffolder action that integrates with the Spring Initializer API to generate Spring Boot projects.</p>"},{"location":"plugins/spring-initializer/backend/about/#scaffolder-action","title":"Scaffolder Action","text":""},{"location":"plugins/spring-initializer/backend/about/#teraskyspring-initializer","title":"<code>terasky:spring-initializer</code>","text":"<p>This action generates a Spring Boot project by calling the Spring Initializer API, downloading the generated ZIP file, and extracting it to the workspace.</p>"},{"location":"plugins/spring-initializer/backend/about/#features","title":"Features","text":""},{"location":"plugins/spring-initializer/backend/about/#project-generation","title":"Project Generation","text":"<ul> <li>Calls Spring Initializer API with project configuration</li> <li>Downloads generated project as ZIP file</li> <li>Automatically extracts ZIP contents</li> <li>Configurable output paths</li> <li>Support for custom Spring Initializer endpoints</li> </ul>"},{"location":"plugins/spring-initializer/backend/about/#smart-parameter-handling","title":"Smart Parameter Handling","text":"<ul> <li>Filters out empty/undefined parameters</li> <li>Uses sensible defaults for missing values</li> <li>Validates parameter combinations</li> <li>Properly encodes special characters in URLs</li> </ul>"},{"location":"plugins/spring-initializer/backend/about/#error-handling","title":"Error Handling","text":"<ul> <li>Detailed error messages from Spring Initializer API</li> <li>Logs full request URL for debugging</li> <li>Logs all parameters being sent</li> <li>Parses and displays Spring Initializer error responses</li> <li>Provides context for troubleshooting</li> </ul>"},{"location":"plugins/spring-initializer/backend/about/#configuration-support","title":"Configuration Support","text":"<ul> <li>Custom endpoint URLs</li> <li>Per-action endpoint override</li> <li>Global configuration defaults</li> <li>Environment-specific settings</li> </ul>"},{"location":"plugins/spring-initializer/backend/about/#action-schema","title":"Action Schema","text":""},{"location":"plugins/spring-initializer/backend/about/#input-parameters","title":"Input Parameters","text":"<p>All parameters are optional and will use Spring Initializer defaults if not provided:</p> Parameter Type Description Example <code>type</code> string Project type <code>maven-project</code>, <code>gradle-project</code>, <code>gradle-project-kotlin</code> <code>language</code> string Programming language <code>java</code>, <code>kotlin</code>, <code>groovy</code> <code>bootVersion</code> string Spring Boot version <code>3.5.10</code>, <code>4.0.2</code> <code>groupId</code> string Maven/Gradle group ID <code>com.example</code> <code>artifactId</code> string Maven/Gradle artifact ID <code>demo</code> <code>version</code> string Project version <code>0.0.1-SNAPSHOT</code> <code>name</code> string Project name <code>Demo Application</code> <code>description</code> string Project description <code>Demo project for Spring Boot</code> <code>packageName</code> string Base package name <code>com.example.demo</code> <code>packaging</code> string Packaging type <code>jar</code>, <code>war</code> <code>javaVersion</code> string Java version <code>17</code>, <code>21</code>, <code>25</code> <code>dependencies</code> string Comma-separated dependency IDs <code>web,data-jpa,security</code> <code>outputPath</code> string Output path relative to workspace <code>.</code> (default) <code>endpoint</code> string Custom Spring Initializer URL <code>https://start.spring.io</code>"},{"location":"plugins/spring-initializer/backend/about/#output-parameters","title":"Output Parameters","text":"Parameter Type Description <code>projectPath</code> string Path where project was extracted relative to workspace"},{"location":"plugins/spring-initializer/backend/about/#technical-details","title":"Technical Details","text":""},{"location":"plugins/spring-initializer/backend/about/#request-building","title":"Request Building","text":"<p>The action builds a URL with query parameters:</p> <pre><code>const params = new URLSearchParams();\nparams.append('type', input.type || 'maven-project');\nparams.append('language', input.language || 'java');\n// ... more parameters\n\nconst url = `${endpoint}/starter.zip?${params.toString()}`;\n</code></pre>"},{"location":"plugins/spring-initializer/backend/about/#dependency-handling","title":"Dependency Handling","text":"<p>Dependencies are sent as a comma-separated list:</p> <pre><code>const dependencies = 'web,data-jpa,security,actuator';\nparams.append('dependencies', dependencies);\n</code></pre>"},{"location":"plugins/spring-initializer/backend/about/#zip-extraction","title":"ZIP Extraction","text":"<p>Uses <code>adm-zip</code> to extract project files:</p> <pre><code>const buffer = await response.buffer();\nconst zip = new AdmZip(buffer);\nzip.extractAllTo(outputPath, true);\n</code></pre>"},{"location":"plugins/spring-initializer/backend/about/#error-response-parsing","title":"Error Response Parsing","text":"<p>Parses Spring Initializer error responses:</p> <pre><code>{\n  \"timestamp\": \"2026-02-01T18:26:22.638+00:00\",\n  \"status\": 400,\n  \"error\": \"Bad Request\",\n  \"message\": \"Dependency 'spring-ai-anthropic' is not compatible with Spring Boot 4.1.0-SNAPSHOT\",\n  \"path\": \"/starter.zip\"\n}\n</code></pre>"},{"location":"plugins/spring-initializer/backend/about/#integration","title":"Integration","text":"<p>The action integrates with:</p> <ol> <li>Spring Initializer API: Fetches project ZIP files</li> <li>Backstage Config: Reads endpoint configuration</li> <li>File System: Writes extracted files to workspace</li> <li>Scaffolder Context: Provides logging and workspace access</li> </ol>"},{"location":"plugins/spring-initializer/backend/about/#usage-example","title":"Usage Example","text":"<pre><code>steps:\n  - id: generate-spring\n    name: Generate Spring Boot Project\n    action: terasky:spring-initializer\n    input:\n      type: maven-project\n      language: java\n      bootVersion: '3.5.10'\n      groupId: com.example\n      artifactId: myapp\n      name: My Application\n      description: My Spring Boot application\n      packageName: com.example.myapp\n      packaging: jar\n      javaVersion: '17'\n      dependencies: web,data-jpa,postgresql,actuator\n      outputPath: .\n</code></pre>"},{"location":"plugins/spring-initializer/backend/about/#logging","title":"Logging","text":"<p>The action provides detailed logging:</p> <pre><code>info: Generating Spring Boot project with artifact: myapp\ninfo: Fetching Spring project from: https://start.spring.io/starter.zip?type=maven-project&amp;language=java&amp;...\ninfo: Parameters: {\"type\":\"maven-project\",\"language\":\"java\",...}\ninfo: Spring project extracted to: /workspace\n</code></pre>"},{"location":"plugins/spring-initializer/backend/about/#dependencies","title":"Dependencies","text":"<ul> <li><code>@backstage/plugin-scaffolder-node</code>: Scaffolder action framework</li> <li><code>@backstage/backend-plugin-api</code>: Backend plugin utilities</li> <li><code>node-fetch</code>: HTTP client for API calls</li> <li><code>adm-zip</code>: ZIP file extraction</li> <li><code>fs-extra</code>: Enhanced file system operations</li> </ul> <p>For installation and configuration details, see the Installation and Configuration guides.</p>"},{"location":"plugins/spring-initializer/backend/configure/","title":"Configuring the Spring Initializer Backend Module","text":"<p>This guide covers all configuration options for the Spring Initializer backend module.</p>"},{"location":"plugins/spring-initializer/backend/configure/#basic-configuration","title":"Basic Configuration","text":"<p>Add configuration to your <code>app-config.yaml</code>:</p> <pre><code>springInitializer:\n  # Spring Initializer API endpoint (optional)\n  endpoint: 'https://start.spring.io'  # default\n</code></pre>"},{"location":"plugins/spring-initializer/backend/configure/#custom-endpoint","title":"Custom Endpoint","text":"<p>For a self-hosted Spring Initializer instance:</p> <pre><code>springInitializer:\n  endpoint: 'https://spring-init.internal.company.com'\n</code></pre>"},{"location":"plugins/spring-initializer/backend/configure/#per-action-override","title":"Per-Action Override","text":"<p>You can override the endpoint in individual template actions:</p> <pre><code>steps:\n  - id: generate-spring\n    name: Generate Spring Boot Project\n    action: terasky:spring-initializer\n    input:\n      # Override global endpoint\n      endpoint: 'https://spring-init-dev.company.com'\n\n      # Other parameters\n      type: maven-project\n      language: java\n      bootVersion: '3.5.10'\n      groupId: com.example\n      artifactId: demo\n</code></pre>"},{"location":"plugins/spring-initializer/backend/configure/#environment-specific-configuration","title":"Environment-Specific Configuration","text":"<p>Configure different endpoints for different environments:</p> <pre><code># app-config.yaml (development)\nspringInitializer:\n  endpoint: 'https://start-dev.spring.io'\n</code></pre> <pre><code># app-config.production.yaml\nspringInitializer:\n  endpoint: 'https://start.spring.io'\n</code></pre>"},{"location":"plugins/spring-initializer/backend/configure/#action-parameters","title":"Action Parameters","text":""},{"location":"plugins/spring-initializer/backend/configure/#required-parameters","title":"Required Parameters","text":"<p>None - all parameters are optional and use Spring Initializer defaults.</p>"},{"location":"plugins/spring-initializer/backend/configure/#optional-parameters","title":"Optional Parameters","text":"<p>Configure these in your template steps:</p> <pre><code>steps:\n  - id: generate-spring\n    name: Generate Spring Boot Project\n    action: terasky:spring-initializer\n    input:\n      # Project Configuration\n      type: maven-project              # maven-project, gradle-project, gradle-project-kotlin\n      language: java                   # java, kotlin, groovy\n      bootVersion: '3.5.10'           # Any available Spring Boot version\n\n      # Maven/Gradle Coordinates\n      groupId: com.example            # Maven group ID\n      artifactId: myapp               # Maven artifact ID\n      version: '0.0.1-SNAPSHOT'       # Project version\n\n      # Project Metadata\n      name: 'My Application'          # Project name\n      description: 'My Spring Boot application'\n      packageName: com.example.myapp  # Base package\n\n      # Build Configuration\n      packaging: jar                   # jar or war\n      javaVersion: '17'               # 17, 21, 25\n\n      # Dependencies\n      dependencies: 'web,data-jpa,postgresql,actuator'  # Comma-separated\n\n      # Output Configuration\n      outputPath: '.'                 # Relative to workspace\n\n      # Endpoint Override\n      endpoint: 'https://start.spring.io'  # Optional override\n</code></pre>"},{"location":"plugins/spring-initializer/backend/configure/#default-values","title":"Default Values","text":"<p>If parameters are not provided, the action uses these defaults:</p> <pre><code>type: 'maven-project'\nlanguage: 'java'\nbootVersion: '3.5.10'\ngroupId: 'com.example'\nartifactId: 'demo'\nversion: '0.0.1-SNAPSHOT'\nname: 'demo'\ndescription: 'Demo project for Spring Boot'\npackageName: 'com.example.demo'\npackaging: 'jar'\njavaVersion: '17'\n</code></pre>"},{"location":"plugins/spring-initializer/backend/configure/#template-examples","title":"Template Examples","text":""},{"location":"plugins/spring-initializer/backend/configure/#minimal-template","title":"Minimal Template","text":"<pre><code>steps:\n  - id: generate-spring\n    name: Generate Spring Boot Project\n    action: terasky:spring-initializer\n    input:\n      dependencies: 'web'\n</code></pre>"},{"location":"plugins/spring-initializer/backend/configure/#complete-template","title":"Complete Template","text":"<pre><code>steps:\n  - id: fetch-base\n    name: Fetch Base\n    action: fetch:template\n    input:\n      url: ./skeleton\n      values:\n        name: ${{ parameters.name }}\n\n  - id: generate-spring\n    name: Generate Spring Boot Project\n    action: terasky:spring-initializer\n    input:\n      type: ${{ parameters.projectType }}\n      language: ${{ parameters.language }}\n      bootVersion: ${{ parameters.bootVersion }}\n      groupId: ${{ parameters.groupId }}\n      artifactId: ${{ parameters.artifactId }}\n      name: ${{ parameters.name }}\n      description: ${{ parameters.description }}\n      packageName: ${{ parameters.packageName }}\n      packaging: ${{ parameters.packaging }}\n      javaVersion: ${{ parameters.javaVersion }}\n      dependencies: ${{ parameters.dependencies }}\n      outputPath: './spring-app'\n\n  - id: publish\n    name: Publish to Repository\n    action: publish:github\n    input:\n      description: ${{ parameters.description }}\n      repoUrl: ${{ parameters.repoUrl }}\n      defaultBranch: main\n      sourcePath: './spring-app'\n</code></pre>"},{"location":"plugins/spring-initializer/backend/configure/#with-frontend-plugin","title":"With Frontend Plugin","text":"<p>Complete integration with frontend plugin:</p> <pre><code>apiVersion: scaffolder.backstage.io/v1beta3\nkind: Template\nmetadata:\n  name: spring-boot-service\n  title: Spring Boot Microservice\nspec:\n  owner: platform-team\n  type: service\n\n  parameters:\n    - title: Spring Boot Configuration\n      properties:\n        springConfig:\n          title: Spring Configuration\n          type: object\n          ui:field: SpringInitializer\n\n  steps:\n    - id: generate-spring\n      name: Generate Spring Boot Project\n      action: terasky:spring-initializer\n      input:\n        type: ${{ parameters.springConfig.type }}\n        language: ${{ parameters.springConfig.language }}\n        bootVersion: ${{ parameters.springConfig.bootVersion }}\n        groupId: ${{ parameters.springConfig.groupId }}\n        artifactId: ${{ parameters.springConfig.artifactId }}\n        name: ${{ parameters.springConfig.name }}\n        description: ${{ parameters.springConfig.description }}\n        packageName: ${{ parameters.springConfig.packageName }}\n        packaging: ${{ parameters.springConfig.packaging }}\n        javaVersion: ${{ parameters.springConfig.javaVersion }}\n        dependencies: ${{ parameters.springConfig.dependencies }}\n</code></pre>"},{"location":"plugins/spring-initializer/backend/configure/#advanced-configuration","title":"Advanced Configuration","text":""},{"location":"plugins/spring-initializer/backend/configure/#authentication","title":"Authentication","text":"<p>If your Spring Initializer instance requires authentication:</p> <pre><code>springInitializer:\n  endpoint: 'https://spring-init.company.com'\n\n# Configure authentication at the HTTP client level\n# (This depends on your specific setup)\n</code></pre>"},{"location":"plugins/spring-initializer/backend/configure/#timeout-configuration","title":"Timeout Configuration","text":"<p>Configure HTTP timeouts if needed (requires custom implementation):</p> <pre><code>// In a custom action wrapper\nconst response = await fetch(url, {\n  timeout: 30000,  // 30 seconds\n});\n</code></pre>"},{"location":"plugins/spring-initializer/backend/configure/#logging-configuration","title":"Logging Configuration","text":"<p>Control log verbosity in your Backstage backend configuration:</p> <pre><code>backend:\n  # Increase log level for debugging\n  log:\n    level: debug\n</code></pre>"},{"location":"plugins/spring-initializer/backend/configure/#error-handling","title":"Error Handling","text":""},{"location":"plugins/spring-initializer/backend/configure/#handling-api-errors","title":"Handling API Errors","text":"<p>The action provides detailed error messages:</p> <pre><code>Error: Failed to fetch Spring project: 400 Bad Request\n\nSpring Initializer error: Dependency 'spring-ai-anthropic' is not compatible with Spring Boot 4.1.0-SNAPSHOT\n</code></pre>"},{"location":"plugins/spring-initializer/backend/configure/#logging-details","title":"Logging Details","text":"<p>The action logs: - Full request URL - All parameters being sent - Error responses from API - Extraction progress - Output paths</p> <p>Example logs:</p> <pre><code>info: Generating Spring Boot project with artifact: myapp\ninfo: Fetching Spring project from: https://start.spring.io/starter.zip?type=maven-project&amp;language=java&amp;bootVersion=3.5.10&amp;...\ninfo: Parameters: {\"type\":\"maven-project\",\"language\":\"java\",\"bootVersion\":\"3.5.10\",...}\ninfo: Spring project extracted to: /workspace/spring-app\n</code></pre>"},{"location":"plugins/spring-initializer/backend/configure/#best-practices","title":"Best Practices","text":"<ol> <li>Use Frontend Plugin: Always pair with frontend plugin for dependency compatibility</li> <li>Validate Inputs: Use frontend validation before calling action</li> <li>Set Reasonable Defaults: Provide sensible defaults in templates</li> <li>Handle Errors Gracefully: Check for action errors in templates</li> <li>Document Dependencies: Document available dependency IDs</li> <li>Test Configurations: Test with various Spring Boot versions</li> <li>Monitor API Health: Monitor Spring Initializer API availability</li> <li>Use Specific Versions: Pin Spring Boot versions when possible</li> </ol>"},{"location":"plugins/spring-initializer/backend/configure/#troubleshooting-configuration","title":"Troubleshooting Configuration","text":""},{"location":"plugins/spring-initializer/backend/configure/#verify-endpoint","title":"Verify Endpoint","text":"<pre><code># Test endpoint accessibility\ncurl -I https://start.spring.io\n</code></pre>"},{"location":"plugins/spring-initializer/backend/configure/#check-configuration-loading","title":"Check Configuration Loading","text":"<pre><code># Check backend logs for configuration\ntail -f packages/backend/dist/bundle.js.log | grep -i spring\n</code></pre>"},{"location":"plugins/spring-initializer/backend/configure/#test-action-directly","title":"Test Action Directly","text":"<pre><code># List available actions\ncurl http://localhost:7007/api/scaffolder/v2/actions | jq '.[] | select(.id == \"terasky:spring-initializer\")'\n</code></pre>"},{"location":"plugins/spring-initializer/backend/configure/#next-steps","title":"Next Steps","text":"<ul> <li>Review the About page for technical details</li> <li>Check the Installation guide</li> <li>Set up the Frontend Plugin</li> <li>Create your first Spring Boot template</li> <li>Test error handling with incompatible dependencies</li> <li>Monitor action execution in production</li> </ul>"},{"location":"plugins/spring-initializer/backend/install/","title":"Installing the Spring Initializer Backend Module","text":"<p>This guide will help you install and set up the Spring Initializer backend module in your Backstage instance.</p>"},{"location":"plugins/spring-initializer/backend/install/#prerequisites","title":"Prerequisites","text":"<ul> <li>Backstage application</li> <li>Node.js and npm/yarn</li> <li>Access to Spring Initializer API (start.spring.io or self-hosted)</li> </ul>"},{"location":"plugins/spring-initializer/backend/install/#installation-steps","title":"Installation Steps","text":"<ol> <li>Install the module package:</li> </ol> <pre><code># Using yarn\nyarn --cwd packages/backend add @terasky/backstage-plugin-scaffolder-backend-module-spring-initializer\n</code></pre> <ol> <li>Add the module to your backend in <code>packages/backend/src/index.ts</code>:</li> </ol> <pre><code>import { scaffolderModule as springInitializerModule } from '@terasky/backstage-plugin-scaffolder-backend-module-spring-initializer';\n\nconst backend = createBackend();\n\n// ... other modules\n\n// Add Spring Initializer module\nbackend.add(springInitializerModule);\n</code></pre> <ol> <li>(Optional) Configure a custom Spring Initializer endpoint in <code>app-config.yaml</code>:</li> </ol> <pre><code>springInitializer:\n  endpoint: 'https://start.spring.io'  # default\n</code></pre> <ol> <li>Restart your backend:</li> </ol> <pre><code>yarn --cwd packages/backend start\n</code></pre>"},{"location":"plugins/spring-initializer/backend/install/#verification","title":"Verification","text":"<p>To verify the installation:</p> <ol> <li> <p>Check backend logs for successful module registration: <pre><code>info: Registered scaffolder action: terasky:spring-initializer\n</code></pre></p> </li> <li> <p>Create a test template that uses the action:</p> </li> </ol> <pre><code>apiVersion: scaffolder.backstage.io/v1beta3\nkind: Template\nmetadata:\n  name: test-spring-initializer\n  title: Test Spring Initializer\nspec:\n  owner: platform-team\n  type: service\n\n  parameters:\n    - title: Test\n      properties:\n        test:\n          title: Test\n          type: string\n\n  steps:\n    - id: generate-spring\n      name: Generate Spring Boot Project\n      action: terasky:spring-initializer\n      input:\n        type: maven-project\n        language: java\n        bootVersion: '3.5.10'\n        groupId: com.test\n        artifactId: test-app\n        name: Test App\n        description: Test application\n        packageName: com.test.app\n        packaging: jar\n        javaVersion: '17'\n        dependencies: web\n</code></pre> <ol> <li>Execute the template and verify:</li> <li>Action runs without errors</li> <li>Spring Boot project is generated</li> <li>Files are extracted to workspace</li> <li>Detailed logs are visible</li> </ol>"},{"location":"plugins/spring-initializer/backend/install/#troubleshooting","title":"Troubleshooting","text":"<p>Common issues and solutions:</p> <ol> <li>Module Not Registered</li> <li>Verify package is installed: <code>yarn why @terasky/backstage-plugin-scaffolder-backend-module-spring-initializer</code></li> <li>Check import statement in <code>packages/backend/src/index.ts</code></li> <li>Ensure <code>backend.add(springInitializerModule)</code> is called</li> <li> <p>Restart backend after adding module</p> </li> <li> <p>Action Not Found</p> </li> <li>Check backend logs for registration message</li> <li>Verify module is loaded before templates</li> <li> <p>Check for conflicting action IDs</p> </li> <li> <p>API Connection Issues</p> </li> <li>Verify Spring Initializer API is accessible from backend</li> <li>Check network/firewall rules</li> <li>Test API directly: <code>curl https://start.spring.io</code></li> <li> <p>Check for proxy requirements</p> </li> <li> <p>ZIP Extraction Fails</p> </li> <li>Verify workspace permissions</li> <li>Check disk space</li> <li>Review output path configuration</li> <li> <p>Check backend logs for specific errors</p> </li> <li> <p>Dependency Errors (400 Bad Request)</p> </li> <li>This is expected for incompatible combinations</li> <li>Use frontend plugin to filter compatible dependencies</li> <li>Check Spring Initializer error message in logs</li> <li>Verify dependency IDs are correct</li> </ol>"},{"location":"plugins/spring-initializer/backend/install/#action-registration","title":"Action Registration","text":"<p>The module registers the action automatically using Backstage's new backend system:</p> <pre><code>export const scaffolderModule = createBackendModule({\n  moduleId: 'spring-initializer-action',\n  pluginId: 'scaffolder',\n  register({ registerInit }) {\n    registerInit({\n      deps: {\n        scaffolderActions: scaffolderActionsExtensionPoint,\n        config: coreServices.rootConfig,\n      },\n      async init({ scaffolderActions, config }) {\n        scaffolderActions.addActions(\n          createSpringInitializerAction({ config })\n        );\n      }\n    });\n  },\n});\n</code></pre>"},{"location":"plugins/spring-initializer/backend/install/#testing-the-action","title":"Testing the Action","text":""},{"location":"plugins/spring-initializer/backend/install/#manual-testing","title":"Manual Testing","text":"<p>Test the action directly:</p> <pre><code># From your Backstage root\ncurl http://localhost:7007/api/scaffolder/v2/actions\n</code></pre> <p>Look for <code>terasky:spring-initializer</code> in the response.</p>"},{"location":"plugins/spring-initializer/backend/install/#integration-testing","title":"Integration Testing","text":"<p>Create a test template and execute it:</p> <ol> <li>Register the template in your catalog</li> <li>Navigate to \"Create\" page</li> <li>Select the test template</li> <li>Fill in required parameters</li> <li>Execute and monitor logs</li> <li>Verify project is created</li> </ol>"},{"location":"plugins/spring-initializer/backend/install/#next-steps","title":"Next Steps","text":"<p>After installation:</p> <ol> <li>Configure custom endpoints if needed (see Configuration)</li> <li>Install the Frontend Plugin</li> <li>Create templates using both plugins together</li> <li>Test with various Spring Boot versions</li> <li>Verify dependency compatibility handling</li> <li>Set up CI/CD for generated projects</li> </ol> <p>For detailed configuration options, see the Configuration guide.</p>"},{"location":"plugins/spring-initializer/frontend/about/","title":"Spring Initializer Frontend Plugin","text":"<p>The frontend component of the Spring Initializer plugin provides a rich user interface for discovering and configuring Spring Boot projects within Backstage Software Templates.</p>"},{"location":"plugins/spring-initializer/frontend/about/#components","title":"Components","text":""},{"location":"plugins/spring-initializer/frontend/about/#springinitializerform","title":"SpringInitializerForm","text":"<p>The main form component that provides:</p> <ul> <li>Dynamic metadata fetching from Spring Initializer API</li> <li>Project type selection (Maven, Gradle, Gradle Kotlin)</li> <li>Language selection (Java, Kotlin, Groovy)</li> <li>Spring Boot version selection with full version history</li> <li>Project metadata configuration (groupId, artifactId, name, description, etc.)</li> <li>Packaging type selection (JAR, WAR)</li> <li>Java version selection</li> <li>Dependency selection with categorization</li> </ul>"},{"location":"plugins/spring-initializer/frontend/about/#smart-dependency-management","title":"Smart Dependency Management","text":"<p>The component provides intelligent dependency filtering:</p> <ul> <li>Version Range Parsing: Parses ranges like <code>[3.5.0,4.1.0-M1)</code>, <code>4.0.0</code>, etc.</li> <li>Compatibility Checking: Only displays dependencies compatible with selected Spring Boot version</li> <li>Auto-removal: Automatically deselects incompatible dependencies when version changes</li> <li>Category Filtering: Hides categories with no compatible dependencies</li> <li>Count Display: Shows compatible/total dependency counts per category</li> </ul>"},{"location":"plugins/spring-initializer/frontend/about/#features","title":"Features","text":""},{"location":"plugins/spring-initializer/frontend/about/#admin-configuration-control","title":"Admin Configuration Control","text":"<p>Administrators can control the form behavior through app-config.yaml:</p>"},{"location":"plugins/spring-initializer/frontend/about/#field-defaults-and-read-only-mode","title":"Field Defaults and Read-Only Mode","text":"<ul> <li>Set default values for any field</li> <li>Make fields read-only to enforce company standards</li> <li>Configurable fields: groupId, bootVersion, javaVersion, packaging, type, language</li> </ul> <p>Example: <pre><code>springInitializer:\n  defaultGroupId: 'com.mycompany'\n  defaultGroupIdReadOnly: true\n  defaultJavaVersion: '17'\n  defaultJavaVersionReadOnly: true\n</code></pre></p>"},{"location":"plugins/spring-initializer/frontend/about/#dependency-management","title":"Dependency Management","text":"<ul> <li>Required Dependencies: Force include dependencies that cannot be removed</li> <li>Disallowed Dependencies: Hide dependencies from the UI</li> <li>Helps enforce security policies and company standards</li> </ul> <p>Example: <pre><code>springInitializer:\n  requiredDependencies:\n    - web\n    - actuator\n    - security\n  disallowedDependencies:\n    - devtools\n    - h2\n</code></pre></p>"},{"location":"plugins/spring-initializer/frontend/about/#dynamic-metadata-discovery","title":"Dynamic Metadata Discovery","text":"<ul> <li>Automatic fetching from Spring Initializer API</li> <li>Support for custom endpoints</li> <li>Proxy integration to avoid CORS issues</li> <li>Real-time metadata updates</li> <li>Error handling and retry logic</li> </ul>"},{"location":"plugins/spring-initializer/frontend/about/#version-aware-intelligence","title":"Version-Aware Intelligence","text":"<p>The plugin understands Spring Boot version semantics: - Correctly orders: <code>4.1.0</code> &gt; <code>4.1.0-RC1</code> &gt; <code>4.1.0-M1</code> &gt; <code>4.1.0-SNAPSHOT</code> - Parses version ranges:   - <code>[3.5.0,4.0.0)</code> = &gt;= 3.5.0 and &lt; 4.0.0   - <code>4.0.0</code> = &gt;= 4.0.0   - <code>[3.5.0,4.2.0-M1)</code> = &gt;= 3.5.0 and &lt; 4.2.0-M1 - Handles inclusive <code>[</code> and exclusive <code>)</code> range boundaries</p>"},{"location":"plugins/spring-initializer/frontend/about/#project-configuration","title":"Project Configuration","text":"<ul> <li>Group ID: Maven/Gradle group identifier</li> <li>Artifact ID: Project artifact name</li> <li>Name: Human-readable project name</li> <li>Description: Project description</li> <li>Package Name: Base Java package</li> <li>Version: Project version number</li> <li>Packaging: JAR or WAR packaging</li> <li>Java Version: JDK version selection</li> </ul>"},{"location":"plugins/spring-initializer/frontend/about/#dependency-selection","title":"Dependency Selection","text":"<ul> <li>Categorized dependency lists (Web, Data, Security, etc.)</li> <li>Multi-select checkboxes with intelligent status indicators</li> <li>Dependency descriptions</li> <li>Transparent Filtering: All dependencies shown with visual explanations:</li> <li>\u2705 Available dependencies: Normal appearance, can be selected</li> <li>\ud83d\udd35 Required dependencies: Pre-selected with blue \"(Required)\" label</li> <li>\ud83d\udd34 Disallowed dependencies: Disabled with red \"(Disallowed by policy)\" label</li> <li>\ud83d\udfe0 Incompatible dependencies: Disabled with orange label showing version requirement</li> <li>Selected dependencies summary with remove chips</li> <li>Category accordion with availability counts (e.g., \"5/12 available\")</li> </ul>"},{"location":"plugins/spring-initializer/frontend/about/#api-integration","title":"API Integration","text":"<p>The plugin integrates with Backstage APIs:</p> <pre><code>// Uses discoveryApiRef to find proxy endpoint\nconst backendUrl = await discoveryApi.getBaseUrl('proxy');\nconst proxyPath = config.getOptionalString('springInitializer.proxyPath') || '/spring-initializer';\n\n// Fetches metadata with proper headers\nconst response = await fetchApi.fetch(`${backendUrl}${proxyPath}`, {\n  headers: {\n    'Accept': 'application/vnd.initializr.v2.2+json',\n  },\n});\n</code></pre>"},{"location":"plugins/spring-initializer/frontend/about/#form-output","title":"Form Output","text":"<p>The form outputs a complete Spring Boot configuration object:</p> <pre><code>{\n  type: string,              // e.g., 'maven-project'\n  language: string,          // e.g., 'java'\n  bootVersion: string,       // e.g., '3.5.10'\n  groupId: string,           // e.g., 'com.example'\n  artifactId: string,        // e.g., 'demo'\n  version: string,           // e.g., '0.0.1-SNAPSHOT'\n  name: string,              // e.g., 'Demo Application'\n  description: string,       // e.g., 'Demo project'\n  packageName: string,       // e.g., 'com.example.demo'\n  packaging: string,         // e.g., 'jar'\n  javaVersion: string,       // e.g., '17'\n  dependencies: string       // e.g., 'web,data-jpa,security'\n}\n</code></pre>"},{"location":"plugins/spring-initializer/frontend/about/#integration","title":"Integration","text":"<p>The plugin integrates with Backstage's Software Templates system through:</p> <ol> <li>Custom field extension (<code>SpringInitializer</code>)</li> <li>Form validation and state management</li> <li>Configuration API for endpoint customization</li> <li>Discovery API for proxy URL resolution</li> <li>Fetch API for secure HTTP requests</li> </ol> <p>For installation and configuration details, see the Installation and Configuration guides.</p>"},{"location":"plugins/spring-initializer/frontend/configure/","title":"Configuring the Spring Initializer Frontend Plugin","text":"<p>This guide covers all configuration options for the Spring Initializer frontend plugin.</p>"},{"location":"plugins/spring-initializer/frontend/configure/#basic-configuration","title":"Basic Configuration","text":"<p>Add configuration to your <code>app-config.yaml</code>:</p> <pre><code>springInitializer:\n  # Custom Spring Initializer endpoint (optional)\n  endpoint: 'https://start.spring.io'  # default\n\n  # Proxy path for API calls (optional)\n  proxyPath: '/spring-initializer'     # default\n\n  # Field defaults and restrictions (optional)\n  defaultGroupId: 'com.mycompany'      # Default group ID\n  defaultGroupIdReadOnly: false         # Make field read-only\n\n  defaultBootVersion: '3.5.10'         # Default Spring Boot version\n  defaultBootVersionReadOnly: false     # Enforce this version\n\n  defaultJavaVersion: '17'             # Default Java version\n  defaultJavaVersionReadOnly: false     # Lock to specific version\n\n  defaultPackaging: 'jar'              # Default packaging\n  defaultPackagingReadOnly: false       # Enforce packaging type\n\n  defaultType: 'maven-project'         # Default project type\n  defaultTypeReadOnly: false            # Lock project type\n\n  defaultLanguage: 'java'              # Default language\n  defaultLanguageReadOnly: false        # Enforce language\n\n  # Dependency restrictions (optional)\n  requiredDependencies:                # Always included, cannot be removed\n    - web\n    - actuator\n\n  disallowedDependencies:              # Never shown to users\n    - devtools\n    - lombok\n</code></pre>"},{"location":"plugins/spring-initializer/frontend/configure/#proxy-configuration","title":"Proxy Configuration","text":"<p>Configure the proxy to avoid CORS issues:</p> <pre><code>proxy:\n  endpoints:\n    '/spring-initializer':\n      target: 'https://start.spring.io'\n      changeOrigin: true\n</code></pre>"},{"location":"plugins/spring-initializer/frontend/configure/#custom-endpoint-with-proxy","title":"Custom Endpoint with Proxy","text":"<p>For a self-hosted Spring Initializer:</p> <pre><code>springInitializer:\n  endpoint: 'https://spring-init.internal.company.com'\n  proxyPath: '/spring-initializer'\n\nproxy:\n  endpoints:\n    '/spring-initializer':\n      target: 'https://spring-init.internal.company.com'\n      changeOrigin: true\n      # Optional: Add authentication headers\n      headers:\n        Authorization: 'Bearer ${SPRING_INIT_TOKEN}'\n</code></pre>"},{"location":"plugins/spring-initializer/frontend/configure/#template-configuration","title":"Template Configuration","text":""},{"location":"plugins/spring-initializer/frontend/configure/#basic-usage","title":"Basic Usage","text":"<p>Minimal template configuration:</p> <pre><code>apiVersion: scaffolder.backstage.io/v1beta3\nkind: Template\nmetadata:\n  name: spring-boot-app\n  title: Spring Boot Application\nspec:\n  parameters:\n    - title: Spring Boot Configuration\n      properties:\n        springConfig:\n          title: Spring Configuration\n          type: object\n          ui:field: SpringInitializer\n</code></pre>"},{"location":"plugins/spring-initializer/frontend/configure/#with-default-values","title":"With Default Values","text":"<p>You can't set default values directly on the field, but you can guide users:</p> <pre><code>apiVersion: scaffolder.backstage.io/v1beta3\nkind: Template\nmetadata:\n  name: spring-boot-app\n  title: Spring Boot Application\nspec:\n  parameters:\n    - title: Spring Boot Configuration\n      description: |\n        Configure your Spring Boot project. \n        Recommended: Spring Boot 3.5.10, Java 17, Maven\n      properties:\n        springConfig:\n          title: Spring Configuration\n          type: object\n          ui:field: SpringInitializer\n</code></pre>"},{"location":"plugins/spring-initializer/frontend/configure/#complete-template-example","title":"Complete Template Example","text":"<p>Full template with all steps:</p> <pre><code>apiVersion: scaffolder.backstage.io/v1beta3\nkind: Template\nmetadata:\n  name: spring-boot-microservice\n  title: Spring Boot Microservice\n  description: Create a new Spring Boot microservice\n  tags:\n    - java\n    - spring-boot\n    - microservice\nspec:\n  owner: platform-team\n  type: service\n\n  parameters:\n    - title: Service Information\n      required:\n        - serviceName\n      properties:\n        serviceName:\n          title: Service Name\n          type: string\n          description: Name of your microservice\n\n    - title: Spring Boot Configuration\n      properties:\n        springConfig:\n          title: Spring Configuration\n          type: object\n          ui:field: SpringInitializer\n\n    - title: Repository\n      required:\n        - repoUrl\n      properties:\n        repoUrl:\n          title: Repository Location\n          type: string\n          ui:field: RepoUrlPicker\n          ui:options:\n            allowedHosts:\n              - github.com\n              - gitlab.com\n\n  steps:\n    - id: generate-spring\n      name: Generate Spring Boot Project\n      action: terasky:spring-initializer\n      input:\n        type: ${{ parameters.springConfig.type }}\n        language: ${{ parameters.springConfig.language }}\n        bootVersion: ${{ parameters.springConfig.bootVersion }}\n        groupId: com.company.${{ parameters.serviceName }}\n        artifactId: ${{ parameters.serviceName }}\n        name: ${{ parameters.serviceName }}\n        description: ${{ parameters.springConfig.description }}\n        packageName: ${{ parameters.springConfig.packageName }}\n        packaging: ${{ parameters.springConfig.packaging }}\n        javaVersion: ${{ parameters.springConfig.javaVersion }}\n        dependencies: ${{ parameters.springConfig.dependencies }}\n\n    - id: publish\n      name: Publish to Git\n      action: publish:github\n      input:\n        description: ${{ parameters.springConfig.description }}\n        repoUrl: ${{ parameters.repoUrl }}\n        defaultBranch: main\n\n    - id: register\n      name: Register in Catalog\n      action: catalog:register\n      input:\n        repoContentsUrl: ${{ steps.publish.output.repoContentsUrl }}\n        catalogInfoPath: '/catalog-info.yaml'\n\n  output:\n    links:\n      - title: Repository\n        url: ${{ steps.publish.output.remoteUrl }}\n      - title: Open in Catalog\n        icon: catalog\n        entityRef: ${{ steps.register.output.entityRef }}\n</code></pre>"},{"location":"plugins/spring-initializer/frontend/configure/#admin-configuration-options","title":"Admin Configuration Options","text":""},{"location":"plugins/spring-initializer/frontend/configure/#field-defaults-and-restrictions","title":"Field Defaults and Restrictions","text":"<p>Control default values and field editability:</p>"},{"location":"plugins/spring-initializer/frontend/configure/#default-values-only","title":"Default Values Only","text":"<p>Set defaults without restricting user choice:</p> <pre><code>springInitializer:\n  defaultGroupId: 'com.mycompany'        # Users can change this\n  defaultGroupIdReadOnly: false           # Field is editable\n\n  defaultBootVersion: '3.5.10'           # Recommended version\n  defaultBootVersionReadOnly: false       # Users can select other versions\n</code></pre>"},{"location":"plugins/spring-initializer/frontend/configure/#read-only-enforced-values","title":"Read-Only (Enforced) Values","text":"<p>Lock fields to specific values:</p> <pre><code>springInitializer:\n  defaultGroupId: 'com.mycompany'        # Enforced value\n  defaultGroupIdReadOnly: true            # Users cannot change this\n\n  defaultBootVersion: '3.5.10'           # Only this version allowed\n  defaultBootVersionReadOnly: true        # Field is disabled\n\n  defaultJavaVersion: '17'               # Company standard\n  defaultJavaVersionReadOnly: true        # Locked to Java 17\n\n  defaultPackaging: 'jar'                # Only JAR packaging\n  defaultPackagingReadOnly: true          # WAR not available\n\n  defaultType: 'maven-project'           # Maven only\n  defaultTypeReadOnly: true               # No Gradle option\n\n  defaultLanguage: 'java'                # Java only\n  defaultLanguageReadOnly: true           # No Kotlin/Groovy\n</code></pre>"},{"location":"plugins/spring-initializer/frontend/configure/#dependency-management","title":"Dependency Management","text":"<p>Control which dependencies are available:</p>"},{"location":"plugins/spring-initializer/frontend/configure/#required-dependencies","title":"Required Dependencies","text":"<p>Always include specific dependencies (users cannot remove):</p> <pre><code>springInitializer:\n  requiredDependencies:\n    - web                            # Always include Spring Web\n    - actuator                       # Always include Actuator\n    - security                       # Always include Security\n</code></pre> <p>These dependencies: - Are automatically selected when the form loads - Appear with blue \"(Required)\" label - Cannot be unchecked by users - Cannot be removed from selected dependencies - Remain visible and checked at all times</p>"},{"location":"plugins/spring-initializer/frontend/configure/#disallowed-dependencies","title":"Disallowed Dependencies","text":"<p>Show but disable specific dependencies from users:</p> <pre><code>springInitializer:\n  disallowedDependencies:\n    - devtools                       # Disallow DevTools\n    - lombok                         # Disallow Lombok\n    - h2                            # Disallow H2 database\n</code></pre> <p>These dependencies: - Are shown in dependency lists but disabled - Display red \"(Disallowed by policy)\" label - Cannot be checked by users - Appear grayed out (60% opacity) - Help users understand organizational policies</p>"},{"location":"plugins/spring-initializer/frontend/configure/#combined-example","title":"Combined Example","text":"<p>Enforce standards while allowing flexibility:</p> <pre><code>springInitializer:\n  defaultGroupId: 'com.mycompany'\n  defaultGroupIdReadOnly: true       # Company namespace enforced\n\n  defaultBootVersion: '3.5.10'\n  defaultBootVersionReadOnly: false  # Allow version selection\n\n  defaultJavaVersion: '17'\n  defaultJavaVersionReadOnly: true   # Java 17 only (company standard)\n\n  defaultPackaging: 'jar'\n  defaultPackagingReadOnly: false    # Allow JAR/WAR choice\n\n  requiredDependencies:\n    - web                            # Every app needs Spring Web\n    - actuator                       # Monitoring required\n    - micrometer-registry-prometheus # Prometheus metrics required\n\n  disallowedDependencies:\n    - devtools                       # Not for production templates\n    - h2                            # Use real databases\n</code></pre>"},{"location":"plugins/spring-initializer/frontend/configure/#advanced-configuration","title":"Advanced Configuration","text":""},{"location":"plugins/spring-initializer/frontend/configure/#complete-example-with-all-options","title":"Complete Example with All Options","text":"<pre><code>springInitializer:\n  endpoint: 'https://start.spring.io'\n  proxyPath: '/spring-initializer'\n\n  defaultGroupId: 'com.acme.services'\n  defaultGroupIdReadOnly: true\n  defaultBootVersion: '3.5.10'\n  defaultBootVersionReadOnly: false\n  defaultJavaVersion: '17'\n  defaultJavaVersionReadOnly: true\n  defaultPackaging: 'jar'\n  defaultPackagingReadOnly: true\n  defaultType: 'maven-project'\n  defaultTypeReadOnly: false\n  defaultLanguage: 'java'\n  defaultLanguageReadOnly: false\n\n  requiredDependencies:\n    - web\n    - actuator\n    - security\n    - data-jpa\n    - postgresql\n\n  disallowedDependencies:\n    - devtools\n    - h2\n    - lombok\n</code></pre>"},{"location":"plugins/spring-initializer/frontend/configure/#multiple-environments","title":"Multiple Environments","text":"<p>Different endpoints for different environments:</p> <pre><code># Development\nspringInitializer:\n  endpoint: 'https://start-dev.spring.io'\n  proxyPath: '/spring-initializer'\n\n---\n# Production\nspringInitializer:\n  endpoint: 'https://start.spring.io'\n  proxyPath: '/spring-initializer'\n</code></pre>"},{"location":"plugins/spring-initializer/frontend/configure/#custom-headers","title":"Custom Headers","text":"<p>Add custom headers to proxy requests:</p> <pre><code>proxy:\n  endpoints:\n    '/spring-initializer':\n      target: 'https://start.spring.io'\n      changeOrigin: true\n      headers:\n        X-Custom-Header: 'value'\n        Authorization: 'Bearer ${API_TOKEN}'\n</code></pre>"},{"location":"plugins/spring-initializer/frontend/configure/#field-output","title":"Field Output","text":"<p>The SpringInitializer field outputs an object with these properties:</p> <pre><code>{\n  type: string,              // Project type: maven-project, gradle-project, gradle-project-kotlin\n  language: string,          // Language: java, kotlin, groovy\n  bootVersion: string,       // Spring Boot version: e.g., \"3.5.10\"\n  groupId: string,           // Maven group: e.g., \"com.example\"\n  artifactId: string,        // Maven artifact: e.g., \"demo\"\n  version: string,           // Project version: e.g., \"0.0.1-SNAPSHOT\"\n  name: string,              // Project name\n  description: string,       // Project description\n  packageName: string,       // Base package: e.g., \"com.example.demo\"\n  packaging: string,         // Packaging: jar, war\n  javaVersion: string,       // Java version: 17, 21, 25\n  dependencies: string       // Comma-separated IDs: \"web,data-jpa,security\"\n}\n</code></pre>"},{"location":"plugins/spring-initializer/frontend/configure/#use-cases","title":"Use Cases","text":""},{"location":"plugins/spring-initializer/frontend/configure/#enterprise-standards-enforcement","title":"Enterprise Standards Enforcement","text":"<p>Lock down critical fields to enforce company standards:</p> <pre><code>springInitializer:\n  defaultGroupId: 'com.enterprise'\n  defaultGroupIdReadOnly: true\n  defaultJavaVersion: '17'\n  defaultJavaVersionReadOnly: true\n  defaultType: 'maven-project'\n  defaultTypeReadOnly: true\n\n  requiredDependencies:\n    - web\n    - actuator\n    - security\n    - micrometer-registry-prometheus\n\n  disallowedDependencies:\n    - devtools\n    - h2\n</code></pre>"},{"location":"plugins/spring-initializer/frontend/configure/#development-template","title":"Development Template","text":"<p>Allow flexibility for development:</p> <pre><code>springInitializer:\n  defaultGroupId: 'com.example'\n  defaultGroupIdReadOnly: false\n  defaultBootVersion: '4.0.2'\n  defaultBootVersionReadOnly: false\n\n  requiredDependencies:\n    - web\n    - devtools\n\n  disallowedDependencies: []\n</code></pre>"},{"location":"plugins/spring-initializer/frontend/configure/#microservices-template","title":"Microservices Template","text":"<p>Standardize microservices:</p> <pre><code>springInitializer:\n  defaultPackaging: 'jar'\n  defaultPackagingReadOnly: true\n\n  requiredDependencies:\n    - web\n    - webflux\n    - actuator\n    - micrometer-registry-prometheus\n    - cloud-eureka-client\n    - cloud-config-client\n\n  disallowedDependencies:\n    - devtools\n    - h2\n</code></pre>"},{"location":"plugins/spring-initializer/frontend/configure/#best-practices","title":"Best Practices","text":""},{"location":"plugins/spring-initializer/frontend/configure/#configuration","title":"Configuration","text":"<ol> <li>Always configure the proxy to avoid CORS issues</li> <li>Use secure token storage for authentication with private Spring Initializer instances</li> <li>Test with different Spring Boot versions to ensure compatibility</li> <li>Keep proxy configuration secure with proper secret management</li> </ol>"},{"location":"plugins/spring-initializer/frontend/configure/#admin-controls","title":"Admin Controls","text":"<ol> <li>Use read-only fields to enforce company standards (groupId, javaVersion, etc.)</li> <li>Use required dependencies for baseline functionality (actuator, security, etc.)</li> <li>Use disallowed dependencies to prevent policy violations (devtools in production, embedded databases, etc.)</li> <li>Balance enforcement with flexibility - lock critical fields, allow choice where appropriate</li> </ol>"},{"location":"plugins/spring-initializer/frontend/configure/#user-experience","title":"User Experience","text":"<ol> <li>Document why restrictions exist - users see disabled dependencies, explain the reasoning in template descriptions</li> <li>Test configuration with real users before enforcing restrictions</li> <li>Use meaningful defaults even when fields are editable</li> <li>Leverage transparency - the new UI shows all options with clear explanations</li> </ol>"},{"location":"plugins/spring-initializer/frontend/configure/#templates","title":"Templates","text":"<ol> <li>Document recommended configurations in template descriptions</li> <li>Show users what's enforced in template metadata</li> <li>Monitor Spring Initializer API availability</li> </ol>"},{"location":"plugins/spring-initializer/frontend/configure/#configuration-behavior","title":"Configuration Behavior","text":""},{"location":"plugins/spring-initializer/frontend/configure/#how-configurations-interact","title":"How Configurations Interact","text":"<ol> <li>Defaults Override API: Config defaults take precedence over Spring Initializer API defaults</li> <li>Read-Only Locks Value: When <code>readOnly: true</code>, the field is disabled and users cannot change it</li> <li>Required Dependencies: Always selected, cannot be unchecked, preserved during version changes</li> <li>Disallowed Dependencies: Filtered out before version compatibility checks</li> <li>Version Compatibility: Applied after required/disallowed filtering</li> </ol>"},{"location":"plugins/spring-initializer/frontend/configure/#configuration-priority","title":"Configuration Priority","text":"<pre><code>Admin Config (readOnly) \n  \u2192 Admin Config (default value)\n    \u2192 Spring Initializer API (default value)\n      \u2192 User Selection\n</code></pre>"},{"location":"plugins/spring-initializer/frontend/configure/#dependency-filter-order","title":"Dependency Filter Order","text":"<pre><code>1. Disallowed dependencies removed\n2. Version compatibility checked\n3. Required dependencies enforced (always selected)\n4. User can select from remaining compatible dependencies\n</code></pre>"},{"location":"plugins/spring-initializer/frontend/configure/#example-configurations","title":"Example Configurations","text":""},{"location":"plugins/spring-initializer/frontend/configure/#production-microservices","title":"Production Microservices","text":"<pre><code>springInitializer:\n  endpoint: 'https://start.spring.io'\n  proxyPath: '/spring-initializer'\n\n  defaultGroupId: 'com.company.services'\n  defaultGroupIdReadOnly: true\n  defaultBootVersion: '3.5.10'\n  defaultBootVersionReadOnly: true\n  defaultJavaVersion: '17'\n  defaultJavaVersionReadOnly: true\n  defaultPackaging: 'jar'\n  defaultPackagingReadOnly: true\n  defaultType: 'maven-project'\n  defaultTypeReadOnly: false\n  defaultLanguage: 'java'\n  defaultLanguageReadOnly: false\n\n  requiredDependencies:\n    - web\n    - actuator\n    - security\n    - data-jpa\n    - postgresql\n    - micrometer-registry-prometheus\n    - cloud-eureka-client\n\n  disallowedDependencies:\n    - devtools\n    - h2\n    - hsqldb\n    - derby\n</code></pre>"},{"location":"plugins/spring-initializer/frontend/configure/#developer-sandbox","title":"Developer Sandbox","text":"<pre><code>springInitializer:\n  defaultGroupId: 'com.example.dev'\n  defaultGroupIdReadOnly: false\n  defaultBootVersion: '4.0.2'\n  defaultBootVersionReadOnly: false\n\n  requiredDependencies:\n    - web\n    - devtools\n\n  disallowedDependencies: []\n</code></pre>"},{"location":"plugins/spring-initializer/frontend/configure/#data-processing-services","title":"Data Processing Services","text":"<pre><code>springInitializer:\n  defaultGroupId: 'com.company.data'\n  defaultGroupIdReadOnly: true\n  defaultJavaVersion: '21'\n  defaultJavaVersionReadOnly: true\n\n  requiredDependencies:\n    - web\n    - data-jpa\n    - postgresql\n    - batch\n    - cloud-stream\n\n  disallowedDependencies:\n    - web-services\n    - jersey\n</code></pre>"},{"location":"plugins/spring-initializer/frontend/configure/#troubleshooting-configuration","title":"Troubleshooting Configuration","text":""},{"location":"plugins/spring-initializer/frontend/configure/#verify-configuration-loading","title":"Verify Configuration Loading","text":"<pre><code># Check if config is being read\n# Look in browser console for configuration values\n# The form will show \"(Read-only)\" labels if config is applied\n</code></pre>"},{"location":"plugins/spring-initializer/frontend/configure/#test-required-dependencies","title":"Test Required Dependencies","text":"<ol> <li>Open a template with SpringInitializer field</li> <li>Check if required dependencies are pre-selected</li> <li>Try to uncheck them (should not be possible)</li> <li>Look for blue \"(Required)\" label on checkboxes and chips</li> <li>Verify they appear at full opacity</li> </ol>"},{"location":"plugins/spring-initializer/frontend/configure/#test-disallowed-dependencies","title":"Test Disallowed Dependencies","text":"<ol> <li>Open dependency categories</li> <li>Disallowed dependencies should appear but be disabled</li> <li>Look for red \"(Disallowed by policy)\" label</li> <li>Verify they appear grayed out (60% opacity)</li> <li>Try to check them (should not be possible)</li> <li>Check count shows \"X/Y available\" where Y excludes disallowed</li> </ol>"},{"location":"plugins/spring-initializer/frontend/configure/#test-read-only-fields","title":"Test Read-Only Fields","text":"<ol> <li>Look for \"(Read-only)\" in field labels</li> <li>Try to click/edit the field (should be disabled)</li> <li>Verify value matches configuration</li> <li>Check field appears grayed out</li> </ol>"},{"location":"plugins/spring-initializer/frontend/configure/#test-version-compatibility","title":"Test Version Compatibility","text":"<ol> <li>Select a Spring Boot version (e.g., 3.5.10)</li> <li>Open dependency categories</li> <li>Some dependencies should show orange \"(Incompatible: requires X.X.X)\" label</li> <li>These should be disabled and grayed out</li> <li>Change Spring Boot version and watch dependencies update</li> <li>Previously incompatible deps may become available</li> </ol>"},{"location":"plugins/spring-initializer/frontend/configure/#check-proxy-configuration","title":"Check Proxy Configuration","text":"<pre><code># Test proxy endpoint\ncurl -H \"Accept: application/vnd.initializr.v2.2+json\" \\\n  http://localhost:7007/api/proxy/spring-initializer\n</code></pre>"},{"location":"plugins/spring-initializer/frontend/configure/#verify-backend-configuration","title":"Verify Backend Configuration","text":"<p>Check backend logs for configuration issues:</p> <pre><code># Look for Spring Initializer configuration messages\ntail -f packages/backend/dist/bundle.js.log | grep -i spring\n</code></pre>"},{"location":"plugins/spring-initializer/frontend/configure/#test-metadata-fetch","title":"Test Metadata Fetch","text":"<pre><code># Test direct API access\ncurl -H \"Accept: application/vnd.initializr.v2.2+json\" \\\n  https://start.spring.io\n</code></pre>"},{"location":"plugins/spring-initializer/frontend/configure/#next-steps","title":"Next Steps","text":"<ul> <li>Review the About page for feature details</li> <li>Check the Installation guide</li> <li>Set up the Backend Module</li> <li>Create your first Spring Boot template</li> <li>Test dependency compatibility filtering</li> </ul>"},{"location":"plugins/spring-initializer/frontend/install/","title":"Installing the Spring Initializer Frontend Plugin","text":"<p>This guide will help you install and set up the Spring Initializer frontend plugin in your Backstage instance.</p>"},{"location":"plugins/spring-initializer/frontend/install/#prerequisites","title":"Prerequisites","text":"<ul> <li>Backstage application</li> <li>Node.js and npm/yarn</li> <li>Access to Spring Initializer API (start.spring.io or self-hosted)</li> <li>Backend module installed (see Backend Installation)</li> </ul>"},{"location":"plugins/spring-initializer/frontend/install/#installation-steps","title":"Installation Steps","text":"<ol> <li>Install the plugin package:</li> </ol> <pre><code># Using yarn\nyarn --cwd packages/app add @terasky/backstage-plugin-spring-initializer\n</code></pre> <ol> <li> <p>The plugin uses the new Frontend System and auto-discovers field extensions, so no additional registration is needed in your <code>App.tsx</code>.</p> </li> <li> <p>Configure the proxy in your <code>app-config.yaml</code> to avoid CORS issues:</p> </li> </ol> <pre><code>proxy:\n  endpoints:\n    '/spring-initializer':\n      target: 'https://start.spring.io'\n      changeOrigin: true\n</code></pre> <ol> <li>(Optional) Configure a custom Spring Initializer endpoint:</li> </ol> <pre><code>springInitializer:\n  endpoint: 'https://start.spring.io'  # default\n  proxyPath: '/spring-initializer'      # default proxy path\n</code></pre> <ol> <li>Add the field extension to your software template:</li> </ol> <pre><code>apiVersion: scaffolder.backstage.io/v1beta3\nkind: Template\nmetadata:\n  name: spring-boot-template\n  title: Spring Boot Application\n  description: Create a new Spring Boot application\nspec:\n  type: service\n  parameters:\n    - title: Spring Boot Configuration\n      properties:\n        springConfig:\n          title: Spring Configuration\n          type: object\n          ui:field: SpringInitializer\n    - title: Repository Location\n      required:\n        - repoUrl\n      properties:\n        repoUrl:\n          title: Repository Location\n          type: string\n          ui:field: RepoUrlPicker\n          ui:options:\n            allowedHosts:\n              - github.com\n  steps:\n    - id: generate-spring\n      name: Generate Spring Boot Project\n      action: terasky:spring-initializer\n      input:\n        type: ${{ parameters.springConfig.type }}\n        language: ${{ parameters.springConfig.language }}\n        bootVersion: ${{ parameters.springConfig.bootVersion }}\n        groupId: ${{ parameters.springConfig.groupId }}\n        artifactId: ${{ parameters.springConfig.artifactId }}\n        name: ${{ parameters.springConfig.name }}\n        description: ${{ parameters.springConfig.description }}\n        packageName: ${{ parameters.springConfig.packageName }}\n        packaging: ${{ parameters.springConfig.packaging }}\n        javaVersion: ${{ parameters.springConfig.javaVersion }}\n        dependencies: ${{ parameters.springConfig.dependencies }}\n    - id: publish\n      name: Publish to Repository  \n      action: publish:github\n      input:\n        description: ${{ parameters.springConfig.description }}\n        repoUrl: ${{ parameters.repoUrl }}\n        defaultBranch: main\n</code></pre>"},{"location":"plugins/spring-initializer/frontend/install/#verification","title":"Verification","text":"<p>To verify the installation:</p> <ol> <li>Navigate to your software templates</li> <li>Create a new component using a template with the SpringInitializer field</li> <li>Verify that you can:</li> <li>See the Spring Boot configuration form load</li> <li>Select different Spring Boot versions</li> <li>See dependencies change based on version selection</li> <li>Configure project metadata</li> <li>Select and deselect dependencies</li> <li>See dependency counts update</li> <li>Submit the form successfully</li> </ol>"},{"location":"plugins/spring-initializer/frontend/install/#troubleshooting","title":"Troubleshooting","text":"<p>Common issues and solutions:</p> <ol> <li>Form Not Loading / CORS Errors</li> <li>Verify proxy configuration in app-config.yaml</li> <li>Check that <code>/spring-initializer</code> endpoint is accessible</li> <li>Ensure <code>changeOrigin: true</code> is set in proxy config</li> <li> <p>Check browser console for specific error messages</p> </li> <li> <p>Dependencies Not Showing</p> </li> <li>Verify Spring Initializer API is accessible</li> <li>Check that metadata is being fetched successfully</li> <li>Look for error panels in the form</li> <li> <p>Verify Spring Boot version is selected</p> </li> <li> <p>Incompatible Dependencies Selected</p> </li> <li>This should not happen - check browser console for errors</li> <li>Verify version comparison logic is working</li> <li> <p>Check that dependency versionRange is being parsed</p> </li> <li> <p>Backend Action Fails</p> </li> <li>Verify backend module is installed</li> <li>Check backend logs for detailed error messages</li> <li>Ensure selected dependencies are compatible</li> <li>Verify Spring Initializer API is accessible from backend</li> </ol>"},{"location":"plugins/spring-initializer/frontend/install/#next-steps","title":"Next Steps","text":"<p>After installation:</p> <ol> <li>Configure your proxy settings:</li> <li>Set up secure proxy configuration</li> <li> <p>Configure custom endpoints if needed</p> </li> <li> <p>Create templates:</p> </li> <li>Design templates using the SpringInitializer field</li> <li>Test with different Spring Boot versions</li> <li> <p>Verify dependency selection works</p> </li> <li> <p>Customize:</p> </li> <li>Override default Spring Initializer endpoint</li> <li>Configure proxy paths</li> <li>Set up custom proxy headers if needed</li> </ol> <p>For detailed configuration options, see the Configuration guide.</p>"},{"location":"plugins/template-builder/overview/","title":"Template Builder Plugin","text":"<p>The Template Builder plugin for Backstage provides a powerful visual WYSIWYG editor for creating and editing Backstage Software Templates. It enables teams to build templates through an intuitive drag-and-drop interface without manual YAML editing.</p>"},{"location":"plugins/template-builder/overview/#plugin-components","title":"Plugin Components","text":""},{"location":"plugins/template-builder/overview/#frontend-plugin","title":"Frontend Plugin","text":"<p>The frontend plugin provides a comprehensive visual editor with:</p> <ul> <li>Interactive Workflow Canvas: Drag-and-drop interface using React Flow for designing template steps</li> <li>Real-time YAML Synchronization: Monaco editor with bidirectional sync between visual and YAML views</li> <li>Intelligent Autocomplete: Context-aware suggestions for actions, parameters, step outputs, and secrets</li> <li>Input Designer: Visual form builder supporting all field types including custom field extensions</li> <li>Template Validation: Real-time validation of template structure and action configurations</li> <li>Graph Layout: Automatic horizontal/vertical layout with visual connections between steps</li> </ul> <p>Learn more about the frontend plugin</p>"},{"location":"plugins/template-builder/overview/#documentation-structure","title":"Documentation Structure","text":"<ul> <li>About</li> <li>Installation</li> <li>Configuration</li> </ul>"},{"location":"plugins/template-builder/overview/#key-features","title":"Key Features","text":""},{"location":"plugins/template-builder/overview/#visual-workflow-design","title":"Visual Workflow Design","text":"<p>Build complex multi-step templates using an interactive graph-based interface that automatically shows relationships between parameters, actions, and outputs.</p>"},{"location":"plugins/template-builder/overview/#field-extension-discovery","title":"Field Extension Discovery","text":"<p>Automatically discovers and supports all registered Backstage field extensions, including custom ones from your organization.</p>"},{"location":"plugins/template-builder/overview/#monaco-yaml-editor","title":"Monaco YAML Editor","text":"<p>Professional YAML editing experience with: - Syntax highlighting - Intelligent autocomplete for actions and parameters - Real-time validation - Format-on-save</p>"},{"location":"plugins/template-builder/overview/#template-management","title":"Template Management","text":"<ul> <li>Create templates from scratch</li> <li>Load existing templates from the catalog</li> <li>Download templates as YAML files</li> <li>Entity action integration for quick template editing</li> </ul>"},{"location":"plugins/template-builder/overview/#supported-features","title":"Supported Features","text":""},{"location":"plugins/template-builder/overview/#input-parameters","title":"Input Parameters","text":"<ul> <li>All JSON Schema types (string, number, boolean, array, object)</li> <li>All built-in Backstage field extensions</li> <li>Custom field extensions (auto-discovered)</li> <li>Validation rules and dependencies</li> <li>Conditional fields</li> </ul>"},{"location":"plugins/template-builder/overview/#action-steps","title":"Action Steps","text":"<ul> <li>Visual action palette with all registered scaffolder actions</li> <li>Drag-and-drop action placement</li> <li>Input mapping from parameters and previous step outputs</li> <li>Output tracking and visualization</li> <li>Conditional execution support</li> </ul>"},{"location":"plugins/template-builder/overview/#template-outputs","title":"Template Outputs","text":"<ul> <li>Define output links</li> <li>Reference step outputs</li> <li>Automatic connection visualization</li> </ul>"},{"location":"plugins/template-builder/overview/#getting-started","title":"Getting Started","text":"<p>To get started with the Template Builder plugin:</p> <ol> <li>Install the plugin in your Backstage instance</li> <li>Add the builder route to your app</li> <li>Start creating templates visually</li> </ol> <p>For detailed installation and configuration instructions, refer to:</p> <ul> <li>About the plugin</li> <li>Installation Guide</li> <li>Configuration Guide</li> </ul>"},{"location":"plugins/template-builder/frontend/about/","title":"Template Builder Frontend Plugin","text":""},{"location":"plugins/template-builder/frontend/about/#overview","title":"Overview","text":"<p>The Template Builder frontend plugin provides a powerful visual editor for creating and managing Backstage Software Templates. It combines a drag-and-drop workflow canvas with intelligent YAML editing to streamline template creation for both technical and non-technical users.</p>"},{"location":"plugins/template-builder/frontend/about/#features","title":"Features","text":""},{"location":"plugins/template-builder/frontend/about/#visual-workflow-canvas","title":"Visual Workflow Canvas","text":"<ul> <li>React Flow Integration: Interactive graph-based interface for designing template workflows</li> <li>Drag-and-Drop Actions: Visual action palette with all registered scaffolder actions</li> <li>Automatic Layout: Smart horizontal and vertical layout with automatic edge detection</li> <li>Connection Visualization: Visual representation of data flow between parameters, actions, and outputs</li> <li>Graph Customization: Collapsible legend, zoom controls, and minimap</li> </ul>"},{"location":"plugins/template-builder/frontend/about/#input-parameter-designer","title":"Input Parameter Designer","text":"<ul> <li>Visual Form Builder: Create input forms without writing YAML</li> <li>All Field Types: Support for string, number, boolean, array, object, and more</li> <li>Field Extension Support: Automatically discovers and integrates custom field extensions</li> <li>Validation Rules: Configure required fields, validation patterns, and dependencies</li> <li>Conditional Fields: Set up field dependencies and conditional rendering</li> </ul>"},{"location":"plugins/template-builder/frontend/about/#monaco-yaml-editor","title":"Monaco YAML Editor","text":"<ul> <li>Professional Editor: Full-featured Monaco editor with syntax highlighting</li> <li>Intelligent Autocomplete: Context-aware suggestions for:<ul> <li>Scaffolder action IDs</li> <li>Action-specific input properties</li> <li>Template parameters</li> <li>Step outputs</li> <li>Secret references</li> </ul> </li> <li>Real-time Validation: Instant feedback on YAML syntax and template structure</li> <li>Bidirectional Sync: Changes in visual editor reflect in YAML and vice versa</li> <li>Format Support: Automatic formatting and indentation</li> </ul>"},{"location":"plugins/template-builder/frontend/about/#template-validation","title":"Template Validation","text":"<ul> <li>Structure Validation: Ensures required metadata and spec fields are present</li> <li>Action Validation: Verifies action IDs and required inputs</li> <li>Reference Validation: Checks parameter and step output references</li> <li>Real-time Feedback: Visual error indicators and detailed error messages</li> </ul>"},{"location":"plugins/template-builder/frontend/about/#template-management","title":"Template Management","text":"<ul> <li>Create from Scratch: Start with empty template and build visually</li> <li>Load from Catalog: Import existing templates for editing</li> <li>Download as YAML: Export templates to local filesystem</li> <li>Entity Action: Quick access from template entity pages</li> </ul>"},{"location":"plugins/template-builder/frontend/about/#components","title":"Components","text":""},{"location":"plugins/template-builder/frontend/about/#templatebuilderpage","title":"TemplateBuilderPage","text":"<p>The main editor component that provides the complete template building experience: - Split-pane layout with workflow canvas, YAML editor, and side panels - Toolbar with validation, download, and layout controls - Real-time state management and synchronization</p>"},{"location":"plugins/template-builder/frontend/about/#workflowcanvas","title":"WorkflowCanvas","text":"<p>Interactive graph visualization component: - Custom nodes for parameters, actions, and outputs - Automatic edge generation based on data dependencies - Action palette for adding new steps - Context-sensitive action configuration forms</p>"},{"location":"plugins/template-builder/frontend/about/#inputdesigner","title":"InputDesigner","text":"<p>Visual input parameter configuration interface: - Parameter list with field management - Field type selector with extension support - Property editor for all field options - Preview of generated JSON Schema</p>"},{"location":"plugins/template-builder/frontend/about/#yamleditor","title":"YAMLEditor","text":"<p>Advanced Monaco-based YAML editor: - Scaffolder action autocomplete - Parameter and output reference completion - Syntax validation and error highlighting - Dark/light theme support</p>"},{"location":"plugins/template-builder/frontend/about/#technical-details","title":"Technical Details","text":""},{"location":"plugins/template-builder/frontend/about/#field-extension-discovery","title":"Field Extension Discovery","text":"<p>The plugin automatically discovers registered field extensions at runtime: - Queries the Backstage scaffolder API - Extracts field extension definitions - Makes them available in the input designer - No hardcoded field types</p>"},{"location":"plugins/template-builder/frontend/about/#state-management","title":"State Management","text":"<p>Uses React hooks for state management: - <code>useTemplateState</code>: Central state management for template data - Immutable updates with proper re-rendering - Undo/redo support (planned)</p>"},{"location":"plugins/template-builder/frontend/about/#data-flow","title":"Data Flow","text":"<ul> <li>Visual changes update central state</li> <li>State changes trigger YAML regeneration</li> <li>YAML changes parse back to state</li> <li>All changes synchronized across views</li> </ul>"},{"location":"plugins/template-builder/frontend/about/#integration-points","title":"Integration Points","text":"<ul> <li>Backstage Catalog API</li> <li>Scaffolder Backend API</li> <li>Custom Field Extensions</li> <li>Entity Actions</li> </ul>"},{"location":"plugins/template-builder/frontend/about/#user-experience","title":"User Experience","text":""},{"location":"plugins/template-builder/frontend/about/#workflow","title":"Workflow","text":"<ol> <li>Start with metadata configuration</li> <li>Design input parameters visually or in YAML</li> <li>Add action steps from palette</li> <li>Configure action inputs with autocomplete</li> <li>Define template outputs</li> <li>Validate and download</li> </ol>"},{"location":"plugins/template-builder/frontend/about/#best-practices","title":"Best Practices","text":"<ul> <li>Use visual editor for structure, YAML for fine-tuning</li> <li>Leverage autocomplete for correct action IDs and properties</li> <li>Validate frequently to catch errors early</li> <li>Test downloaded templates in scaffolder before committing</li> </ul>"},{"location":"plugins/template-builder/frontend/configure/","title":"Configuring the Template Builder Frontend Plugin","text":"<p>This guide covers the configuration options for the Template Builder frontend plugin.</p>"},{"location":"plugins/template-builder/frontend/configure/#new-frontend-system-configuration-alpha","title":"New Frontend System Configuration (Alpha)","text":"<p>When using the new frontend system through the <code>/alpha</code> export, the plugin is configured automatically with sensible defaults:</p> <pre><code>import { createApp } from '@backstage/frontend-defaults';\nimport { templateBuilderPlugin } from '@terasky/backstage-plugin-template-builder/alpha';\n\nexport default createApp({\n  features: [\n    templateBuilderPlugin,\n  ],\n});\n</code></pre> <p>The plugin will automatically register routes and integrate with the catalog without requiring manual configuration.</p>"},{"location":"plugins/template-builder/frontend/configure/#basic-configuration","title":"Basic Configuration","text":"<p>The Template Builder plugin works out of the box with minimal configuration. However, you can customize various aspects through <code>app-config.yaml</code>:</p> <pre><code>templateBuilder:\n  # Default layout direction for workflow canvas\n  defaultLayout: vertical  # Options: vertical, horizontal\n\n  # Enable/disable field extension auto-discovery\n  autoDiscoverFieldExtensions: true\n\n  # Known field extensions (optional, used as fallback)\n  knownFieldExtensions:\n    - EntityPicker\n    - RepoUrlPicker\n    - OwnerPicker\n    - EntityNamePicker\n</code></pre>"},{"location":"plugins/template-builder/frontend/configure/#configuration-options","title":"Configuration Options","text":""},{"location":"plugins/template-builder/frontend/configure/#default-layout","title":"Default Layout","text":"<p>The <code>defaultLayout</code> setting determines the initial workflow canvas orientation:</p> <pre><code>templateBuilder:\n  defaultLayout: vertical  # or horizontal\n</code></pre> <ul> <li>vertical: Parameters at top, actions in middle, outputs at bottom (default)</li> <li>horizontal: Parameters at left, actions in center, outputs at right</li> </ul> <p>Users can toggle between layouts using the toolbar button.</p>"},{"location":"plugins/template-builder/frontend/configure/#field-extension-discovery","title":"Field Extension Discovery","text":"<p>Control how the plugin discovers custom field extensions:</p> <pre><code>templateBuilder:\n  autoDiscoverFieldExtensions: true  # Enable automatic discovery\n\n  # Optional: Provide known extensions as fallback\n  knownFieldExtensions:\n    - EntityPicker\n    - RepoUrlPicker\n    - OwnerPicker\n    - EntityTagsPicker\n    - EntityNamePicker\n    - MultiEntityPicker\n    - MyCustomFieldExtension\n</code></pre> <p>When <code>autoDiscoverFieldExtensions</code> is <code>true</code> (default), the plugin queries the scaffolder backend at runtime to get all registered field extensions. The <code>knownFieldExtensions</code> list serves as a fallback if discovery fails.</p>"},{"location":"plugins/template-builder/frontend/configure/#best-practices","title":"Best Practices","text":"<ol> <li> <p>Field Extensions</p> <ul> <li>Keep <code>autoDiscoverFieldExtensions</code> enabled for automatic updates</li> <li>Add custom extensions to <code>knownFieldExtensions</code> as backup</li> <li>Document custom field extensions for your team</li> </ul> </li> <li> <p>Layout Preferences</p> <ul> <li>Set <code>defaultLayout</code> based on team preference</li> <li>Vertical is better for sequential workflows</li> <li>Horizontal is better for complex data flows</li> </ul> </li> <li> <p>Validation</p> <ul> <li>Enable strict validation in production</li> <li>Use lenient validation in development</li> <li>Test templates thoroughly before committing</li> </ul> </li> <li> <p>Performance</p> <ul> <li>Monitor field extension discovery performance</li> <li>Consider caching for large action catalogs</li> <li>Optimize Monaco editor settings for your environment</li> </ul> </li> <li> <p>User Experience</p> <ul> <li>Provide clear documentation about available actions</li> <li>Train users on both visual and YAML editing</li> <li>Encourage validation before downloading templates</li> </ul> </li> </ol>"},{"location":"plugins/template-builder/frontend/install/","title":"Installing the Template Builder Frontend Plugin","text":"<p>This guide will help you install and set up the Template Builder frontend plugin in your Backstage instance.</p>"},{"location":"plugins/template-builder/frontend/install/#prerequisites","title":"Prerequisites","text":"<p>Before installing the plugin, ensure you have:</p> <ol> <li>A working Backstage instance (version 1.30.0 or higher)</li> <li>Access to modify your Backstage frontend configuration</li> <li>The Backstage Scaffolder plugin installed and configured</li> </ol>"},{"location":"plugins/template-builder/frontend/install/#installation-steps","title":"Installation Steps","text":""},{"location":"plugins/template-builder/frontend/install/#1-add-the-package","title":"1. Add the Package","text":"<p>Install the plugin package using your package manager:</p> <pre><code>yarn --cwd packages/app add @terasky/backstage-plugin-template-builder\n</code></pre>"},{"location":"plugins/template-builder/frontend/install/#2-add-route-new-frontend-system-alpha","title":"2. Add Route (New Frontend System - Alpha)","text":"<p>The plugin supports the new frontend system. Add it to your app:</p> <pre><code>// packages/app/src/App.tsx\nimport { createApp } from '@backstage/frontend-defaults';\nimport { templateBuilderPlugin } from '@terasky/backstage-plugin-template-builder/alpha';\n\nexport default createApp({\n  features: [\n    // ... other features\n    templateBuilderPlugin,\n  ],\n});\n</code></pre> <p>This will automatically register the <code>/template-builder</code> route.</p>"},{"location":"plugins/template-builder/frontend/install/#3-add-route-legacy-system","title":"3. Add Route (Legacy System)","text":"<p>If using the legacy routing system, add the route manually:</p> <pre><code>// packages/app/src/App.tsx\nimport { TemplateBuilderPage } from '@terasky/backstage-plugin-template-builder';\n\n// Add to your routes\n&lt;Route path=\"/template-builder\" element={&lt;TemplateBuilderPage /&gt;} /&gt;\n</code></pre>"},{"location":"plugins/template-builder/frontend/install/#4-add-entity-action-optional","title":"4. Add Entity Action (Optional)","text":"<p>To enable quick access from template entity pages, add the entity action:</p> <pre><code>// packages/app/src/components/catalog/EntityPage.tsx\nimport { TemplateEditorCard } from '@terasky/backstage-plugin-template-builder';\n\n// In your template entity page\nconst templatePage = (\n  &lt;EntityLayout&gt;\n    &lt;EntityLayout.Route path=\"/\" title=\"Overview\"&gt;\n      &lt;Grid container spacing={3}&gt;\n        {/* ... other cards ... */}\n\n        &lt;Grid item md={12}&gt;\n          &lt;TemplateEditorCard /&gt;\n        &lt;/Grid&gt;\n      &lt;/Grid&gt;\n    &lt;/EntityLayout.Route&gt;\n  &lt;/EntityLayout&gt;\n);\n</code></pre>"},{"location":"plugins/template-builder/frontend/install/#verification","title":"Verification","text":"<p>After installation, verify that:</p> <ol> <li>The plugin appears in your package.json dependencies</li> <li>The <code>/template-builder</code> route is accessible</li> <li>The editor loads without errors</li> <li>Field extensions are properly discovered</li> <li>Actions appear in the action palette</li> </ol>"},{"location":"plugins/template-builder/frontend/install/#next-steps","title":"Next Steps","text":"<p>After successful installation, proceed to:</p> <ul> <li>Configuration Guide - Configure default settings</li> <li>Overview - Learn about all features</li> </ul>"},{"location":"plugins/template-builder/frontend/install/#support","title":"Support","text":"<p>For additional help:</p> <ul> <li>Check the GitHub Issues</li> <li>Review the plugin documentation</li> <li>Contact the TeraSky support team</li> </ul>"},{"location":"plugins/terraform-scaffolder/overview/","title":"Terraform Scaffolder Plugin","text":"<p>The Terraform Scaffolder plugin for Backstage provides a powerful interface for scaffolding new services and resources using Terraform modules. It enables teams to discover, configure, and use Terraform modules directly within the Backstage Software Templates interface, making infrastructure provisioning a seamless part of the service creation process.</p>"},{"location":"plugins/terraform-scaffolder/overview/#plugin-components","title":"Plugin Components","text":""},{"location":"plugins/terraform-scaffolder/overview/#frontend-plugin","title":"Frontend Plugin","text":"<p>The frontend plugin provides a user interface for:</p> <ul> <li>Discovering available Terraform modules from multiple sources</li> <li>Configuring module variables with type-safe inputs</li> <li>Validating module configurations before template execution</li> <li>Displaying module documentation and descriptions</li> <li>Supporting complex variable types (maps, lists, objects)</li> <li>Handling sensitive variables appropriately</li> <li>Managing multiple versions of modules</li> </ul> <p>Learn more about the frontend plugin</p>"},{"location":"plugins/terraform-scaffolder/overview/#key-features","title":"Key Features","text":""},{"location":"plugins/terraform-scaffolder/overview/#module-discovery","title":"Module Discovery","text":"<p>The plugin supports three different ways to discover and list Terraform modules:</p> <ol> <li>Configuration-based Modules: Define modules directly in your <code>app-config.yaml</code></li> <li>Catalog-based Modules: Discover modules from your Backstage catalog</li> <li>Registry-based Modules: Automatically fetch modules from the Terraform Registry</li> </ol>"},{"location":"plugins/terraform-scaffolder/overview/#multi-version-support","title":"Multi-Version Support","text":"<ul> <li>Support for multiple versions of the same module</li> <li>Version selection during template creation</li> <li>Automatic version sorting and latest version detection</li> </ul>"},{"location":"plugins/terraform-scaffolder/overview/#private-repository-support","title":"Private Repository Support","text":"<ul> <li>Built-in support for private GitHub repositories</li> <li>Configurable proxy settings for secure access</li> <li>Token-based authentication handling</li> </ul>"},{"location":"plugins/terraform-scaffolder/overview/#additional-features","title":"Additional Features","text":"<ul> <li>Type-Safe Inputs: Automatic form generation based on module variables</li> <li>Variable Validation: Built-in validation for required fields and type checking</li> <li>Complex Types Support: Support for maps, lists, and nested object variables</li> <li>Sensitive Data Handling: Special handling for sensitive variables</li> <li>Documentation: Integrated display of variable descriptions and module documentation</li> </ul>"},{"location":"plugins/terraform-scaffolder/overview/#getting-started","title":"Getting Started","text":"<p>To get started with the Terraform Scaffolder plugin:</p> <ol> <li>Follow the Installation Guide</li> <li>Configure the plugin using the Configuration Guide</li> <li>Start creating infrastructure through your templates</li> </ol>"},{"location":"plugins/terraform-scaffolder/overview/#documentation-structure","title":"Documentation Structure","text":"<p>Frontend Plugin - About - Learn about the plugin's components and features - Installation - Step-by-step installation guide - Configuration - Detailed configuration options</p>"},{"location":"plugins/terraform-scaffolder/frontend/about/","title":"Terraform Scaffolder Frontend Plugin","text":"<p>The frontend component of the Terraform Scaffolder plugin provides a rich user interface for discovering and configuring Terraform modules within Backstage Software Templates.</p>"},{"location":"plugins/terraform-scaffolder/frontend/about/#components","title":"Components","text":""},{"location":"plugins/terraform-scaffolder/frontend/about/#terraformmoduleform","title":"TerraformModuleForm","text":"<p>The main form component that provides:</p> <ul> <li>Module selection from multiple sources (Config, Catalog, Registry)</li> <li>Version selection for modules with multiple versions</li> <li>Dynamic form generation based on module variables</li> <li>Type-safe input fields for all Terraform variable types</li> <li>Validation of required fields</li> <li>Support for sensitive variables</li> <li>Display of module documentation</li> </ul>"},{"location":"plugins/terraform-scaffolder/frontend/about/#terraformmoduleschema","title":"TerraformModuleSchema","text":"<p>The schema component that:</p> <ul> <li>Defines the structure of module configurations</li> <li>Validates input against Terraform variable types</li> <li>Handles complex types like maps and lists</li> <li>Provides type definitions for template parameters</li> <li>Supports version-specific schema validation</li> </ul>"},{"location":"plugins/terraform-scaffolder/frontend/about/#features","title":"Features","text":""},{"location":"plugins/terraform-scaffolder/frontend/about/#module-discovery","title":"Module Discovery","text":"<ul> <li>Multiple module source types:</li> <li>Configuration-based modules</li> <li>Catalog-based modules</li> <li>Registry-based modules</li> <li>Rich module metadata display</li> <li>Module search and filtering</li> <li>Version management and selection</li> </ul>"},{"location":"plugins/terraform-scaffolder/frontend/about/#version-management","title":"Version Management","text":"<ul> <li>Support for multiple module versions</li> <li>Automatic version sorting and comparison</li> <li>Latest version detection</li> <li>Version-specific variable handling</li> <li>Support for both tags and branches</li> </ul>"},{"location":"plugins/terraform-scaffolder/frontend/about/#private-repository-support","title":"Private Repository Support","text":"<ul> <li>Secure access to private GitHub repositories</li> <li>Proxy configuration for raw content</li> <li>Token-based authentication</li> <li>Automatic URL rewriting</li> </ul>"},{"location":"plugins/terraform-scaffolder/frontend/about/#variable-configuration","title":"Variable Configuration","text":"<ul> <li>Automatic form generation based on variables.tf</li> <li>Support for all Terraform variable types:</li> <li>String</li> <li>Number</li> <li>Boolean</li> <li>List</li> <li>Map</li> <li>Complex objects</li> <li>Default value handling</li> <li>Required field validation</li> <li>Sensitive variable handling</li> </ul>"},{"location":"plugins/terraform-scaffolder/frontend/about/#type-safety","title":"Type Safety","text":"<ul> <li>Runtime type checking</li> <li>Validation before template execution</li> <li>Error messages for invalid inputs</li> <li>Version-specific type validation</li> </ul>"},{"location":"plugins/terraform-scaffolder/frontend/about/#documentation","title":"Documentation","text":"<ul> <li>Inline variable descriptions</li> <li>Module documentation display</li> <li>Version-specific documentation</li> <li>Usage examples</li> </ul>"},{"location":"plugins/terraform-scaffolder/frontend/about/#api","title":"API","text":"<p>The plugin provides an enhanced client API for interacting with Terraform modules:</p> <pre><code>interface TerraformScaffolderApi {\n  getModuleReferences(): Promise&lt;TerraformModuleReference[]&gt;;\n  getModuleVersions(moduleRef: TerraformModuleReference): Promise&lt;string[]&gt;;\n  getModuleVariables(moduleRef: TerraformModuleReference, version?: string): Promise&lt;TerraformVariable[]&gt;;\n}\n</code></pre>"},{"location":"plugins/terraform-scaffolder/frontend/about/#types","title":"Types","text":"<pre><code>interface TerraformModuleReference {\n  name: string;\n  url: string;\n  refs?: string[];\n  description?: string;\n  isRegistryModule?: boolean;\n}\n\ninterface TerraformVariable {\n  name: string;\n  type: string;\n  description?: string;\n  default?: any;\n  required: boolean;\n  sensitive: boolean;\n  originalDefinition?: string;\n}\n</code></pre>"},{"location":"plugins/terraform-scaffolder/frontend/about/#integration","title":"Integration","text":"<p>The plugin integrates with Backstage's Software Templates system through:</p> <ol> <li>Custom field extensions</li> <li>Form validation</li> <li>Template parameter processing</li> <li>Configuration API integration</li> <li>Proxy integration for private repositories</li> <li>Catalog integration for module discovery</li> </ol> <p>For installation and configuration details, see the Installation and Configuration guides.</p>"},{"location":"plugins/terraform-scaffolder/frontend/configure/","title":"Configuring the Terraform Scaffolder Plugin","text":"<p>This guide covers the configuration options available for the Terraform Scaffolder plugin.</p>"},{"location":"plugins/terraform-scaffolder/frontend/configure/#module-sources-configuration","title":"Module Sources Configuration","text":"<p>The plugin supports three different ways to configure module sources:</p>"},{"location":"plugins/terraform-scaffolder/frontend/configure/#1-configuration-based-modules","title":"1. Configuration-based Modules","text":"<p>Configure modules directly in your <code>app-config.yaml</code>:</p> <pre><code>terraformScaffolder:\n  # Enable proxy support for private GitHub repositories\n  useProxyForGitHub: true\n\n  moduleReferences:\n    - name: 'AWS ECR Module'\n      url: 'https://github.com/terraform-aws-modules/terraform-aws-ecr'\n      refs:\n        - 'v3.1.0'\n        - 'v3.0.0'\n      description: 'AWS ECR Module'\n\n    # Registry module reference\n    - name: 'VPC Module'\n      url: 'terraform-aws-modules/vpc/aws'  # Registry path format\n      refs:\n        - 'v6.0.1'\n        - 'v6.0.0'\n      description: 'AWS VPC Module'\n</code></pre>"},{"location":"plugins/terraform-scaffolder/frontend/configure/#module-reference-options","title":"Module Reference Options","text":"Field Type Required Description name string Yes Display name for the module url string Yes GitHub URL or registry path refs string[] No List of versions (tags/branches) description string No Module description for UI"},{"location":"plugins/terraform-scaffolder/frontend/configure/#2-catalog-based-modules","title":"2. Catalog-based Modules","text":"<p>Define modules in your Backstage catalog using annotations:</p> <pre><code>apiVersion: backstage.io/v1alpha1\nkind: Resource\nmetadata:\n  name: my-terraform-module\n  annotations:\n    terasky.backstage.io/terraform-module-url: 'https://github.com/org/module'\n    terasky.backstage.io/terraform-module-name: 'My Module'\n    terasky.backstage.io/terraform-module-ref: 'v1.0.0'\n    terasky.backstage.io/terraform-module-description: 'Description of the module'\nspec:\n  type: terraform-module\n  # ... other spec fields\n</code></pre>"},{"location":"plugins/terraform-scaffolder/frontend/configure/#3-registry-based-modules","title":"3. Registry-based Modules","text":"<p>Configure Terraform Registry integration:</p> <pre><code>terraformScaffolder:\n  registryReferences:\n    returnAllVersions: true  # Fetch all versions for each module\n    namespaces:\n      - terraform-aws-modules\n      - vmware\n</code></pre>"},{"location":"plugins/terraform-scaffolder/frontend/configure/#private-repository-access","title":"Private Repository Access","text":""},{"location":"plugins/terraform-scaffolder/frontend/configure/#github-proxy-configuration","title":"GitHub Proxy Configuration","text":"<p>For private GitHub repositories, configure both the plugin and proxy settings:</p> <ol> <li> <p>Enable proxy in the plugin: <pre><code>terraformScaffolder:\n  useProxyForGitHub: true\n</code></pre></p> </li> <li> <p>Configure the proxy endpoint: <pre><code>proxy:\n  endpoints:\n    '/github-raw':\n      target: 'https://raw.githubusercontent.com'\n      changeOrigin: true\n      headers:\n        Authorization: 'Token ${GITHUB_TOKEN}'\n</code></pre></p> </li> </ol>"},{"location":"plugins/terraform-scaffolder/frontend/configure/#template-configuration","title":"Template Configuration","text":""},{"location":"plugins/terraform-scaffolder/frontend/configure/#basic-field-usage","title":"Basic Field Usage","text":"<pre><code>parameters:\n  - title: Infrastructure\n    properties:\n      infrastructure:\n        title: Terraform Module\n        type: string\n        ui:field: TerraformModule\n</code></pre>"},{"location":"plugins/terraform-scaffolder/frontend/configure/#variable-handling","title":"Variable Handling","text":"<p>The plugin automatically handles different variable types:</p>"},{"location":"plugins/terraform-scaffolder/frontend/configure/#simple-types","title":"Simple Types","text":"<ul> <li>string</li> <li>number</li> <li>boolean</li> </ul>"},{"location":"plugins/terraform-scaffolder/frontend/configure/#complex-types","title":"Complex Types","text":"<ul> <li>list</li> <li>map</li> <li>object</li> </ul>"},{"location":"plugins/terraform-scaffolder/frontend/configure/#sensitive-variables","title":"Sensitive Variables","text":"<p>Variables marked as sensitive in variables.tf are automatically handled:</p> <pre><code>variable \"password\" {\n  type      = string\n  sensitive = true\n}\n</code></pre> <p>These will be: 1. Masked in the UI 2. Treated securely in templates 3. Never logged or displayed</p>"},{"location":"plugins/terraform-scaffolder/frontend/configure/#best-practices","title":"Best Practices","text":""},{"location":"plugins/terraform-scaffolder/frontend/configure/#module-organization","title":"Module Organization","text":"<ul> <li>Use consistent naming conventions</li> <li>Provide clear descriptions</li> <li>Use semantic versioning for refs</li> <li>Group related modules together</li> </ul>"},{"location":"plugins/terraform-scaffolder/frontend/configure/#security","title":"Security","text":"<ul> <li>Use specific refs instead of 'main'</li> <li>Properly mark sensitive variables</li> <li>Use private repositories for sensitive modules</li> <li>Configure proxy settings for private repos</li> </ul>"},{"location":"plugins/terraform-scaffolder/frontend/configure/#version-management","title":"Version Management","text":"<ul> <li>Use semantic versioning for module versions</li> <li>Test modules before adding new versions</li> <li>Keep version lists up to date</li> <li>Document breaking changes between versions</li> </ul>"},{"location":"plugins/terraform-scaffolder/frontend/configure/#maintenance","title":"Maintenance","text":"<ul> <li>Regular updates of module refs</li> <li>Version tracking</li> <li>Documentation updates</li> <li>Monitor module usage</li> </ul>"},{"location":"plugins/terraform-scaffolder/frontend/install/","title":"Installing the Terraform Scaffolder Plugin","text":"<p>This guide will help you install and set up the Terraform Scaffolder plugin in your Backstage instance.</p>"},{"location":"plugins/terraform-scaffolder/frontend/install/#prerequisites","title":"Prerequisites","text":"<ul> <li>Backstage application</li> <li>Node.js and npm/yarn</li> <li>Access to Terraform modules (e.g., GitHub repositories, Terraform Registry)</li> <li>GitHub token (if using private repositories)</li> </ul>"},{"location":"plugins/terraform-scaffolder/frontend/install/#installation-steps","title":"Installation Steps","text":"<ol> <li>Install the plugin package:</li> </ol> <pre><code># Using yarn\nyarn --cwd packages/app add @backstage/plugin-terraform-scaffolder\n</code></pre> <ol> <li>Register the plugin in your Backstage app:</li> </ol> <pre><code>// packages/app/src/apis.ts\nimport { terraformScaffolderPlugin } from '@backstage/plugin-terraform-scaffolder';\n\nexport const apis = [\n  // ... other APIs\n  terraformScaffolderPlugin,\n];\n</code></pre> <ol> <li>Configure the plugin in your <code>app-config.yaml</code>:</li> </ol> <pre><code>terraformScaffolder:\n  # Enable proxy support for private GitHub repositories\n  useProxyForGitHub: true\n\n  # Registry module configuration (optional)\n  registryReferences:\n    returnAllVersions: true\n    namespaces:\n      - terraform-aws-modules\n      - vmware\n\n  # Direct module references\n  moduleReferences:\n    - name: 'AWS ECR Module'\n      url: 'https://github.com/terraform-aws-modules/terraform-aws-ecr'\n      refs:\n        - 'v3.1.0'\n      description: 'AWS ECR Module'\n</code></pre> <ol> <li>If using private GitHub repositories, configure the proxy:</li> </ol> <pre><code>proxy:\n  endpoints:\n    '/github-raw':\n      target: 'https://raw.githubusercontent.com'\n      changeOrigin: true\n      headers:\n        Authorization: 'Token ${GITHUB_TOKEN}'\n</code></pre> <ol> <li>Add the field extension to your template:</li> </ol> <pre><code>apiVersion: scaffolder.backstage.io/v1beta3\nkind: Template\nmetadata:\n  name: terraform-infrastructure\n  title: Create Infrastructure\nspec:\n  parameters:\n    - title: Infrastructure\n      properties:\n        infrastructure:\n          title: Terraform Module\n          type: string\n          ui:field: TerraformModule\n</code></pre>"},{"location":"plugins/terraform-scaffolder/frontend/install/#verification","title":"Verification","text":"<p>To verify the installation:</p> <ol> <li>Navigate to your software templates</li> <li>Create a new component using a template with the TerraformModule field</li> <li>Verify that you can:</li> <li>Select from available modules</li> <li>Choose module versions</li> <li>Configure module variables</li> <li>See validation messages</li> <li>Submit the form successfully</li> <li>Access private repositories (if configured)</li> </ol>"},{"location":"plugins/terraform-scaffolder/frontend/install/#troubleshooting","title":"Troubleshooting","text":"<p>Common issues and solutions:</p> <ol> <li>Module Not Found</li> <li>Check module URL in app-config.yaml</li> <li>Verify GitHub access permissions</li> <li>Check module ref/branch exists</li> <li> <p>Verify registry namespace configuration</p> </li> <li> <p>Private Repository Access</p> </li> <li>Check GitHub token permissions</li> <li>Verify proxy configuration</li> <li>Ensure useProxyForGitHub is enabled</li> <li> <p>Check proxy endpoint headers</p> </li> <li> <p>Type Errors</p> </li> <li>Ensure all required API dependencies are installed</li> <li>Check for version mismatches</li> <li> <p>Verify type definitions in variables.tf</p> </li> <li> <p>Form Validation Errors</p> </li> <li>Verify variables.tf exists in module</li> <li>Check variable type definitions</li> <li>Ensure version references are correct</li> </ol>"},{"location":"plugins/terraform-scaffolder/frontend/install/#next-steps","title":"Next Steps","text":"<p>After installation:</p> <ol> <li>Configure your module sources:</li> <li>Add configuration-based modules</li> <li>Set up catalog-based modules</li> <li> <p>Configure registry integration</p> </li> <li> <p>Set up security:</p> </li> <li>Configure private repository access</li> <li>Set up proxy settings</li> <li> <p>Manage GitHub tokens</p> </li> <li> <p>Create and test templates:</p> </li> <li>Create templates using the TerraformModule field</li> <li>Test with different module versions</li> <li> <p>Verify variable handling</p> </li> <li> <p>Plan for production:</p> </li> <li>Set up CI/CD for your Terraform deployments</li> <li>Document module usage</li> <li>Plan version management strategy</li> </ol> <p>For detailed configuration options, see the Configuration guide.</p>"},{"location":"plugins/vcf-automation/overview/","title":"VCF Automation Plugins","text":"<p>The VCF Automation plugins provide comprehensive visibility and management capabilities for VMware Cloud Foundation (VCF) deployments within Backstage. It enables teams to monitor deployments, manage resources, and oversee project configurations through an intuitive interface. The plugins support Aria Automation 8.x as well as VCF Automation 9.x, including both vm-apps (classic) and all-apps organization types.</p>"},{"location":"plugins/vcf-automation/overview/#features","title":"Features","text":"<ul> <li>Deployment Monitoring: Track VCF deployment status and operations</li> <li>Resource Management: Manage vSphere VMs and other VCF resources including CCI Supervisor resources</li> <li>Project Configuration: Configure and monitor VCF projects across different organization types</li> <li>CCI Support: Full support for Cloud Consuption Interface (CCI) Supervisor namespaces and resources</li> <li>Multi-Organization Type: Support for both vm-apps (classic) and all-apps organization models in VCF 9</li> <li>Permission Controls: Fine-grained access control integration</li> <li>Entity Integration: Seamless catalog entity synchronization with proper entity relationships</li> <li>Status Tracking: Real-time deployment and resource status with live Kubernetes object monitoring</li> <li>YAML Visualization: Beautiful syntax-highlighted YAML rendering for Kubernetes manifests</li> <li>YAML Editing: Interactive YAML editing capabilities for CCI Supervisor resources with Monaco Editor</li> </ul>"},{"location":"plugins/vcf-automation/overview/#screenshots","title":"Screenshots","text":""},{"location":"plugins/vcf-automation/overview/#project-overview","title":"Project Overview","text":""},{"location":"plugins/vcf-automation/overview/#project-details","title":"Project Details","text":""},{"location":"plugins/vcf-automation/overview/#deployment-overview","title":"Deployment Overview","text":""},{"location":"plugins/vcf-automation/overview/#deployment-details","title":"Deployment Details","text":""},{"location":"plugins/vcf-automation/overview/#vsphere-vm-overview-vcfa-8-and-vm-apps-orgs-in-vcfa-9","title":"vSphere VM Overview (VCFA 8 and VM Apps orgs in VCFA 9)","text":""},{"location":"plugins/vcf-automation/overview/#vsphere-vm-details-vcfa-8-and-vm-apps-orgs-in-vcfa-9","title":"vSphere VM Details (VCFA 8 and VM Apps orgs in VCFA 9)","text":""},{"location":"plugins/vcf-automation/overview/#resource-overview-vcfa-8-and-vm-apps-orgs-in-vcfa-9","title":"Resource Overview (VCFA 8 and VM Apps orgs in VCFA 9)","text":""},{"location":"plugins/vcf-automation/overview/#resource-details-vcfa-8-and-vm-apps-orgs-in-vcfa-9","title":"Resource Details (VCFA 8 and VM Apps orgs in VCFA 9)","text":""},{"location":"plugins/vcf-automation/overview/#cci-supervisor-namespace-overview-vcfa-9-all-apps-orgs","title":"CCI Supervisor Namespace Overview (VCFA 9 All Apps Orgs)","text":""},{"location":"plugins/vcf-automation/overview/#cci-supervisor-namespace-details-vcfa-9-all-apps-orgs","title":"CCI Supervisor Namespace Details (VCFA 9 All Apps Orgs)","text":""},{"location":"plugins/vcf-automation/overview/#cci-supervisor-resource-overview-vcfa-9-all-apps-orgs","title":"CCI Supervisor Resource Overview (VCFA 9 All Apps Orgs)","text":""},{"location":"plugins/vcf-automation/overview/#cci-supervisor-resource-details-vcfa-9-all-apps-orgs","title":"CCI Supervisor Resource Details (VCFA 9 All Apps Orgs)","text":""},{"location":"plugins/vcf-automation/overview/#basic-information","title":"Basic Information","text":""},{"location":"plugins/vcf-automation/overview/#manifest-details","title":"Manifest Details","text":""},{"location":"plugins/vcf-automation/overview/#object-status","title":"Object Status","text":""},{"location":"plugins/vcf-automation/overview/#resource-conditions","title":"Resource Conditions","text":""},{"location":"plugins/vcf-automation/overview/#defined-resource-manifest","title":"Defined Resource Manifest","text":""},{"location":"plugins/vcf-automation/overview/#live-kubernetes-object-manifest","title":"Live Kubernetes Object Manifest","text":""},{"location":"plugins/vcf-automation/overview/#cci-supervisor-resource-yaml-editing-vcfa-9-all-apps-orgs","title":"CCI Supervisor Resource YAML Editing (VCFA 9 All Apps Orgs)","text":"<p>The VCF Automation plugin provides powerful YAML editing capabilities for CCI Supervisor resources, allowing users to directly modify Kubernetes resource manifests through a professional Monaco Editor interface.</p>"},{"location":"plugins/vcf-automation/overview/#edit-resource-manifest-button-overview-page","title":"Edit Resource Manifest Button (Overview Page)","text":"<p>For CCI resources (both standalone and deployment-managed) with proper permissions, an \"Edit Resource Manifest\" button appears in the resource overview page, providing quick access to the YAML editor modal.</p>"},{"location":"plugins/vcf-automation/overview/#yaml-editor-modal-overview-page","title":"YAML Editor Modal (Overview Page)","text":"<p> The modal includes: - Monaco Editor: Professional code editor with YAML syntax highlighting - Real-time Validation: Live YAML syntax validation with error feedback - Fixed Status Bar: Validation status remains visible at the bottom - Save Confirmation: Confirmation dialog before applying changes</p>"},{"location":"plugins/vcf-automation/overview/#edit-manifest-tab-details-page","title":"Edit Manifest Tab (Details Page)","text":"<p> The dedicated \"Edit Manifest\" tab provides: - Integrated Editor: Monaco Editor embedded directly in the details page - Auto-loading: Manifest automatically loads when tab is selected - Full-height Editor: Optimized for comfortable editing experience - Inline Actions: Save and Cancel buttons within the tab interface</p>"},{"location":"plugins/vcf-automation/overview/#plugin-components","title":"Plugin Components","text":""},{"location":"plugins/vcf-automation/overview/#frontend-plugin","title":"Frontend Plugin","text":"<p>The plugin provides frontend components for: - Deployment visualization - Resource management - Project configuration - Status monitoring  </p> <p>Learn more about the frontend plugin</p>"},{"location":"plugins/vcf-automation/overview/#backend-plugin","title":"Backend Plugin","text":"<p>The plugin provides a backend deployment that: - Handles API integration - Manages permissions - Processes operations - Tracks resources  </p> <p>Learn more about the backend plugin</p>"},{"location":"plugins/vcf-automation/overview/#ingestor-plugin","title":"Ingestor Plugin","text":"<p>The plugin provides a backend that: - Discovers entities in your VCF Automation environment - Generates the relevant Backstage entities to represent the VCF Automation resources - Adds required metadata to the generated entities to allow the frontend plugin to pull runtime data - Adds, updates and deletes the entities in the Backstage catalog based on the current state in VCF Automation</p> <p>Learn more about the ingestor plugin</p>"},{"location":"plugins/vcf-automation/overview/#available-components","title":"Available Components","text":""},{"location":"plugins/vcf-automation/overview/#deployment-components","title":"Deployment Components","text":"<ul> <li><code>VCFAutomationDeploymentOverview</code>: High-level deployment status</li> <li><code>VCFAutomationDeploymentDetails</code>: Detailed deployment information</li> </ul>"},{"location":"plugins/vcf-automation/overview/#vm-components","title":"VM Components","text":"<ul> <li><code>VCFAutomationVSphereVMOverview</code>: VM status overview</li> <li><code>VCFAutomationVSphereVMDetails</code>: Detailed VM configuration</li> </ul>"},{"location":"plugins/vcf-automation/overview/#resource-components","title":"Resource Components","text":"<ul> <li><code>VCFAutomationGenericResourceOverview</code>: Resource status</li> <li><code>VCFAutomationGenericResourceDetails</code>: Resource configuration</li> </ul>"},{"location":"plugins/vcf-automation/overview/#project-components","title":"Project Components","text":"<ul> <li><code>VCFAutomationProjectOverview</code>: Project status overview (supports both vm-apps and all-apps)</li> <li><code>VCFAutomationProjectDetails</code>: Project configuration details (supports both vm-apps and all-apps)</li> </ul>"},{"location":"plugins/vcf-automation/overview/#cci-components-new","title":"CCI Components (New)","text":"<ul> <li><code>VCFAutomationCCINamespaceOverview</code>: CCI Supervisor Namespace overview with VM classes, storage classes, and zones</li> <li><code>VCFAutomationCCINamespaceDetails</code>: Detailed CCI Supervisor Namespace information with status tables</li> <li><code>VCFAutomationCCIResourceOverview</code>: CCI Supervisor Resource overview with manifest and object data, including YAML editing modal</li> <li><code>VCFAutomationCCIResourceDetails</code>: Detailed CCI Supervisor Resource with tabbed views, YAML rendering, and integrated YAML editor tab</li> </ul>"},{"location":"plugins/vcf-automation/overview/#entity-types-created","title":"Entity Types Created","text":"<p>The ingestor creates the following Backstage entity types:</p> <ul> <li>Domain: VCF Projects (with project-specific external links)</li> <li>System: VCF Deployments (with deployment-specific external links)</li> <li>Component: </li> <li>vSphere Virtual Machines (Cloud.vSphere.Machine)</li> <li>CCI Supervisor Namespaces (CCI.Supervisor.Namespace)</li> <li>CCI Supervisor Resources (CCI.Supervisor.Resource)</li> <li>Resource: Other VCF resources (generic resources)</li> </ul>"},{"location":"plugins/vcf-automation/overview/#entity-relationships","title":"Entity Relationships","text":"<ul> <li>CCI Supervisor Resources are marked as <code>subcomponentOf</code> their parent CCI Supervisor Namespace</li> <li>Deployments belong to their parent Project domain</li> <li>Resources are part of their parent Deployment system</li> <li>Dependencies are properly tracked between resources using <code>dependsOn</code> relationships</li> </ul>"},{"location":"plugins/vcf-automation/overview/#prerequisites","title":"Prerequisites","text":"<p>Before getting started, ensure you have:</p> <ol> <li>VCF Automation Backend Plugin installed</li> <li>VCF Ingestor Plugin configured</li> <li>Access to VCF deployments</li> <li>Proper permissions setup</li> </ol>"},{"location":"plugins/vcf-automation/overview/#mcp-actions-integration","title":"MCP Actions Integration","text":"<p>The VCF Automation plugin provides MCP (Model Control Protocol) actions for interacting with VCF Automation resources. To enable these actions:</p> <ol> <li> <p>First, ensure you have the MCP actions backend plugin installed and configured. See the MCP Actions Backend Plugin documentation for setup instructions.</p> </li> <li> <p>Add the plugin to your actions configuration in <code>app-config.yaml</code>:</p> </li> </ol> <pre><code>backend:\n  actions:\n    pluginSources:\n      - 'catalog'\n      - 'vcf-automation'\n      # ... other action sources\n</code></pre>"},{"location":"plugins/vcf-automation/overview/#available-mcp-actions","title":"Available MCP Actions","text":"<p>The plugin provides the following MCP actions:</p> <ul> <li><code>get_vcf_automation_instances</code>: Get configured VCF Automation instances</li> <li>Input: None</li> <li> <p>Output: List of VCFA instances with their configurations</p> </li> <li> <p><code>get_vcf_automation_projects</code>: List projects in a VCF Automation instance</p> </li> <li>Input: Optional instance name</li> <li> <p>Output: List of projects with IDs and names</p> </li> <li> <p><code>get_vcf_automation_project_details</code>: Get detailed project information</p> </li> <li>Input: Project ID and optional instance name</li> <li> <p>Output: Full project details</p> </li> <li> <p><code>get_supervisor_namespaces_from_vcf_automation</code>: List supervisor namespaces</p> </li> <li>Input: Optional instance name</li> <li> <p>Output: List of supervisor namespaces</p> </li> <li> <p><code>get_supervisor_namespace_from_vcf_automation</code>: Get namespace details</p> </li> <li>Input: Namespace ID and optional instance name</li> <li> <p>Output: Full namespace details</p> </li> <li> <p><code>get_vcf_automation_deployments</code>: List all deployments</p> </li> <li>Input: Optional instance name</li> <li> <p>Output: List of deployments</p> </li> <li> <p><code>get_vcf_automation_deployment_details</code>: Get deployment details</p> </li> <li>Input: Deployment ID and optional instance name</li> <li> <p>Output: Deployment details, history, events, and resources</p> </li> <li> <p><code>vm_power_action_from_vcf_automation</code>: Execute VM power actions</p> </li> <li>Input: Action type, VM details, and optional instance name</li> <li> <p>Output: Operation status and details</p> </li> <li> <p><code>get_resource_details_from_vcf_automation</code>: Get resource details</p> </li> <li>Input: Deployment ID, resource ID, and optional instance name</li> <li> <p>Output: Full resource details</p> </li> <li> <p><code>get_supervisor_resources_from_vcf_automation</code>: List supervisor resources</p> </li> <li>Input: Optional instance name</li> <li> <p>Output: List of supervisor resources</p> </li> <li> <p><code>get_supervisor_resource_from_vcf_automation</code>: Get supervisor resource details</p> </li> <li>Input: Resource ID and optional instance name</li> <li> <p>Output: Full resource details</p> </li> <li> <p><code>get_vcf_automation_supervisor_resource_manifest</code>: Get resource manifest</p> </li> <li>Input: Resource details and optional instance name</li> <li> <p>Output: Resource manifest</p> </li> <li> <p><code>update_vcf_automation_supervisor_resource_manifest</code>: Update resource manifest</p> </li> <li>Input: Resource details, new manifest, and optional instance name</li> <li>Output: Updated manifest and operation status</li> </ul>"},{"location":"plugins/vcf-automation/overview/#getting-started","title":"Getting Started","text":"<p>To get started with the VCF Automation plugin:</p> <ol> <li>Install frontend and backend plugins</li> <li>Configure API integration</li> <li>Set up entity synchronization</li> <li>Configure permissions</li> <li>Configure MCP actions in your app-config.yaml</li> <li>Add components to entity pages</li> </ol> <p>For detailed installation and configuration instructions, refer to the frontend and backend documentation linked above.</p>"},{"location":"plugins/vcf-automation/backend/about/","title":"VCF Automation Backend Plugin","text":""},{"location":"plugins/vcf-automation/backend/about/#overview","title":"Overview","text":"<p>The VCF Automation backend plugin provides the backend services required for the VCF Automation frontend plugin. It handles API integration with VCF services, manages permissions, and processes deployment and resource operations.</p>"},{"location":"plugins/vcf-automation/backend/about/#features","title":"Features","text":""},{"location":"plugins/vcf-automation/backend/about/#api-integration","title":"API Integration","text":"<ul> <li>Seamless integration with VCF Automation services</li> <li>API endpoint management</li> <li>Service communication</li> </ul>"},{"location":"plugins/vcf-automation/backend/about/#permission-management","title":"Permission Management","text":"<ul> <li>Built-in support for Backstage's permission framework</li> <li>Access control management</li> <li>Resource authorization</li> </ul>"},{"location":"plugins/vcf-automation/backend/about/#entity-processing","title":"Entity Processing","text":"<ul> <li>Entity relationship mapping</li> <li>Entity updates</li> <li>State management</li> </ul>"},{"location":"plugins/vcf-automation/backend/about/#operation-management","title":"Operation Management","text":"<ul> <li>Deployment operations</li> <li>Resource management</li> <li>Operation processing</li> </ul>"},{"location":"plugins/vcf-automation/backend/about/#event-handling","title":"Event Handling","text":"<ul> <li>VCF events management</li> <li>Event streaming</li> <li>Notification handling</li> </ul>"},{"location":"plugins/vcf-automation/backend/about/#api-endpoints","title":"API Endpoints","text":"<p>The plugin exposes the following endpoints:</p> <pre><code>// Get deployment details\nGET /api/vcf-automation/deployments/:id\n\n// Get resource details\nGET /api/vcf-automation/resources/:id\n\n// Get project details\nGET /api/vcf-automation/projects/:id\n\n// Execute deployment operations\nPOST /api/vcf-automation/deployments/:id/operations\n\n// Stream VCF events\nGET /api/vcf-automation/events\n</code></pre>"},{"location":"plugins/vcf-automation/backend/about/#links","title":"Links","text":"<ul> <li>Installation Guide</li> <li>Configuration Guide</li> </ul>"},{"location":"plugins/vcf-automation/backend/configure/","title":"Configuring the VCF Automation Backend Plugin","text":"<p>This guide covers the configuration options available for the VCF Automation backend plugin.</p>"},{"location":"plugins/vcf-automation/backend/configure/#configuration-file","title":"Configuration File","text":"<p>The plugin is configured through your <code>app-config.yaml</code>. Here's the basic configuration:</p> <pre><code>vcfAutomation:\n  name: my-vcf-01\n  majorVersion: 9\n  orgName: my-org # This is needed only in VCFA 9 and above\n  organizationType: 'all-apps' # Options: 'vm-apps' (default) or 'all-apps' for VCF 9 organization types\n  baseUrl: 'https://your-vcf-automation-instance'\n  authentication:\n    username: 'your-username'\n    password: 'your-password'\n</code></pre> <p>The plugin does support multi instance config in the following format:</p> <pre><code>vcfAutomation:\n  instances:\n  - name: my-vcf-01\n    baseUrl: 'https://your-vcf-automation-instance'\n    majorVersion: 8\n    authentication:\n      username: 'your-username'\n      password: 'your-password'\n      domain: 'your-domain'\n  - name: my-vcf-02\n    baseUrl: 'https://your-vcf-02-automation-instance'\n    majorVersion: 9\n    orgName: my-org # This is needed only in VCFA 9 and above\n    organizationType: 'all-apps' # Options: 'vm-apps' (default) or 'all-apps' for VCF 9 organization types\n    authentication:\n      username: 'your-username'\n      password: 'your-password'\n</code></pre>"},{"location":"plugins/vcf-automation/backend/configure/#api-endpoints","title":"API Endpoints","text":"<p>The plugin exposes the following endpoints:</p> <ul> <li><code>GET /api/vcf-automation/deployments/:id</code> - Get deployment details</li> <li><code>GET /api/vcf-automation/resources/:id</code> - Get resource details</li> <li><code>GET /api/vcf-automation/projects/:id</code> - Get project details</li> <li><code>GET /api/vcf-automation/projects</code> - Get all projects</li> <li><code>GET /api/vcf-automation/deployments</code> - Get all deployments</li> <li><code>GET /api/vcf-automation/deployments/:id/resources</code> - Get all resources for a deployment</li> <li><code>POST /api/vcf-automation/deployments/:id/operations</code> - Execute deployment operations</li> <li><code>GET /api/vcf-automation/events</code> - Stream VCF events</li> <li><code>GET /api/vcf-automation/supervisor-resources</code> - List all supervisor resources (paginated)</li> <li><code>GET /api/vcf-automation/supervisor-resources/:id</code> - Get specific supervisor resource details</li> <li><code>GET /api/vcf-automation/supervisor-namespaces</code> - List all supervisor namespaces</li> <li><code>GET /api/vcf-automation/supervisor-namespaces/:id</code> - Get specific supervisor namespace details</li> <li><code>GET /api/vcf-automation/resources/:resourceId/power-actions/:action</code> - Check VM power action validity (deployment-managed)</li> <li><code>POST /api/vcf-automation/resources/:resourceId/power-actions/:action</code> - Execute VM power action (deployment-managed)</li> <li><code>GET /api/vcf-automation/standalone-vms/:namespaceUrnId/:namespaceName/:vmName/status</code> - Get standalone VM status</li> <li><code>PUT /api/vcf-automation/standalone-vms/:namespaceUrnId/:namespaceName/:vmName/power-state</code> - Update standalone VM power state</li> </ul> <p>Note: VM power management requires the <code>vcf-automation.vm-power-management.run</code> permission, which is defined in the <code>vcf-automation-common</code> plugin.</p>"},{"location":"plugins/vcf-automation/backend/configure/#links","title":"Links","text":"<ul> <li>Installation Guide</li> <li>About the plugin</li> </ul>"},{"location":"plugins/vcf-automation/backend/install/","title":"Installing the VCF Automation Backend Plugin","text":"<p>This guide will help you install and set up the VCF Automation backend plugin in your Backstage instance.</p>"},{"location":"plugins/vcf-automation/backend/install/#prerequisites","title":"Prerequisites","text":"<p>Before installing the plugin, ensure you have:</p> <ol> <li>A running Backstage backend instance</li> <li>Access to a VCF Automation service</li> <li>VCF Ingestor Plugin - Required for entity synchronization</li> </ol>"},{"location":"plugins/vcf-automation/backend/install/#installation-steps","title":"Installation Steps","text":""},{"location":"plugins/vcf-automation/backend/install/#1-add-the-package","title":"1. Add the Package","text":"<p>Install the plugin package using yarn:</p> <pre><code>yarn --cwd packages/backend add @terasky/backstage-plugin-vcf-automation-backend\n</code></pre>"},{"location":"plugins/vcf-automation/backend/install/#2-add-to-backend","title":"2. Add to Backend","text":"<p>Modify your backend in <code>packages/backend/src/index.ts</code>:</p> <pre><code>import { createBackend } from '@backstage/backend-defaults';\n\nconst backend = createBackend();\n\n// Add the VCF Automation backend plugin\nbackend.add(import('@terasky/plugin-vcf-automation-backend'));\n\nbackend.start();\n</code></pre>"},{"location":"plugins/vcf-automation/backend/install/#3-configure-authentication","title":"3. Configure Authentication","text":"<p>Add authentication configuration to your <code>app-config.yaml</code>:</p> <p>Single Instance: <pre><code>vcfAutomation:\n  baseUrl: 'https://your-vcf-automation-instance'\n  name: demo\n  majorVersion: 8\n  authentication:\n    username: 'your-username'\n    password: 'your-password'\n    domain: 'your-domain'\n</code></pre></p> <p>Multi Instance: <pre><code>vcfAutomation:\n  instances:\n  - name: my-vcf-01\n    baseUrl: 'https://your-vcf-automation-instance'\n    majorVersion: 9\n    orgName: my-org # This is needed only in VCFA 9 and above\n    authentication:\n      username: 'your-username'\n      password: 'your-password'\n  - name: my-vcf-02\n    baseUrl: 'https://your-vcf-02-automation-instance'\n    majorVersion: 8\n    authentication:\n      username: 'your-username'\n      password: 'your-password'\n      domain: 'your-domain'\n</code></pre></p>"},{"location":"plugins/vcf-automation/backend/install/#whats-next","title":"What's Next?","text":"<ul> <li>Configure the plugin</li> <li>Learn about the plugin's features</li> </ul>"},{"location":"plugins/vcf-automation/backend/install/#verification","title":"Verification","text":"<p>After installation, verify that:</p> <ol> <li>The plugin appears in your package.json dependencies</li> <li>The backend starts without errors</li> <li>API endpoints are accessible</li> <li>Authentication is working</li> <li>Permissions are enforced</li> </ol>"},{"location":"plugins/vcf-automation/backend/install/#troubleshooting","title":"Troubleshooting","text":"<p>Common issues and solutions:</p> <ol> <li> <p>Authentication Issues</p> <ul> <li>Verify credentials</li> <li>Check environment variables</li> <li>Test VCF service access</li> <li>Review error logs</li> </ul> </li> <li> <p>API Connection Problems</p> <ul> <li>Check service URL</li> <li>Verify network access</li> <li>Review proxy settings</li> <li>Test API endpoints</li> </ul> </li> <li> <p>Permission Errors</p> <ul> <li>Check role configuration</li> <li>Verify user permissions</li> <li>Review access policies</li> <li>Test with admin account</li> </ul> </li> <li> <p>Event Streaming Issues</p> <ul> <li>Check WebSocket connection</li> <li>Verify event subscription</li> <li>Review stream configuration</li> <li>Test event flow</li> </ul> </li> </ol> <p>For configuration options and customization, proceed to the Configuration Guide.</p>"},{"location":"plugins/vcf-automation/frontend/about/","title":"VCF Automation Frontend Plugin","text":""},{"location":"plugins/vcf-automation/frontend/about/#overview","title":"Overview","text":"<p>The VCF Automation plugin for Backstage provides visibility into VCF deployments, resources, and projects. It offers detailed views of deployment operations, resource states, and project configurations. The plugin integrates with Backstage's permission framework to ensure secure access control.</p>"},{"location":"plugins/vcf-automation/frontend/about/#features","title":"Features","text":""},{"location":"plugins/vcf-automation/frontend/about/#vsphere-vm-management","title":"VSphere VM Management","text":"<ul> <li>Detailed view of VM configurations and status</li> <li>VM monitoring and overview</li> <li>Configuration management</li> </ul>"},{"location":"plugins/vcf-automation/frontend/about/#deployment-operations","title":"Deployment Operations","text":"<ul> <li>Track deployment status and history</li> <li>Deployment overview and details</li> <li>Operation monitoring</li> </ul>"},{"location":"plugins/vcf-automation/frontend/about/#resource-management","title":"Resource Management","text":"<ul> <li>Monitor various VCF resource types</li> <li>Resource configuration views</li> <li>Status tracking</li> </ul>"},{"location":"plugins/vcf-automation/frontend/about/#project-administration","title":"Project Administration","text":"<ul> <li>Manage VCF project settings</li> <li>Resource organization</li> <li>Project overview and details</li> </ul>"},{"location":"plugins/vcf-automation/frontend/about/#permission-integration","title":"Permission Integration","text":"<ul> <li>Built-in support for Backstage's permission framework</li> <li>Secure access control</li> <li>Role-based permissions</li> </ul>"},{"location":"plugins/vcf-automation/frontend/about/#cci-supervisor-resource-management","title":"CCI Supervisor Resource Management","text":"<ul> <li>Interactive YAML editing for standalone CCI resources</li> <li>Monaco Editor integration with syntax highlighting</li> <li>Real-time YAML validation and error feedback</li> <li>Modal and tab-based editing interfaces</li> <li>Permission-controlled access to editing capabilities</li> </ul>"},{"location":"plugins/vcf-automation/frontend/about/#components","title":"Components","text":"<p>The plugin provides several components for different entity types:</p>"},{"location":"plugins/vcf-automation/frontend/about/#project-domain-components","title":"Project (Domain) Components","text":"<ul> <li><code>VCFAutomationProjectOverview</code>: High-level project summary</li> <li><code>VCFAutomationProjectDetails</code>: Detailed project information</li> </ul>"},{"location":"plugins/vcf-automation/frontend/about/#deployment-components","title":"Deployment Components","text":"<ul> <li><code>VCFAutomationDeploymentOverview</code>: Quick deployment status</li> <li><code>VCFAutomationDeploymentDetails</code>: In-depth deployment information</li> </ul>"},{"location":"plugins/vcf-automation/frontend/about/#vsphere-vm-components","title":"VSphere VM Components","text":"<ul> <li><code>VCFAutomationVSphereVMOverview</code>: VM status overview</li> <li><code>VCFAutomationVSphereVMDetails</code>: Detailed VM configurations</li> </ul>"},{"location":"plugins/vcf-automation/frontend/about/#generic-resource-components","title":"Generic Resource Components","text":"<ul> <li><code>VCFAutomationGenericResourceOverview</code>: Resource summary</li> <li><code>VCFAutomationGenericResourceDetails</code>: Detailed resource information</li> </ul>"},{"location":"plugins/vcf-automation/frontend/about/#cci-supervisor-components","title":"CCI Supervisor Components","text":"<ul> <li><code>VCFAutomationCCINamespaceOverview</code>: CCI Supervisor Namespace overview with resource summaries</li> <li><code>VCFAutomationCCINamespaceDetails</code>: Detailed CCI Supervisor Namespace configuration and status</li> <li><code>VCFAutomationCCIResourceOverview</code>: CCI Supervisor Resource overview with YAML editing modal</li> <li><code>VCFAutomationCCIResourceDetails</code>: Detailed CCI Supervisor Resource with integrated YAML editor tab</li> </ul>"},{"location":"plugins/vcf-automation/frontend/about/#entity-integration","title":"Entity Integration","text":"<p>The plugin integrates with the following entity types:</p>"},{"location":"plugins/vcf-automation/frontend/about/#vsphere-vm-component","title":"VSphere VM Component","text":"<pre><code>apiVersion: backstage.io/v1alpha1\nkind: Component\nmetadata:\n  name: my-vm\nspec:\n  type: Cloud.vSphere.Machine\n  system: my-deployment  # References parent deployment\n</code></pre>"},{"location":"plugins/vcf-automation/frontend/about/#vcf-deployment","title":"VCF Deployment","text":"<pre><code>apiVersion: backstage.io/v1alpha1\nkind: System\nmetadata:\n  name: my-deployment\n  annotations:\n    terasky.backstage.io/vcf-automation-deployment-status: 'true'\n</code></pre>"},{"location":"plugins/vcf-automation/frontend/about/#generic-resource","title":"Generic Resource","text":"<pre><code>apiVersion: backstage.io/v1alpha1\nkind: Resource\nmetadata:\n  name: my-resource\n  annotations:\n    terasky.backstage.io/vcf-automation-resource-type: 'network'\n</code></pre>"},{"location":"plugins/vcf-automation/frontend/about/#project-domain","title":"Project (Domain)","text":"<pre><code>apiVersion: backstage.io/v1alpha1\nkind: Domain\nmetadata:\n  name: my-project\n</code></pre>"},{"location":"plugins/vcf-automation/frontend/about/#cci-supervisor-namespace-component","title":"CCI Supervisor Namespace Component","text":"<pre><code>apiVersion: backstage.io/v1alpha1\nkind: Component\nmetadata:\n  name: my-cci-namespace\n  annotations:\n    terasky.backstage.io/vcf-automation-resource-origin: 'STANDALONE'\nspec:\n  type: CCI.Supervisor.Namespace\n  domain: my-project  # References parent project\n</code></pre>"},{"location":"plugins/vcf-automation/frontend/about/#cci-supervisor-resource-component","title":"CCI Supervisor Resource Component","text":"<pre><code>apiVersion: backstage.io/v1alpha1\nkind: Component\nmetadata:\n  name: my-cci-resource\n  annotations:\n    terasky.backstage.io/vcf-automation-resource-origin: 'STANDALONE'\n    terasky.backstage.io/vcf-automation-cci-resource-manifest: '{\"apiVersion\":\"v1\",\"kind\":\"ConfigMap\",...}'\n    terasky.backstage.io/vcf-automation-cci-resource-object: '{\"apiVersion\":\"v1\",\"kind\":\"ConfigMap\",...}'\nspec:\n  type: CCI.Supervisor.Resource\n  subcomponentOf: my-cci-namespace  # References parent namespace\n</code></pre>"},{"location":"plugins/vcf-automation/frontend/about/#links","title":"Links","text":"<ul> <li>Installation Guide</li> <li>Configuration Guide</li> </ul>"},{"location":"plugins/vcf-automation/frontend/configure/","title":"Configuring the VCF Automation Frontend Plugin","text":"<p>This guide covers the configuration options available for the VCF Automation frontend plugin.</p>"},{"location":"plugins/vcf-automation/frontend/configure/#new-frontend-system-configuration-alpha","title":"New Frontend System Configuration (Alpha)","text":"<p>When using the new frontend system through the <code>/alpha</code> export, the plugin is configured automatically with sensible defaults. The configuration in <code>app-config.yaml</code> is still respected as described below.</p>"},{"location":"plugins/vcf-automation/frontend/configure/#configuration","title":"Configuration","text":"<p>Add the following to your <code>app-config.yaml</code>:  </p> <p>Single Instance: <pre><code>vcfAutomation:\n  name: my-vcf-01\n  baseUrl: http://your-vcf-automation-service\n  majorVersion: 9 # 8 or 9 supported\n  orgName: my-org # Required for VCF 9\n  organizationType: 'all-apps' # Options: 'vm-apps' (default) or 'all-apps' for VCF 9\n  # Enable permission checks\n  enablePermissions: true\n  # Auth details\n  authentication:\n    username: 'your-username'\n    password: 'your-password'\n    domain: 'your-domain' # Required for Aria Automation 8.x\n</code></pre></p> <p>Multi Instance: <pre><code>vcfAutomation:\n  enablePermissions: true\n  instances:\n  - name: my-vcf-01\n    baseUrl: 'https://your-vcf-automation-instance'\n    majorVersion: 8\n    authentication:\n      username: 'your-username'\n      password: 'your-password'\n      domain: 'your-domain'\n  - name: my-vcf-02\n    baseUrl: 'https://your-vcf-02-automation-instance'\n    majorVersion: 9\n    orgName: my-org # Required for VCF 9\n    organizationType: 'all-apps' # Options: 'vm-apps' (default) or 'all-apps' for VCF 9\n    authentication:\n      username: 'your-username'\n      password: 'your-password'\n</code></pre></p>"},{"location":"plugins/vcf-automation/frontend/configure/#links","title":"Links","text":"<ul> <li>Installation Guide</li> <li>About the plugin</li> </ul>"},{"location":"plugins/vcf-automation/frontend/configure/#configuration-file","title":"Configuration File","text":"<p>The plugin is configured through your <code>app-config.yaml</code>. Here's a comprehensive example:</p> <pre><code>vcfAutomation:\n  enablePermissions: true\n  instances:\n  - name: my-vcf-01\n    baseUrl: 'https://your-vcf-automation-instance'\n    majorVersion: 8\n    authentication:\n      username: 'your-username'\n      password: 'your-password'\n      domain: 'your-domain'\n  - name: my-vcf-02\n    baseUrl: 'https://your-vcf-02-automation-instance'\n    majorVersion: 9\n    orgName: my-org # Required for VCF 9\n    organizationType: 'all-apps' # Options: 'vm-apps' (default) or 'all-apps' for VCF 9\n    authentication:\n      username: 'your-username'\n      password: 'your-password'\n</code></pre>"},{"location":"plugins/vcf-automation/frontend/configure/#best-practices","title":"Best Practices","text":"<ol> <li> <p>Component Configuration</p> <ul> <li>Set appropriate refresh intervals</li> <li>Handle errors gracefully</li> <li>Use consistent styling</li> <li>Implement proper validation</li> </ul> </li> <li> <p>Permission Management</p> <ul> <li>Define clear role boundaries</li> <li>Implement least privilege</li> <li>Document access levels</li> <li>Regular permission audits</li> </ul> </li> <li> <p>Performance Optimization</p> <ul> <li>Cache API responses</li> <li>Minimize refresh frequency</li> <li>Implement error boundaries</li> <li>Monitor resource usage</li> </ul> </li> <li> <p>Security</p> <ul> <li>Use secure tokens</li> <li>Implement HTTPS</li> <li>Validate input data</li> <li>Regular security audits</li> </ul> </li> </ol>"},{"location":"plugins/vcf-automation/frontend/configure/#cci-supervisor-resource-yaml-editing","title":"CCI Supervisor Resource YAML Editing","text":"<p>The VCF Automation plugin provides powerful YAML editing capabilities for CCI Supervisor resources in VCF Automation 9.x with all-apps organization types. This feature allows users to directly modify Kubernetes resource manifests through an integrated Monaco Editor.</p>"},{"location":"plugins/vcf-automation/frontend/configure/#prerequisites","title":"Prerequisites","text":"<ul> <li>VCF Automation 9.x environment with all-apps organization type</li> <li>CCI Supervisor resources (both standalone and deployment-managed resources are supported)</li> <li>User must have the <code>vcf-automation.supervisor-resource.edit</code> permission</li> </ul>"},{"location":"plugins/vcf-automation/frontend/configure/#permission-configuration","title":"Permission Configuration","text":"<p>To enable YAML editing functionality, ensure the <code>vcf-automation.supervisor-resource.edit</code> permission is properly configured in your permission system:</p> <pre><code>// In your permission policy\nimport { supervisorResourceEditPermission } from '@terasky/backstage-plugin-vcf-automation-common';\n\n// Allow specific users/roles to edit CCI resources\nconst policy: PermissionPolicy = {\n  handle: async (request, user) =&gt; {\n    if (isPermission(request.permission, supervisorResourceEditPermission)) {\n      // Add your authorization logic here\n      return { result: AuthorizeResult.ALLOW };\n    }\n    // ... other permissions\n  },\n};\n</code></pre>"},{"location":"plugins/vcf-automation/frontend/configure/#features","title":"Features","text":""},{"location":"plugins/vcf-automation/frontend/configure/#1-resource-overview-modal-editor","title":"1. Resource Overview Modal Editor","text":"<ul> <li>Location: CCI Supervisor Resource Overview page</li> <li>Trigger: \"Edit Resource Manifest\" button (appears when user has permissions)</li> <li>Interface: Full-screen modal with Monaco Editor</li> <li>Features: </li> <li>YAML syntax highlighting</li> <li>Real-time validation with error feedback</li> <li>Save confirmation dialog</li> <li>Automatic page refresh after successful save</li> </ul>"},{"location":"plugins/vcf-automation/frontend/configure/#2-resource-details-tab-editor","title":"2. Resource Details Tab Editor","text":"<ul> <li>Location: CCI Supervisor Resource Details page</li> <li>Trigger: \"Edit Manifest\" tab (automatically loads manifest when selected)</li> <li>Interface: Embedded tab with full-height Monaco Editor</li> <li>Features:</li> <li>Integrated directly into the details page</li> <li>Auto-loading of resource manifest</li> <li>Inline save/cancel actions</li> <li>Real-time YAML validation</li> </ul>"},{"location":"plugins/vcf-automation/frontend/configure/#supported-resource-types","title":"Supported Resource Types","text":"<p>The YAML editor supports any Kubernetes resource type available in CCI Supervisor namespaces, including:</p> <ul> <li>VirtualMachine: VMware vSphere virtual machines</li> <li>TanzuKubernetesCluster: Tanzu Kubernetes clusters</li> <li>ConfigMap: Configuration data</li> <li>Secret: Sensitive data</li> <li>Pod: Individual container instances</li> <li>Service: Network services</li> <li>Deployment: Application deployments</li> <li>And any other valid Kubernetes resources</li> </ul>"},{"location":"plugins/vcf-automation/frontend/configure/#usage-workflow","title":"Usage Workflow","text":"<ol> <li>Access: Navigate to a CCI Supervisor Resource entity page</li> <li>Permission Check: Verify you have the required edit permission</li> <li>Edit: </li> <li>Modal: Click \"Edit Resource Manifest\" button in overview</li> <li>Tab: Click \"Edit Manifest\" tab in details view</li> <li>Modify: Edit the YAML using the Monaco Editor with syntax highlighting</li> <li>Validate: Real-time validation ensures YAML syntax correctness</li> <li>Save: Click \"Save Changes\" and confirm in the dialog</li> <li>Apply: Changes are applied directly to the Kubernetes resource</li> </ol>"},{"location":"plugins/vcf-automation/frontend/configure/#technical-details","title":"Technical Details","text":"<ul> <li>Editor: Monaco Editor (VS Code editor) with YAML language support</li> <li>Validation: Real-time YAML parsing using js-yaml library</li> <li>API: Uses VCF Automation's Kubernetes proxy endpoints</li> <li>Security: Permission-based access control</li> <li>Error Handling: Comprehensive error messages and user feedback</li> </ul>"},{"location":"plugins/vcf-automation/frontend/configure/#limitations","title":"Limitations","text":"<ul> <li>Requires VCF Automation 9.x with all-apps organization type</li> <li>User must have appropriate VCF Automation permissions in addition to Backstage permissions</li> <li>Resource must have valid apiVersion, kind, namespace, and name metadata</li> <li>Resource context must contain valid namespace URN ID information</li> </ul>"},{"location":"plugins/vcf-automation/frontend/configure/#troubleshooting","title":"Troubleshooting","text":"<p>Editor not appearing: Verify user has <code>vcf-automation.supervisor-resource.edit</code> permission</p> <p>Save fails: Verify YAML syntax is valid and user has write permissions in VCF Automation</p> <p>For installation instructions, refer to the Installation Guide.</p>"},{"location":"plugins/vcf-automation/frontend/install/","title":"Installing the VCF Automation Frontend Plugin","text":"<p>This guide will help you install and set up the VCF Automation frontend plugin in your Backstage instance.</p>"},{"location":"plugins/vcf-automation/frontend/install/#prerequisites","title":"Prerequisites","text":"<p>Before installing this plugin, ensure you have:</p> <ol> <li>VCF Automation Backend Plugin - Required for API integration</li> <li>VCF Ingestor Plugin - Required for entity synchronization</li> </ol>"},{"location":"plugins/vcf-automation/frontend/install/#installation-steps","title":"Installation Steps","text":""},{"location":"plugins/vcf-automation/frontend/install/#1-install-the-plugin","title":"1. Install the Plugin","text":"<p>Add the plugin to your Backstage project:</p> <pre><code># From your Backstage root directory\nyarn --cwd packages/app add @terasky/backstage-plugin-vcf-automation\n</code></pre>"},{"location":"plugins/vcf-automation/frontend/install/#2-register-the-plugin","title":"2. Register the Plugin","text":"<p>Add the plugin to your app's APIs in <code>packages/app/src/apis.ts</code>:</p> <pre><code>import {\n  vcfAutomationApiRef,\n  VcfAutomationClient,\n} from '@terasky/backstage-plugin-vcf-automation';\n\nexport const apis: AnyApiFactory[] = [\n  // ... other API factories\n  createApiFactory({\n    api: vcfAutomationApiRef,\n    deps: { discoveryApi: discoveryApiRef, identityApi: identityApiRef },\n    factory: ({ discoveryApi, identityApi }) =&gt; \n      new VcfAutomationClient({ discoveryApi, identityApi }),\n  }),\n];\n</code></pre>"},{"location":"plugins/vcf-automation/frontend/install/#3-add-to-apptsx","title":"3. Add to App.tsx","text":"<p>Add the plugin to your <code>packages/app/src/App.tsx</code>:</p> <pre><code>import { vcfAutomationPlugin } from '@terasky/backstage-plugin-vcf-automation';\n\nconst app = createApp({\n  apis,\n  bindRoutes({ bind }) {\n    // ... other bindings\n    bind(vcfAutomationPlugin.externalRoutes, {\n      catalogIndex: catalogPlugin.routes.catalogIndex,\n    });\n  },\n});\n</code></pre>"},{"location":"plugins/vcf-automation/frontend/install/#4-add-components-to-entity-pages","title":"4. Add Components to Entity Pages","text":"<p>Add the VCF Automation components to your entity pages in <code>packages/app/src/components/catalog/EntityPage.tsx</code>:</p> <pre><code>import {\n  VCFAutomationDeploymentOverview,\n  VCFAutomationDeploymentDetails,\n  VCFAutomationVSphereVMOverview,\n  VCFAutomationVSphereVMDetails,\n  VCFAutomationGenericResourceOverview,\n  VCFAutomationGenericResourceDetails,\n  VCFAutomationProjectOverview,\n  VCFAutomationProjectDetails,\n} from '@terasky/backstage-plugin-vcf-automation';\nimport { Entity } from '@backstage/catalog-model';\n\n// For VSphere VMs\nconst vcfAutomationVSphereVMPage = (\n  &lt;EntityLayout&gt;\n    &lt;EntityLayout.Route path=\"/\" title=\"Overview\"&gt;\n      &lt;Grid container spacing={3} alignItems=\"stretch\"&gt;\n        &lt;Grid item md={6}&gt;\n          &lt;EntityAboutCard variant=\"gridItem\" /&gt;\n        &lt;/Grid&gt;\n        &lt;Grid item md={6}&gt;\n          &lt;VCFAutomationVSphereVMOverview /&gt;\n        &lt;/Grid&gt;\n      &lt;/Grid&gt;\n    &lt;/EntityLayout.Route&gt;\n    &lt;EntityLayout.Route path=\"/vcf-automation\" title=\"VCF Automation\"&gt;\n      &lt;VCFAutomationVSphereVMDetails /&gt;\n    &lt;/EntityLayout.Route&gt;\n  &lt;/EntityLayout&gt;\n);\n\n// Add to your component page switch\nconst componentPage = (\n  &lt;EntitySwitch&gt;\n    &lt;EntitySwitch.Case if={isComponentType('Cloud.vSphere.Machine')}&gt;\n      {vcfAutomationVSphereVMPage}\n    &lt;/EntitySwitch.Case&gt;\n    // ... other cases\n  &lt;/EntitySwitch&gt;\n);\n\n// For VCF Deployments\nconst hasVcfAutomationDeploymentStatus = (entity: Entity): boolean =&gt; \n  Boolean(entity.metadata?.annotations?.['terasky.backstage.io/vcf-automation-deployment-status']);\n\nconst vcfAutomationDeploymentPage = (\n  &lt;EntityLayout&gt;\n    &lt;EntityLayout.Route path=\"/\" title=\"Overview\"&gt;\n      &lt;Grid container spacing={3} alignItems=\"stretch\"&gt;\n        &lt;Grid item md={6}&gt;\n          &lt;VCFAutomationDeploymentOverview /&gt;\n        &lt;/Grid&gt;\n      &lt;/Grid&gt;\n    &lt;/EntityLayout.Route&gt;\n    &lt;EntityLayout.Route path=\"/vcf-automation\" title=\"VCF Automation\"&gt;\n      &lt;VCFAutomationDeploymentDetails /&gt;\n    &lt;/EntityLayout.Route&gt;\n  &lt;/EntityLayout&gt;\n);\n\n// For Generic Resources\nconst hasVcfAutomationResourceType = (entity: Entity): boolean =&gt; \n  Boolean(entity.metadata?.annotations?.['terasky.backstage.io/vcf-automation-resource-type']);\n\nconst vcfAutomationGenericResourcePage = (\n  &lt;EntityLayout&gt;\n    &lt;EntityLayout.Route path=\"/\" title=\"Overview\"&gt;\n      &lt;Grid container spacing={3} alignItems=\"stretch\"&gt;\n        &lt;Grid item md={6}&gt;\n          &lt;VCFAutomationGenericResourceOverview /&gt;\n        &lt;/Grid&gt;\n      &lt;/Grid&gt;\n    &lt;/EntityLayout.Route&gt;\n    &lt;EntityLayout.Route path=\"/vcf-automation\" title=\"VCF Automation\"&gt;\n      &lt;VCFAutomationGenericResourceDetails /&gt;\n    &lt;/EntityLayout.Route&gt;\n  &lt;/EntityLayout&gt;\n);\n\n// For Projects (in Domain page)\nconst domainPage = (\n  &lt;EntityLayout&gt;\n    &lt;EntityLayout.Route path=\"/\" title=\"Overview\"&gt;\n      &lt;Grid container spacing={3} alignItems=\"stretch\"&gt;\n        &lt;Grid item md={6}&gt;\n          &lt;VCFAutomationProjectOverview /&gt;\n        &lt;/Grid&gt;\n      &lt;/Grid&gt;\n    &lt;/EntityLayout.Route&gt;\n    &lt;EntityLayout.Route path=\"/vcf-automation\" title=\"VCF Automation\"&gt;\n      &lt;VCFAutomationProjectDetails /&gt;\n    &lt;/EntityLayout.Route&gt;\n  &lt;/EntityLayout&gt;\n);\n\n// Add a Resources Page\nconst resourcePage = (\n  &lt;EntitySwitch&gt;\n    &lt;EntitySwitch.Case if={hasVcfAutomationResourceType}&gt;\n      {vcfAutomationGenericResourcePage}\n    &lt;/EntitySwitch.Case&gt;\n    &lt;EntitySwitch.Case&gt;\n      {defaultEntityPage}\n    &lt;/EntitySwitch.Case&gt;\n  &lt;/EntitySwitch&gt;\n);\n\n// CCI Component Pages (New in latest version)\nconst cciNamespacePage = (\n  &lt;EntityLayout&gt;\n    &lt;EntityLayout.Route path=\"/\" title=\"Overview\"&gt;\n      &lt;Grid container spacing={3} alignItems=\"stretch\"&gt;\n        &lt;Grid item md={6}&gt;\n          &lt;VCFAutomationCCINamespaceOverview /&gt;\n        &lt;/Grid&gt;\n      &lt;/Grid&gt;\n    &lt;/EntityLayout.Route&gt;\n    &lt;EntityLayout.Route path=\"/details\" title=\"Details\"&gt;\n      &lt;VCFAutomationCCINamespaceDetails /&gt;\n    &lt;/EntityLayout.Route&gt;\n  &lt;/EntityLayout&gt;\n);\n\nconst cciResourcePage = (\n  &lt;EntityLayout&gt;\n    &lt;EntityLayout.Route path=\"/\" title=\"Overview\"&gt;\n      &lt;Grid container spacing={3} alignItems=\"stretch\"&gt;\n        &lt;Grid item md={6}&gt;\n          &lt;VCFAutomationCCIResourceOverview /&gt;\n        &lt;/Grid&gt;\n      &lt;/Grid&gt;\n    &lt;/EntityLayout.Route&gt;\n    &lt;EntityLayout.Route path=\"/details\" title=\"Details\"&gt;\n      &lt;VCFAutomationCCIResourceDetails /&gt;\n    &lt;/EntityLayout.Route&gt;\n  &lt;/EntityLayout&gt;\n);\n\n// Component Page with CCI Support\nconst componentPage = (\n  &lt;EntitySwitch&gt;\n    &lt;EntitySwitch.Case if={isComponentType('CCI.Supervisor.Namespace')}&gt;\n      {cciNamespacePage}\n    &lt;/EntitySwitch.Case&gt;\n    &lt;EntitySwitch.Case if={isComponentType('CCI.Supervisor.Resource')}&gt;\n      {cciResourcePage}\n    &lt;/EntitySwitch.Case&gt;\n    &lt;EntitySwitch.Case if={hasVcfAutomationVSphereVMType}&gt;\n      {vcfAutomationVSphereVMPage}\n    &lt;/EntitySwitch.Case&gt;\n    &lt;EntitySwitch.Case&gt;\n      {defaultEntityPage}\n    &lt;/EntitySwitch.Case&gt;\n  &lt;/EntitySwitch&gt;\n);\n\n// Update the entityPage constant to include all pages\nexport const entityPage = (\n  &lt;EntitySwitch&gt;\n    &lt;EntitySwitch.Case if={isKind('component')} children={componentPage} /&gt;\n    &lt;EntitySwitch.Case if={isKind('resource')} children={resourcePage} /&gt;\n    &lt;EntitySwitch.Case if={isKind('domain')} children={domainPage} /&gt;\n    &lt;EntitySwitch.Case if={isKind('system')} children={systemPage} /&gt;\n    // ... other cases\n  &lt;/EntitySwitch&gt;\n);\n</code></pre>"},{"location":"plugins/vcf-automation/frontend/install/#cci-component-type-checks","title":"CCI Component Type Checks","text":"<p>Add the following helper functions for CCI component type checking:</p> <pre><code>import { Entity } from '@backstage/catalog-model';\n\nexport const isComponentType = (type: string) =&gt; (entity: Entity) =&gt;\n  entity?.kind === 'Component' &amp;&amp; entity.spec?.type === type;\n</code></pre>"},{"location":"plugins/vcf-automation/frontend/install/#available-components-summary","title":"Available Components Summary","text":"<p>The VCF Automation frontend plugin now provides the following components:</p>"},{"location":"plugins/vcf-automation/frontend/install/#traditional-components","title":"Traditional Components","text":"<ul> <li><code>VCFAutomationDeploymentOverview</code> &amp; <code>VCFAutomationDeploymentDetails</code> - For VCF deployments</li> <li><code>VCFAutomationVSphereVMOverview</code> &amp; <code>VCFAutomationVSphereVMDetails</code> - For vSphere VMs</li> <li><code>VCFAutomationGenericResourceOverview</code> &amp; <code>VCFAutomationGenericResourceDetails</code> - For generic resources</li> <li><code>VCFAutomationProjectOverview</code> &amp; <code>VCFAutomationProjectDetails</code> - For VCF projects</li> </ul>"},{"location":"plugins/vcf-automation/frontend/install/#cci-components-new","title":"CCI Components (New)","text":"<ul> <li><code>VCFAutomationCCINamespaceOverview</code> &amp; <code>VCFAutomationCCINamespaceDetails</code> - For CCI Supervisor Namespaces</li> <li><code>VCFAutomationCCIResourceOverview</code> &amp; <code>VCFAutomationCCIResourceDetails</code> - For CCI Supervisor Resources</li> <li><code>VCFAutomationVMPowerManagement</code> - For VM power management (automatically included in CCI resource overview for VMs)</li> </ul>"},{"location":"plugins/vcf-automation/frontend/install/#entity-type-mappings","title":"Entity Type Mappings","text":"<ul> <li>CCI.Supervisor.Namespace \u2192 Uses CCI Namespace components</li> <li>CCI.Supervisor.Resource \u2192 Uses CCI Resource components  </li> <li>Cloud.vSphere.Machine \u2192 Uses vSphere VM components</li> <li>Other types \u2192 Uses generic resource components</li> </ul>"},{"location":"plugins/vcf-automation/frontend/install/#vm-power-management","title":"VM Power Management","text":"<p>For VirtualMachine components in all-apps organizations, the plugin provides power management capabilities:</p>"},{"location":"plugins/vcf-automation/frontend/install/#features","title":"Features","text":"<ul> <li>Power State Display: Shows current VM power state (PoweredOn/PoweredOff)</li> <li>Power Actions: Power On/Off buttons based on current state  </li> <li>Permission Control: Requires <code>vcf-automation.vm-power-management.run</code> permission (defined in vcf-automation-common)</li> <li>Confirmation Dialogs: Confirms actions before execution</li> <li>Support for Both VM Types:</li> <li>Deployment-managed VMs: Uses deployment API to check action validity and execute</li> <li>Standalone VMs: Uses Kubernetes API to check status and update power state</li> </ul>"},{"location":"plugins/vcf-automation/frontend/install/#permissions","title":"Permissions","text":"<p>Add the following permission to your permission policy:</p> <pre><code>import { vmPowerManagementPermission } from '@terasky/backstage-plugin-vcf-automation-common';\n\n// In your permission policy:\n{\n  permission: vmPowerManagementPermission,\n  result: AuthorizeResult.ALLOW, // or implement conditional logic as needed\n}\n</code></pre> <p>The permission is defined in the <code>vcf-automation-common</code> plugin and automatically registered with the permission system.</p>"},{"location":"plugins/vcf-automation/frontend/install/#usage","title":"Usage","text":"<p>The power management component is automatically included in <code>VCFAutomationCCIResourceOverview</code> for VirtualMachine entities in all-apps organizations. No additional configuration is required.</p>"},{"location":"plugins/vcf-automation/frontend/install/#new-frontend-system-support-alpha","title":"New Frontend System Support (Alpha)","text":"<p>The plugin now supports the new frontend system available in the <code>/alpha</code> export. To use this:</p> <pre><code>import { createApp } from '@backstage/frontend-defaults';\nimport { vcfAutomationPlugin } from '@terasky/backstage-plugin-vcf-automation/alpha';\n\nexport default createApp({\n  features: [\n    ...\n    vcfAutomationPlugin,\n    ...\n  ],\n});\n</code></pre> <p>This replaces the need for manual route configuration in <code>EntityPage.tsx</code> and other files. The plugin will be automatically integrated into the appropriate entity pages.</p>"},{"location":"plugins/vcf-automation/frontend/install/#whats-next","title":"What's Next?","text":"<ul> <li>Configure the plugin</li> <li>Learn about the plugin's features</li> </ul>"},{"location":"plugins/vcf-automation/ingestor/about/","title":"VCF Automation Ingestor Plugin","text":""},{"location":"plugins/vcf-automation/ingestor/about/#overview","title":"Overview","text":"<p>The VCF Automation Ingestor plugin ingests VCF Automation deployments into the Backstage catalog. It automatically creates and maintains various entity types based on VCF Automation resources.</p>"},{"location":"plugins/vcf-automation/ingestor/about/#features","title":"Features","text":""},{"location":"plugins/vcf-automation/ingestor/about/#systems-integration","title":"Systems Integration","text":"<ul> <li>Creates system entities from VCF Automation deployments</li> <li>Maintains deployment metadata and relationships</li> <li>Tracks deployment ownership and domain information</li> </ul>"},{"location":"plugins/vcf-automation/ingestor/about/#component-management","title":"Component Management","text":"<ul> <li>Creates component entities from VSphere Machine resources</li> <li>Maintains VM configurations and relationships</li> <li>Tracks system dependencies</li> </ul>"},{"location":"plugins/vcf-automation/ingestor/about/#resource-processing","title":"Resource Processing","text":"<ul> <li>Creates resource entities from VCF Automation resources</li> <li>Maintains resource metadata and relationships</li> <li>Tracks dependencies between resources</li> </ul>"},{"location":"plugins/vcf-automation/ingestor/about/#domain-integration","title":"Domain Integration","text":"<ul> <li>Creates domain entities from VCF Automation projects</li> <li>Maintains project ownership information</li> <li>Manages project relationships</li> </ul>"},{"location":"plugins/vcf-automation/ingestor/about/#authentication","title":"Authentication","text":"<ul> <li>Bearer token authentication with VCF Automation API</li> <li>Automatic token refresh handling</li> <li>Secure credential management</li> </ul>"},{"location":"plugins/vcf-automation/ingestor/about/#entity-types","title":"Entity Types","text":""},{"location":"plugins/vcf-automation/ingestor/about/#systems","title":"Systems","text":"<p>Systems are created from VCF Automation deployments with the following properties: - <code>name</code>: The deployment ID - <code>owner</code>: The deployment owner in the format <code>{ownerType}:{ownedBy}</code> - <code>domain</code>: The project ID  </p>"},{"location":"plugins/vcf-automation/ingestor/about/#components","title":"Components","text":"<p>Components are created from VCF Automation resources of type <code>Cloud.vSphere.Machine</code> with: - <code>title</code>: The resource name - <code>name</code>: The resource ID - <code>type</code>: The resource type (<code>Cloud.vSphere.Machine</code>) - <code>owner</code>: The deployment owner - <code>system</code>: The parent deployment - <code>lifecycle</code>: Set to 'production' - <code>dependsOn</code>: List of dependent resources  </p>"},{"location":"plugins/vcf-automation/ingestor/about/#resources","title":"Resources","text":"<p>Resources are created from all other VCF Automation resource types with: - <code>title</code>: The resource name - <code>name</code>: The resource ID - <code>type</code>: The resource type - <code>owner</code>: The deployment owner - <code>system</code>: The parent deployment ID - <code>dependsOn</code>: List of dependent resource IDs  </p>"},{"location":"plugins/vcf-automation/ingestor/about/#domains","title":"Domains","text":"<p>Domains are created from VCF Automation projects with: - <code>name</code>: The project ID - <code>owner</code>: The project owner  </p>"},{"location":"plugins/vcf-automation/ingestor/about/#links","title":"Links","text":"<ul> <li>Installation Guide</li> <li>Configuration Guide</li> </ul>"},{"location":"plugins/vcf-automation/ingestor/configure/","title":"Configuring the VCF Automation Ingestor Plugin","text":"<p>This guide covers the configuration options available for the VCF Automation Ingestor plugin.</p>"},{"location":"plugins/vcf-automation/ingestor/configure/#simple-configuration","title":"Simple Configuration","text":"<p>For a single VCF Automation instance you can provide config as follows:</p> <p>Add the following to your <code>app-config.yaml</code>:</p> <pre><code>vcfAutomation:\n  name: my-vcf-01\n  majorVersion: 8 # 9 is also supported\n  baseUrl: 'https://your-vcf-automation-instance'\n  orgName: my-org # This is needed only in VCFA 9 and above\n  organizationType: 'all-apps' # Options: 'vm-apps' (default) or 'all-apps' for VCF 9 organization types\n  authentication:\n    username: 'your-username'\n    password: 'your-password'\n    domain: 'your-domain' # This is needed only in Aria Automation 8.x\n</code></pre>"},{"location":"plugins/vcf-automation/ingestor/configure/#multi-instance-config","title":"Multi Instance Config","text":"<p>The plugin does support multi instance config in the following format:</p> <pre><code>vcfAutomation:\n  instances:\n  - name: my-vcf-01\n    baseUrl: 'https://your-vcf-automation-instance'\n    majorVersion: 9\n    orgName: my-org # This is needed only in VCFA 9 and above\n    organizationType: 'all-apps' # Options: 'vm-apps' (default) or 'all-apps' for VCF 9 organization types\n    authentication:\n      username: 'your-username'\n      password: 'your-password'\n      domain: 'your-domain' # This is needed only in Aria Automation 8.x\n  - name: my-vcf-02\n    baseUrl: 'https://your-vcf-02-automation-instance'\n    majorVersion: 8\n    authentication:\n      username: 'your-username'\n      password: 'your-password'\n      domain: 'your-domain' # This is needed only in Aria Automation 8.x\n</code></pre>"},{"location":"plugins/vcf-automation/ingestor/configure/#authentication","title":"Authentication","text":"<p>The plugin uses bearer token authentication with the VCF Automation API. It automatically handles token refresh when needed. The token is obtained by making a POST request to <code>/csp/gateway/am/api/login</code> with the configured credentials.</p>"},{"location":"plugins/vcf-automation/ingestor/configure/#refresh-schedule","title":"Refresh Schedule","text":"<p>The plugin refreshes the entities every 30 minutes by default. Each refresh: 1. Authenticates with the VCF Automation API 2. Fetches all deployments using pagination 3. For all-apps organization type, fetches detailed resource data for CCI resources 4. Transforms the deployments and their resources into Backstage entities 5. Generates appropriate external links to VCF Automation UI based on organization type:    - vm-apps (classic): <code>/automation/#/consume/deployment/{id}</code>    - all-apps: <code>/automation/#/build-and-deploy/all-resources/deployments/{id}</code> 6. Creates proper entity relationships:    - CCI.Supervisor.Resource entities are marked as <code>subcomponentOf</code> their parent CCI.Supervisor.Namespace    - Dependencies are tracked using <code>dependsOn</code> relationships    - Entity references use correct types (Component vs Resource) 7. Updates the Backstage catalog</p>"},{"location":"plugins/vcf-automation/ingestor/configure/#entity-types-and-mappings","title":"Entity Types and Mappings","text":"<p>The ingestor creates different Backstage entity types based on the VCF resource type:</p>"},{"location":"plugins/vcf-automation/ingestor/configure/#domain-entities-projects","title":"Domain Entities (Projects)","text":"<ul> <li>VCF Projects \u2192 Backstage Domain</li> <li>Contains project metadata (administrators, zones, constraints, etc.)</li> <li>Supports both vm-apps and all-apps project structures</li> <li>External links point to project-filtered deployment views</li> </ul>"},{"location":"plugins/vcf-automation/ingestor/configure/#system-entities-deployments-standalone-resources","title":"System Entities (Deployments &amp; Standalone Resources)","text":"<ul> <li>VCF Deployments \u2192 Backstage System</li> <li>Contains deployment metadata (status, cost, ownership, etc.)</li> <li>External links point to specific deployment views</li> <li>Part of parent Project domain</li> <li>Standalone Resources Container \u2192 Backstage System (for all-apps only)</li> <li>Named <code>{project-name}-standalone-resources</code> with ID <code>{project-id}-standalone-resources</code></li> <li>Created only when a project has standalone supervisor resources</li> <li>Contains all standalone CCI supervisor resources for that project</li> <li>Part of parent Project domain</li> </ul>"},{"location":"plugins/vcf-automation/ingestor/configure/#component-entities","title":"Component Entities","text":"<ul> <li>Cloud.vSphere.Machine \u2192 Backstage Component (type: <code>Cloud.vSphere.Machine</code>)</li> <li>CCI.Supervisor.Namespace \u2192 Backstage Component (type: <code>CCI.Supervisor.Namespace</code>)</li> <li>CCI.Supervisor.Resource \u2192 Backstage Component (type: <code>CCI.Supervisor.Resource</code>)</li> </ul>"},{"location":"plugins/vcf-automation/ingestor/configure/#resource-entities-generic-resources","title":"Resource Entities (Generic Resources)","text":"<ul> <li>All other resource types \u2192 Backstage Resource</li> </ul>"},{"location":"plugins/vcf-automation/ingestor/configure/#cci-resource-support","title":"CCI Resource Support","text":"<p>For all-apps organization types, the ingestor provides enhanced support for Cloud Compute Infrastructure (CCI) resources:</p>"},{"location":"plugins/vcf-automation/ingestor/configure/#ccisupervisornamespace","title":"CCI.Supervisor.Namespace","text":"<ul> <li>Created as Component entities</li> <li>Two sources:</li> <li>Deployment-managed: From deployment resource details</li> <li>Direct ingestion: From <code>/cci/kubernetes/apis/infrastructure.cci.vmware.com/v1alpha2/supervisornamespaces</code> API</li> <li>Contains rich namespace metadata:</li> <li>VM classes and their limits</li> <li>Storage classes and quotas  </li> <li>Zone information</li> <li>Status conditions</li> <li>Namespace endpoint URLs</li> <li>Project Association: Linked to project domains via <code>infrastructure.cci.vmware.com/project-id</code> annotation</li> <li>Hierarchy: Part of <code>{project-id}-standalone-resources</code> system (for standalone namespaces)</li> <li>Annotations include:</li> <li><code>terasky.backstage.io/vcf-automation-cci-namespace-endpoint</code></li> <li><code>terasky.backstage.io/vcf-automation-cci-namespace-phase</code></li> <li><code>terasky.backstage.io/vcf-automation-supervisor-namespace-data</code> (for direct ingestion)</li> <li><code>terasky.backstage.io/vcf-automation-resource-origin</code> ('SUPERVISOR_NAMESPACE' for standalone)</li> </ul>"},{"location":"plugins/vcf-automation/ingestor/configure/#ccisupervisorresource","title":"CCI.Supervisor.Resource","text":"<ul> <li>Created as Component entities</li> <li>Complex Subcomponent Relationships:</li> <li>Deployment-managed: <ul> <li>Standard: <code>subcomponentOf</code> their parent CCI.Supervisor.Namespace</li> <li>Cluster VMs: VirtualMachines with <code>cluster.x-k8s.io/cluster-name</code> label become <code>subcomponentOf</code> the Cluster component</li> </ul> </li> <li>Standalone: <ul> <li>Standard: <code>subcomponentOf</code> their matching CCI.Supervisor.Namespace (ingested separately)</li> <li>Cluster VMs: VirtualMachines with <code>capv.vmware.com/cluster.name</code> label become <code>subcomponentOf</code> the Cluster component</li> </ul> </li> <li>Contains complete Kubernetes resource data:</li> <li>Manifest: Original resource template/specification</li> <li>Object: Live Kubernetes object with current status</li> <li>Context: CCI context information</li> <li>Dependencies: Tracked via <code>dependsOn</code> relationships</li> <li>Smart External Links: Based on resource kind:</li> <li>VirtualMachine: Links to VM service view</li> <li>Service: Links to network service view  </li> <li>Cluster: Links to TKG service view</li> <li>Other types: No external link (still ingested)</li> <li>Smart Tagging: All CCI resources from all-apps organizations get tagged with <code>kind:&lt;RESOURCE_KIND&gt;</code> (e.g., <code>kind:virtualmachine</code>, <code>kind:service</code>, <code>kind:cluster</code>)</li> <li>Remote Console Links: VirtualMachine components get remote console links with format <code>/automation/#/machines/remote-console/&lt;PROJECT&gt;/&lt;NAMESPACE&gt;/&lt;VM&gt;</code></li> <li>Annotations include:</li> <li><code>terasky.backstage.io/vcf-automation-cci-resource-manifest</code> (JSON)</li> <li><code>terasky.backstage.io/vcf-automation-cci-resource-object</code> (JSON)</li> <li><code>terasky.backstage.io/vcf-automation-cci-resource-context</code></li> <li><code>terasky.backstage.io/vcf-automation-resource-origin</code> ('DEPLOYED', 'STANDALONE', or 'SUPERVISOR_NAMESPACE')</li> </ul>"},{"location":"plugins/vcf-automation/ingestor/configure/#api-endpoint-usage","title":"API Endpoint Usage","text":"<p>The ingestor uses different API endpoints based on organization type:</p>"},{"location":"plugins/vcf-automation/ingestor/configure/#vm-apps-classic","title":"vm-apps (Classic)","text":"<ul> <li>Projects: <code>/iaas/api/projects/{id}</code></li> <li>Deployments: Standard deployment API</li> </ul>"},{"location":"plugins/vcf-automation/ingestor/configure/#all-apps","title":"all-apps","text":"<ul> <li>Projects: <code>/project-service/api/projects/{id}</code></li> <li>Deployments: Standard deployment API</li> <li>Resource Details: <code>/deployment/api/deployments/{id}/resources</code> (for CCI resources)</li> <li>Standalone Supervisor Resources: <code>/deployment/api/supervisor-resources</code> (paginated)</li> <li>Supervisor Namespaces: <code>/cci/kubernetes/apis/infrastructure.cci.vmware.com/v1alpha2/supervisornamespaces</code> (standalone)</li> <li>Projects: <code>/project-service/api/projects</code> (for project name resolution)  </li> </ul>"},{"location":"plugins/vcf-automation/ingestor/configure/#links","title":"Links","text":"<ul> <li>Installation Guide</li> <li>About the plugin</li> </ul>"},{"location":"plugins/vcf-automation/ingestor/install/","title":"Installing the VCF Automation Ingestor Plugin","text":"<p>This guide will help you install and set up the VCF Automation Ingestor plugin in your Backstage instance.</p>"},{"location":"plugins/vcf-automation/ingestor/install/#installation-steps","title":"Installation Steps","text":""},{"location":"plugins/vcf-automation/ingestor/install/#1-install-the-plugin","title":"1. Install the Plugin","text":"<p>Install the plugin package in your Backstage backend:</p> <pre><code>yarn add --cwd packages/backend @terasky/backstage-plugin-vcf-automation-ingestor\n</code></pre>"},{"location":"plugins/vcf-automation/ingestor/install/#2-register-the-plugin","title":"2. Register the Plugin","text":"<p>Import and register the plugin in your <code>packages/backend/index.ts</code>:</p> <pre><code>backend.add(import('@terasky/backstage-plugin-vcf-automation-ingestor'));\n</code></pre>"},{"location":"plugins/vcf-automation/ingestor/install/#whats-next","title":"What's Next?","text":"<ul> <li>Configure the plugin</li> <li>Learn about the plugin's features</li> </ul>"},{"location":"plugins/vcf-operations/overview/","title":"VCF Operations Plugins","text":"<p>The VCF Operations plugins provide comprehensive observability and metrics monitoring capabilities for VMware Cloud Foundation (VCF) environments within Backstage. These plugins enable teams to monitor infrastructure performance, analyze resource utilization, and visualize operational metrics through an intuitive interface integrated with VCF Operations (vRealize Operations).</p>"},{"location":"plugins/vcf-operations/overview/#features","title":"Features","text":"<ul> <li>Performance Metrics Monitoring: Real-time visualization of CPU, memory, disk, and network metrics</li> <li>Categorized Metrics: Organized metric selection with categories for CPU, Memory, Storage, Network, System Health, and Alerts</li> <li>Multi-Resource Support: Support for VMs (standalone and non-standalone), Supervisor Namespaces, projects, and Kubernetes clusters</li> <li>Interactive Charts: Time-series charts with customizable time ranges and aggregation options</li> <li>Automatic Resource Detection: Intelligent detection of VCF Operations resources based on entity metadata</li> <li>Auto-refresh Capabilities: Configurable automatic refresh with manual refresh options</li> <li>Multi-Instance Support: Support for multiple VCF Operations instances with instance selection</li> <li>Permission Controls: Access control integration with Backstage permissions</li> <li>Dark Mode Support: Full compatibility with light and dark themes</li> <li>Collapsible Categories: Organized metric categories with expand/collapse functionality</li> <li>Resource-Specific Metrics: Tailored metric sets for different resource types (VMs, projects, clusters, namespaces)</li> </ul>"},{"location":"plugins/vcf-operations/overview/#architecture","title":"Architecture","text":"<p>The VCF Operations plugin suite consists of three complementary packages:</p>"},{"location":"plugins/vcf-operations/overview/#frontend-plugin-vcf-operations","title":"Frontend Plugin (<code>vcf-operations</code>)","text":"<ul> <li>VCFOperationsExplorer Component: Main metrics visualization interface</li> <li>Categorized Metrics Selection: Left panel with organized metric categories</li> <li>Interactive Charts: Right panel with scrollable time-series charts</li> <li>Smart Controls: Top control bar with time range, aggregation, and refresh options</li> </ul>"},{"location":"plugins/vcf-operations/overview/#backend-plugin-vcf-operations-backend","title":"Backend Plugin (<code>vcf-operations-backend</code>)","text":"<ul> <li>VCF Operations API Integration: Direct communication with VCF Operations APIs</li> <li>Authentication Management: Token-based authentication with automatic refresh</li> <li>Resource Discovery: Intelligent resource lookup and mapping</li> <li>Metrics Data Processing: Time-series data retrieval and transformation</li> <li>VCF 9 Support: Compatible with VCF Operations v9 (any-apps tenants only)</li> </ul>"},{"location":"plugins/vcf-operations/overview/#common-library-vcf-operations-common","title":"Common Library (<code>vcf-operations-common</code>)","text":"<ul> <li>Permission Definitions: Shared permission model for access control</li> <li>Type Definitions: Common interfaces and types across plugins</li> </ul>"},{"location":"plugins/vcf-operations/overview/#screenshots","title":"Screenshots","text":""},{"location":"plugins/vcf-operations/overview/#metrics-explorer-interface","title":"Metrics Explorer Interface","text":"<p>The main interface features: - Top Control Bar: Time range, aggregation, and refresh controls - Left Panel: Categorized metrics with select/deselect capabilities - Right Panel: Interactive charts with real-time data visualization</p>"},{"location":"plugins/vcf-operations/overview/#category-based-metric-selection","title":"Category-Based Metric Selection","text":"<p>Features organized metric categories with collapsible sections (all collapsed by default): - CPU Metrics: Usage %, MHz, Ready time, Co-Stop, Demand, Entitlement - Memory Metrics: Usage %, Consumed KB, Contention, Swap rates, Workload - Storage Metrics: Disk Usage %, Datastore Usage %, Latency metrics - Network Metrics: Usage KBps, Transmit/Receive rates, Dropped packets - System Health: Health scores, badges (compliance, efficiency, health, risk, workload), availability - Alerts &amp; Monitoring: Alert counts by severity (critical, warning, info, immediate) - Capacity Analytics: Remaining capacity %, time remaining, recommended sizes (clusters only) - Cost Metrics: MTD costs, metering, billing information (projects only) - Power &amp; Environment: Power usage (VMs only)</p>"},{"location":"plugins/vcf-operations/overview/#real-time-performance-charts","title":"Real-Time Performance Charts","text":"<p>Interactive time-series visualization with: - Configurable time ranges (1 hour to 30 days) - Multiple aggregation options (Average, Min, Max, Sum, Latest) - Responsive charts with zoom and tooltip capabilities - Automatic data refresh options</p>"},{"location":"plugins/vcf-operations/overview/#supported-resource-types","title":"Supported Resource Types","text":""},{"location":"plugins/vcf-operations/overview/#virtual-machines","title":"Virtual Machines","text":"<ul> <li>Standalone VMs: Resources with <code>kind:virtualmachine</code> and <code>standalone-resource</code> tags</li> <li>Non-Standalone VMs: Resources with <code>kind:virtualmachine</code> tag (extracts VM name from console links)</li> <li>Metrics: CPU, memory, storage, network, system health, alerts, power consumption</li> <li>Query Method: Direct API search by VM name with VMWARE adapter filter</li> </ul>"},{"location":"plugins/vcf-operations/overview/#supervisor-namespaces","title":"Supervisor Namespaces","text":"<ul> <li>CCI Namespaces: Components with <code>spec.type: \"CCI.Supervisor.Namespace\"</code></li> <li>Alternative Detection: Resources with <code>terasky.backstage.io/vcf-automation-cci-namespace-endpoint</code> annotation</li> <li>Metrics: Health badges, hardware config, CPU/memory usage, pod/VM counts, alerts</li> <li>Query Method: Property-based search or URN-based lookup</li> </ul>"},{"location":"plugins/vcf-operations/overview/#vcf-automation-projects","title":"VCF Automation Projects","text":"<ul> <li>Project Domains: Domain entities with <code>spec.type: \"vcf-automation-project\"</code> </li> <li>Metrics: Health badges, cost tracking (MTD costs, metering), resource usage, alerts</li> <li>Query Method: POST query to VCF Operations with ProjectAssignment search   <pre><code>{\n  \"name\": [\"projectName\"],\n  \"adapterKind\": [\"VCFAutomation\"], \n  \"resourceKind\": [\"ProjectAssignment\"]\n}\n</code></pre></li> </ul>"},{"location":"plugins/vcf-operations/overview/#kubernetes-clusters","title":"Kubernetes Clusters","text":"<ul> <li>Cluster Components: Resources with <code>kind:cluster</code> tag</li> <li>Standalone Support: Removes \"(Standalone)\" suffix if <code>standalone-resource</code> tag present</li> <li>Metrics: Health badges, capacity analytics, CPU/memory workload, VM summaries</li> <li>Query Method: POST query to VCF Operations with ResourcePool search   <pre><code>{\n  \"name\": [\"clusterName\"],\n  \"adapterKind\": [\"VMWARE\"],\n  \"resourceKind\": [\"ResourcePool\"] \n}\n</code></pre></li> </ul>"},{"location":"plugins/vcf-operations/overview/#planned-support","title":"Planned Support","text":"<ul> <li>VCF Automation 8 based entities Support: Legacy VCF Operations v8 compatibility (in development)</li> <li>VM-Apps Tenants: VCF 9 vm-apps tenant support (in development)</li> <li>Deployments: VCF Automation Deployments support (future enhancement)</li> </ul>"},{"location":"plugins/vcf-operations/overview/#vcf-version-compatibility","title":"VCF Version Compatibility","text":""},{"location":"plugins/vcf-operations/overview/#currently-supported","title":"Currently Supported","text":"<ul> <li>VCF 9: Any-apps tenants only</li> <li>VCF Operations v9: Full API compatibility</li> </ul>"},{"location":"plugins/vcf-operations/overview/#limitations","title":"Limitations","text":"<ul> <li>VCF 8: Not currently supported (in development)</li> <li>VCF 9 VM-Apps Tenants: Not currently supported (in development)</li> </ul> <p>The plugin is specifically designed and tested for VCF 9 environments with any-apps tenant configurations. Support for VCF 8 and VCF 9 vm-apps tenants is being actively developed.</p>"},{"location":"plugins/vcf-operations/overview/#configuration-example","title":"Configuration Example","text":"<pre><code>vcfOperations:\n  instances:\n    - name: vcf-ops-prod\n      baseUrl: 'https://vcf-ops.company.local'\n      majorVersion: 9  # VCF 9 with any-apps tenants\n      relatedVCFAInstances:\n        - vcfa-instance-name\n      authentication:\n        username: 'admin'\n        password: 'VMware123!VMware123!'\n    - name: vcf-ops-dev\n      baseUrl: 'https://vcf-ops-dev.company.local'\n      majorVersion: 9  # VCF 9 with any-apps tenants\n      authentication:\n        username: 'monitoring'\n        password: 'SecurePassword123!'\n</code></pre>"},{"location":"plugins/vcf-operations/overview/#component-usage","title":"Component Usage","text":""},{"location":"plugins/vcf-operations/overview/#as-a-tab-component","title":"As a Tab Component","text":"<p>Add the VCF Operations Explorer as a tab to entity pages:</p> <pre><code>import { VCFOperationsExplorerComponent } from '@terasky/backstage-plugin-vcf-operations';\n\n// In your entity page\n    &lt;EntityLayout.Route path=\"/vcf-automation\" title=\"VCF Automation\"&gt;\n      &lt;VCFAutomationCCIResourceDetails /&gt;\n    &lt;/EntityLayout.Route&gt;\n</code></pre>"},{"location":"plugins/vcf-operations/overview/#key-benefits","title":"Key Benefits","text":"<ol> <li>Unified Observability: Single interface for monitoring VCF infrastructure metrics</li> <li>Context-Aware: Automatically detects and displays relevant metrics for each entity</li> <li>User-Friendly: Intuitive categorized interface with smart defaults</li> <li>Flexible: Supports multiple time ranges, aggregation methods, and refresh options</li> <li>Scalable: Multi-instance support for complex VCF environments</li> <li>Integrated: Seamless integration with Backstage catalog and permission systems</li> </ol>"},{"location":"plugins/vcf-operations/overview/#mcp-actions-integration","title":"MCP Actions Integration","text":"<p>The VCF Operations plugin provides MCP (Model Control Protocol) actions for interacting with VCF Operations resources. To enable these actions:</p> <ol> <li> <p>First, ensure you have the MCP actions backend plugin installed and configured. See the MCP Actions Backend Plugin documentation for setup instructions.</p> </li> <li> <p>Add the plugin to your actions configuration in <code>app-config.yaml</code>:</p> </li> </ol> <pre><code>backend:\n  actions:\n    pluginSources:\n      - 'catalog'\n      - 'vcf-operations'\n      # ... other action sources\n</code></pre>"},{"location":"plugins/vcf-operations/overview/#available-mcp-actions","title":"Available MCP Actions","text":"<p>The plugin provides the following MCP actions:</p> <ul> <li><code>get_vcf_operations_instances</code>: Get configured VCF Operations instances</li> <li>Input: None</li> <li> <p>Output: List of instances with their configurations</p> </li> <li> <p><code>get_vcf_operations_resource_metrics</code>: Get resource metrics</p> </li> <li>Input: Resource ID, metric keys, time range, and optional instance name</li> <li> <p>Output: Time-series metric data</p> </li> <li> <p><code>get_latest_vcf_operations_resource_metrics</code>: Get latest metrics</p> </li> <li>Input: Resource IDs, metric keys, and optional instance name</li> <li> <p>Output: Latest metric values</p> </li> <li> <p><code>get_vcf_operations_resource_details</code>: Get resource details</p> </li> <li>Input: Resource ID and optional instance name</li> <li> <p>Output: Full resource details</p> </li> <li> <p><code>get_available_metrics_from_vcf_operations</code>: Get available metrics</p> </li> <li>Input: Resource ID and optional instance name</li> <li> <p>Output: List of available metrics for the resource</p> </li> <li> <p><code>search_vcf_operations_resources</code>: Search resources</p> </li> <li>Input: Name, adapter kind, resource kind, and optional instance name</li> <li> <p>Output: List of matching resources</p> </li> <li> <p><code>find_vcf_operations_resource_by_name</code>: Find resource by name</p> </li> <li>Input: Resource name, optional type and instance name</li> <li> <p>Output: Resource details if found</p> </li> <li> <p><code>find_vcf_operations_resource_by_property</code>: Find resource by property</p> </li> <li>Input: Property key, value, and optional instance name</li> <li>Output: Resource details if found</li> </ul>"},{"location":"plugins/vcf-operations/overview/#getting-started","title":"Getting Started","text":"<ol> <li>Install the plugins following the installation guides for each component</li> <li>Configure VCF Operations instances in your app-config.yaml</li> <li>Set up permissions to control access to metrics data</li> <li>Configure MCP actions in your app-config.yaml</li> <li>Add the component to your entity pages or create dedicated routes</li> <li>Start monitoring your VCF infrastructure with real-time metrics</li> </ol> <p>The VCF Operations plugins provide a powerful foundation for infrastructure observability within your Backstage portal, enabling teams to make informed decisions based on real-time performance data.</p>"},{"location":"plugins/vcf-operations/backend/about/","title":"VCF Operations Backend Plugin","text":"<p>The VCF Operations Backend plugin provides the server-side functionality for integrating with VMware vRealize Operations (VCF Operations) APIs. It handles authentication, resource discovery, and metrics data retrieval from VCF Operations instances.</p>"},{"location":"plugins/vcf-operations/backend/about/#overview","title":"Overview","text":"<p>The backend plugin acts as a secure proxy between Backstage and VCF Operations, providing:</p> <ul> <li>API Integration: Direct communication with VCF Operations REST APIs</li> <li>Authentication Management: Secure token-based authentication with automatic refresh</li> <li>Resource Discovery: Intelligent resource lookup and mapping capabilities</li> <li>Metrics Processing: Time-series data retrieval and transformation</li> <li>Multi-Instance Support: Management of multiple VCF Operations environments</li> <li>Permission Integration: Backstage permission system integration</li> </ul>"},{"location":"plugins/vcf-operations/backend/about/#key-features","title":"Key Features","text":""},{"location":"plugins/vcf-operations/backend/about/#authentication-security","title":"Authentication &amp; Security","text":"<ul> <li>Token-Based Auth: Secure vRealizeOpsToken authentication</li> <li>Automatic Refresh: Token refresh with 6-hour validity periods</li> <li>Credential Management: Secure handling of VCF Operations credentials</li> <li>Retry Logic: Exponential backoff for failed authentication attempts</li> </ul>"},{"location":"plugins/vcf-operations/backend/about/#resource-discovery","title":"Resource Discovery","text":"<ul> <li>Smart Lookup: Multiple resource discovery strategies</li> <li>VirtualMachine Priority: Prioritizes VM resources in searches</li> <li>Fallback Mechanisms: Multiple search approaches for maximum compatibility</li> <li>Property-Based Search: Advanced property condition filtering</li> </ul>"},{"location":"plugins/vcf-operations/backend/about/#metrics-handling","title":"Metrics Handling","text":"<ul> <li>Time-Series Data: Comprehensive metrics data retrieval</li> <li>Aggregation Support: Multiple rollup types (AVG, MIN, MAX, SUM, LATEST)</li> <li>Interval Management: Dynamic interval calculation based on time ranges</li> <li>Data Transformation: Response format normalization for frontend consumption</li> </ul>"},{"location":"plugins/vcf-operations/backend/about/#api-endpoints","title":"API Endpoints","text":"<p>The backend provides the following REST endpoints:</p>"},{"location":"plugins/vcf-operations/backend/about/#health-check","title":"Health Check","text":"<p><pre><code>GET /api/vcf-operations/health\n</code></pre> Returns the health status of the backend service.</p>"},{"location":"plugins/vcf-operations/backend/about/#instance-management","title":"Instance Management","text":"<p><pre><code>GET /api/vcf-operations/instances\n</code></pre> Returns list of configured VCF Operations instances.</p>"},{"location":"plugins/vcf-operations/backend/about/#resource-discovery_1","title":"Resource Discovery","text":"<p><pre><code>GET /api/vcf-operations/resources/find-by-name?resourceName={name}&amp;instance={instance}\n</code></pre> Find resources by name with VirtualMachine prioritization.</p> <p><pre><code>GET /api/vcf-operations/resources/find-by-property?propertyKey={key}&amp;propertyValue={value}&amp;instance={instance}\n</code></pre> Find resources by property conditions.</p> <p><pre><code>POST /api/vcf-operations/resources/query?instance={instance}\n</code></pre> Advanced resource search with complex query conditions.</p>"},{"location":"plugins/vcf-operations/backend/about/#metrics-retrieval","title":"Metrics Retrieval","text":"<p><pre><code>GET /api/vcf-operations/resources/{resourceId}/metrics?statKeys={keys}&amp;begin={timestamp}&amp;end={timestamp}&amp;rollUpType={type}&amp;instance={instance}\n</code></pre> Get time-series metrics data for a specific resource.</p> <p><pre><code>GET /api/vcf-operations/resources/{resourceId}/available-metrics?instance={instance}\n</code></pre> Get list of available metrics for a resource.</p> <p><pre><code>GET /api/vcf-operations/metrics/latest?resourceIds={ids}&amp;statKeys={keys}&amp;instance={instance}\n</code></pre> Get latest metric values for multiple resources.</p> <p>The VCF Operations Backend plugin provides a robust, secure, and scalable foundation for integrating VCF Operations data into your Backstage environment.</p>"},{"location":"plugins/vcf-operations/backend/configure/","title":"Configuring VCF Operations Backend Plugin","text":"<p>This guide covers how to configure the VCF Operations Backend plugin for your environment.</p>"},{"location":"plugins/vcf-operations/backend/configure/#basic-configuration","title":"Basic Configuration","text":""},{"location":"plugins/vcf-operations/backend/configure/#single-instance-setup","title":"Single Instance Setup","text":"<p>For a single VCF Operations instance, add the following to your <code>app-config.yaml</code>:</p> <pre><code>vcfOperations:\n  instances:\n    - name: production-vcf\n      baseUrl: 'https://vcf-ops.company.com'\n      majorVersion: 9\n      authentication:\n        username: 'backstage-service'\n        password: 'secure-password'\n</code></pre>"},{"location":"plugins/vcf-operations/backend/configure/#multiple-instance-setup","title":"Multiple Instance Setup","text":"<p>For multiple VCF Operations instances:</p> <pre><code>vcfOperations:\n  instances:\n    - name: production-vcf\n      baseUrl: 'https://prod-vcf.company.com'\n      majorVersion: 9\n      relatedVCFAInstances:\n        - prod-vcfa-primary\n        - prod-vcfa-secondary\n      authentication:\n        username: 'prod-monitor'\n        password: 'prod-password'\n    - name: staging-vcf\n      baseUrl: 'https://staging-vcf.company.com'\n      majorVersion: 8\n      authentication:\n        username: 'staging-monitor'\n        password: 'staging-password'\n        domain: 'staging.local'  # Optional domain\n</code></pre>"},{"location":"plugins/vcf-operations/backend/configure/#configuration-parameters","title":"Configuration Parameters","text":""},{"location":"plugins/vcf-operations/backend/configure/#instance-configuration","title":"Instance Configuration","text":"Parameter Type Required Description <code>name</code> string Yes Unique identifier for the VCF Operations instance <code>baseUrl</code> string Yes Full URL to the VCF Operations instance <code>majorVersion</code> number No VCF Operations version (8 or 9). Default: 8 <code>relatedVCFAInstances</code> string[] No* Associated VCF Automation instances <code>authentication</code> object Yes Authentication credentials <p>* Required when multiple instances are configured</p>"},{"location":"plugins/vcf-operations/backend/configure/#authentication-configuration","title":"Authentication Configuration","text":"Parameter Type Required Description <code>username</code> string Yes VCF Operations username <code>password</code> string Yes VCF Operations password <code>domain</code> string No Authentication domain (if required)"},{"location":"plugins/vcf-operations/backend/configure/#advanced-configuration","title":"Advanced Configuration","text":""},{"location":"plugins/vcf-operations/backend/configure/#organization-type-support-vcf-9","title":"Organization Type Support (VCF 9)","text":"<pre><code>vcfOperations:\n  instances:\n    - name: vcf-9-instance\n      baseUrl: 'https://vcf9.company.com'\n      majorVersion: 9\n      authentication:\n        username: 'admin'\n        password: 'password'\n</code></pre>"},{"location":"plugins/vcf-operations/backend/configure/#environment-specific-configuration","title":"Environment-Specific Configuration","text":""},{"location":"plugins/vcf-operations/backend/configure/#development-environment","title":"Development Environment","text":"<pre><code># app-config.local.yaml\nvcfOperations:\n  instances:\n    - name: dev-vcf\n      baseUrl: 'https://dev-vcf.company.com'\n      majorVersion: 9\n      authentication:\n        username: 'dev-user'\n        password: 'dev-password'\n</code></pre>"},{"location":"plugins/vcf-operations/backend/configure/#production-environment","title":"Production Environment","text":"<pre><code># app-config.production.yaml\nvcfOperations:\n  instances:\n    - name: prod-vcf-primary\n      baseUrl: 'https://vcf-prod-01.company.com'\n      majorVersion: 9\n      relatedVCFAInstances:\n        - vcfa-prod-cluster-01\n        - vcfa-prod-cluster-02\n      authentication:\n        username: '${VCF_OPS_USERNAME}'  # Use environment variables\n        password: '${VCF_OPS_PASSWORD}'\n    - name: prod-vcf-secondary\n      baseUrl: 'https://vcf-prod-02.company.com'\n      majorVersion: 9\n      authentication:\n        username: '${VCF_OPS_USERNAME}'\n        password: '${VCF_OPS_PASSWORD}'\n</code></pre>"},{"location":"plugins/vcf-operations/backend/configure/#security-configuration","title":"Security Configuration","text":""},{"location":"plugins/vcf-operations/backend/configure/#using-environment-variables","title":"Using Environment Variables","text":"<p>Store sensitive credentials in environment variables:</p> <pre><code># .env\nVCF_OPS_USERNAME=backstage-service\nVCF_OPS_PASSWORD=super-secure-password\n</code></pre> <pre><code># app-config.yaml\nvcfOperations:\n  instances:\n    - name: production-vcf\n      baseUrl: 'https://vcf-ops.company.com'\n      majorVersion: 9\n      authentication:\n        username: '${VCF_OPS_USERNAME}'\n        password: '${VCF_OPS_PASSWORD}'\n</code></pre>"},{"location":"plugins/vcf-operations/backend/configure/#using-kubernetes-secrets","title":"Using Kubernetes Secrets","text":"<p>For Kubernetes deployments:</p> <pre><code># kubernetes-secrets.yaml\napiVersion: v1\nkind: Secret\nmetadata:\n  name: vcf-operations-credentials\ntype: Opaque\ndata:\n  username: &lt;base64-encoded-username&gt;\n  password: &lt;base64-encoded-password&gt;\n</code></pre> <pre><code># deployment.yaml\nspec:\n  containers:\n    - name: backstage\n      env:\n        - name: VCF_OPS_USERNAME\n          valueFrom:\n            secretKeyRef:\n              name: vcf-operations-credentials\n              key: username\n        - name: VCF_OPS_PASSWORD\n          valueFrom:\n            secretKeyRef:\n              name: vcf-operations-credentials\n              key: password\n</code></pre>"},{"location":"plugins/vcf-operations/backend/configure/#validation-and-testing","title":"Validation and Testing","text":""},{"location":"plugins/vcf-operations/backend/configure/#configuration-validation","title":"Configuration Validation","text":"<p>The plugin validates configuration on startup. Check logs for validation errors:</p> <pre><code>[vcf-operations] VcfOperationsService initialized with 2 instance(s)\n[vcf-operations] Instance 'production-vcf' configured for version 9\n[vcf-operations] Instance 'staging-vcf' configured for version 8\n</code></pre>"},{"location":"plugins/vcf-operations/backend/configure/#testing-connectivity","title":"Testing Connectivity","text":"<p>Test VCF Operations connectivity:</p> <pre><code># Health check\ncurl http://localhost:7007/api/vcf-operations/health\n\n# Instance list\ncurl http://localhost:7007/api/vcf-operations/instances\n</code></pre> <p>The VCF Operations Backend plugin provides flexible configuration options to integrate with various VCF Operations environments while maintaining security and performance best practices.</p>"},{"location":"plugins/vcf-operations/backend/install/","title":"Installing VCF Operations Backend Plugin","text":"<p>This guide walks you through installing the VCF Operations Backend plugin in your Backstage application.</p>"},{"location":"plugins/vcf-operations/backend/install/#installation-steps","title":"Installation Steps","text":""},{"location":"plugins/vcf-operations/backend/install/#1-install-the-package","title":"1. Install the Package","text":"<p>Add the backend plugin to your Backstage application:</p> <pre><code># From your Backstage root directory\nyarn --cwd packages/backend add @terasky/backstage-plugin-vcf-operations-backend\n</code></pre>"},{"location":"plugins/vcf-operations/backend/install/#2-register-the-plugin","title":"2. Register the Plugin","text":"<p>Add the plugin to your backend in <code>packages/backend/src/index.ts</code>:</p> <pre><code>import { createBackend } from '@backstage/backend-defaults';\n\nconst backend = createBackend();\n\n// ... other plugin registrations\n\n// Add VCF Operations backend plugin\nbackend.add(import('@terasky/backstage-plugin-vcf-operations-backend'));\n\nbackend.start();\n</code></pre>"},{"location":"plugins/vcf-operations/backend/install/#verification","title":"Verification","text":""},{"location":"plugins/vcf-operations/backend/install/#1-start-the-backend","title":"1. Start the Backend","text":"<p>Start your Backstage backend to ensure the plugin loads correctly:</p> <pre><code>yarn dev\n</code></pre>"},{"location":"plugins/vcf-operations/backend/install/#2-check-health-endpoint","title":"2. Check Health Endpoint","text":"<p>Verify the plugin is running by checking the health endpoint:</p> <pre><code>curl http://localhost:7007/api/vcf-operations/health\n</code></pre> <p>Expected response: <pre><code>{\n  \"status\": \"ok\"\n}\n</code></pre></p>"},{"location":"plugins/vcf-operations/backend/install/#3-check-logs","title":"3. Check Logs","text":"<p>Look for VCF Operations plugin initialization in your backend logs:</p> <pre><code>[vcf-operations] VcfOperationsService initialized with 1 instance(s)\n[vcf-operations] Permissions registered: vcf-operations.metrics.view\n</code></pre>"},{"location":"plugins/vcf-operations/backend/install/#next-steps","title":"Next Steps","text":"<p>After successful installation:</p> <ol> <li>Configure the Backend - Set up VCF Operations instances and authentication</li> <li>Install Frontend Plugin - Add the frontend components for metric visualization</li> <li>Configure Permissions - Set up access control for VCF Operations data</li> <li>Test Integration - Verify end-to-end functionality with your VCF Operations environment</li> </ol> <p>The VCF Operations Backend plugin provides the foundation for VCF Operations integration - once installed and configured, you can add the frontend components to start visualizing your infrastructure metrics.</p>"},{"location":"plugins/vcf-operations/frontend/about/","title":"VCF Operations Frontend Plugin","text":"<p>The VCF Operations Frontend plugin provides a comprehensive metrics visualization interface for monitoring VMware VCF Operations data within Backstage. It offers an intuitive, feature-rich dashboard for analyzing infrastructure performance and resource utilization.</p>"},{"location":"plugins/vcf-operations/frontend/about/#overview","title":"Overview","text":"<p>The frontend plugin delivers a powerful metrics exploration experience with:</p> <ul> <li>Interactive Metrics Dashboard: Real-time visualization of infrastructure metrics</li> <li>Categorized Metric Selection: Organized categories for easy metric discovery</li> <li>Flexible Time Controls: Customizable time ranges and aggregation options</li> <li>Automatic Resource Detection: Intelligent mapping of Backstage entities to VCF Operations resources</li> <li>Responsive Design: Optimized for both desktop and mobile viewing</li> <li>Theme Support: Full compatibility with light and dark themes</li> </ul>"},{"location":"plugins/vcf-operations/frontend/about/#core-components","title":"Core Components","text":""},{"location":"plugins/vcf-operations/frontend/about/#vcfoperationsexplorer","title":"VCFOperationsExplorer","text":"<p>The main component providing the complete metrics exploration interface:</p> <pre><code>import { VCFOperationsExplorerComponent } from '@terasky/backstage-plugin-vcf-operations';\n\n&lt;VCFOperationsExplorerComponent /&gt;\n</code></pre>"},{"location":"plugins/vcf-operations/frontend/about/#user-interface-layout","title":"User Interface Layout","text":""},{"location":"plugins/vcf-operations/frontend/about/#top-control-bar","title":"Top Control Bar","text":"<p>The control bar provides essential configuration options:</p> <ul> <li>Instance Selection: Choose between multiple VCF Operations instances</li> <li>Time Range: Select from predefined ranges or custom time periods</li> <li>Aggregation Method: Choose data aggregation (Average, Min, Max, Sum, Latest)</li> <li>Auto-refresh: Toggle automatic data refresh every 30 seconds</li> <li>Manual Refresh: On-demand data refresh button</li> </ul>"},{"location":"plugins/vcf-operations/frontend/about/#left-panel-metrics-selection","title":"Left Panel - Metrics Selection","text":"<p>Organized metric categories with intelligent selection controls:</p>"},{"location":"plugins/vcf-operations/frontend/about/#category-structure","title":"Category Structure","text":"<ul> <li>CPU Metrics: Usage percentage, MHz, ready time, co-stop</li> <li>Memory Metrics: Usage percentage, consumed KB</li> <li>Storage Metrics: Disk usage, datastore utilization</li> <li>Network Metrics: Network usage in KBps</li> <li>System Health: Health scores, badges, availability</li> <li>Alerts &amp; Monitoring: Alert counts by severity level</li> <li>Power &amp; Environment: Power consumption metrics</li> </ul>"},{"location":"plugins/vcf-operations/frontend/about/#selection-features","title":"Selection Features","text":"<ul> <li>Category Checkboxes: Select/deselect entire metric categories</li> <li>Individual Metric Toggles: Fine-grained metric selection</li> <li>Select All/Clear All: Bulk selection controls</li> <li>Visual Indicators: Selection counts and progress indicators</li> <li>Indeterminate States: Category checkboxes show partial selection</li> </ul>"},{"location":"plugins/vcf-operations/frontend/about/#right-panel-chart-visualization","title":"Right Panel - Chart Visualization","text":"<p>Dynamic chart area with responsive layout:</p> <ul> <li>Time-Series Charts: Interactive line charts with zoom and pan</li> <li>Multiple Metrics: Simultaneous display of selected metrics</li> <li>Chart Controls: Individual chart legends and tooltips</li> <li>Responsive Layout: Adaptive sizing for different screen sizes</li> <li>Scroll Support: Vertical scrolling for multiple charts</li> </ul>"},{"location":"plugins/vcf-operations/frontend/about/#metric-categories","title":"Metric Categories","text":""},{"location":"plugins/vcf-operations/frontend/about/#cpu-metrics","title":"CPU Metrics","text":"<p>Monitor processor performance and utilization:</p> <ul> <li>CPU Usage (%): Percentage of CPU utilization</li> <li>CPU Usage (MHz): CPU usage in megahertz</li> <li>CPU Ready (ms): Time spent waiting for CPU resources</li> <li>CPU Co-Stop (ms): Time spent in co-scheduling delays</li> </ul>"},{"location":"plugins/vcf-operations/frontend/about/#memory-metrics","title":"Memory Metrics","text":"<p>Track memory utilization and consumption:</p> <ul> <li>Memory Usage (%): Percentage of memory utilization</li> <li>Memory Consumed (KB): Actual memory consumption in kilobytes</li> </ul>"},{"location":"plugins/vcf-operations/frontend/about/#storage-metrics","title":"Storage Metrics","text":"<p>Monitor storage performance and capacity:</p> <ul> <li>Disk Usage (%): Disk utilization percentage</li> <li>Datastore Usage (%): Datastore capacity utilization</li> </ul>"},{"location":"plugins/vcf-operations/frontend/about/#network-metrics","title":"Network Metrics","text":"<p>Analyze network performance and throughput:</p> <ul> <li>Network Usage (KBps): Network throughput in kilobytes per second</li> </ul>"},{"location":"plugins/vcf-operations/frontend/about/#system-health-metrics","title":"System Health Metrics","text":"<p>Overall system health and status indicators:</p> <ul> <li>Health Score: Overall system health rating</li> <li>Health Badge: Health status badge</li> <li>Efficiency Badge: System efficiency indicator</li> <li>Risk Badge: Risk assessment indicator</li> <li>Compliance Badge: Compliance status</li> <li>Availability: System availability percentage</li> </ul>"},{"location":"plugins/vcf-operations/frontend/about/#alerts-monitoring","title":"Alerts &amp; Monitoring","text":"<p>Alert and notification metrics:</p> <ul> <li>Total Alerts: Total number of active alerts</li> <li>Critical Alerts: Number of critical severity alerts</li> <li>Warning Alerts: Number of warning severity alerts</li> <li>Info Alerts: Number of informational alerts</li> </ul>"},{"location":"plugins/vcf-operations/frontend/about/#power-environment","title":"Power &amp; Environment","text":"<p>Environmental and power consumption metrics:</p> <ul> <li>Power Usage (W): Power consumption in watts</li> </ul>"},{"location":"plugins/vcf-operations/frontend/about/#resource-detection-logic","title":"Resource Detection Logic","text":"<p>The frontend automatically detects VCF Operations resources based on entity metadata:</p>"},{"location":"plugins/vcf-operations/frontend/about/#virtual-machines","title":"Virtual Machines","text":""},{"location":"plugins/vcf-operations/frontend/about/#standalone-vms","title":"Standalone VMs","text":"<ul> <li>Detection: Entities with <code>kind:virtualmachine</code> and <code>standalone-resource</code> tags</li> <li>Name Extraction: Removes \" (Standalone)\" suffix from entity title</li> <li>Example: \"my-vm (Standalone)\" \u2192 searches for \"my-vm\"</li> </ul>"},{"location":"plugins/vcf-operations/frontend/about/#non-standalone-vms","title":"Non-Standalone VMs","text":"<ul> <li>Detection: Entities with <code>kind:virtualmachine</code> tag (without <code>standalone-resource</code>)</li> <li>Name Extraction: Parses \"Open Remote Console\" link from entity metadata</li> <li>URL Parsing: Extracts last segment from remote console URL</li> <li>Example: <code>/machines/remote-console/vra/cluster/vm-name</code> \u2192 searches for \"vm-name\"</li> </ul>"},{"location":"plugins/vcf-operations/frontend/about/#supervisor-namespaces","title":"Supervisor Namespaces","text":"<ul> <li>Detection: Entities with <code>terasky.backstage.io/vcf-automation-cci-namespace-endpoint</code> annotation</li> <li>URN Extraction: Parses namespace URN from CCI endpoint URL</li> <li>Property Matching: Matches against <code>summary|vcfa_ns_uuid</code> property in VCF Operations</li> </ul>"},{"location":"plugins/vcf-operations/frontend/about/#vcf-automation-projects","title":"VCF Automation Projects","text":"<ul> <li>Detection: Domain entities with type <code>vcf-automation-project</code></li> <li>Name Matching: Direct mapping of entity title to VCF Operations resource name</li> </ul>"},{"location":"plugins/vcf-operations/frontend/about/#planned-support","title":"Planned Support","text":"<ul> <li>Clusters: Kubernetes cluster resources (development in progress)</li> <li>Deployments: Application deployment resources (development in progress)</li> </ul>"},{"location":"plugins/vcf-operations/frontend/about/#user-experience-features","title":"User Experience Features","text":""},{"location":"plugins/vcf-operations/frontend/about/#smart-defaults","title":"Smart Defaults","text":"<ul> <li>Pre-selected Metrics: CPU, Memory, and Network usage automatically selected</li> <li>Default Time Range: 24-hour view for immediate insights</li> <li>Automatic Loading: Metrics load immediately upon selection</li> </ul>"},{"location":"plugins/vcf-operations/frontend/about/#interactive-controls","title":"Interactive Controls","text":"<ul> <li>One-Click Category Selection: Select entire metric categories with single click</li> <li>Bulk Operations: Select all or clear all metrics quickly</li> <li>Real-time Updates: Automatic refresh with configurable intervals</li> <li>Manual Refresh: On-demand data refresh for immediate updates</li> </ul>"},{"location":"plugins/vcf-operations/frontend/about/#visual-feedback","title":"Visual Feedback","text":"<ul> <li>Loading Indicators: Clear feedback during data loading</li> <li>Error Messages: Helpful error descriptions with suggested actions</li> <li>Progress Indicators: Selection counts and status information</li> <li>Hover Effects: Interactive elements with visual feedback</li> </ul>"},{"location":"plugins/vcf-operations/frontend/about/#responsive-design","title":"Responsive Design","text":"<ul> <li>Mobile Support: Optimized layout for mobile and tablet devices</li> <li>Flexible Panels: Resizable and collapsible interface elements</li> <li>Adaptive Charts: Charts resize based on available space</li> <li>Theme Integration: Seamless integration with Backstage themes</li> </ul>"},{"location":"plugins/vcf-operations/frontend/about/#api-integration","title":"API Integration","text":""},{"location":"plugins/vcf-operations/frontend/about/#vcf-operations-client","title":"VCF Operations Client","text":"<p>The frontend communicates with the backend through a dedicated API client:</p> <pre><code>interface VcfOperationsApi {\n  getInstances(): Promise&lt;Instance[]&gt;;\n  findResourceByName(name: string, instance?: string): Promise&lt;Resource | null&gt;;\n  findResourceByProperty(key: string, value: string, instance?: string): Promise&lt;Resource | null&gt;;\n  getResourceMetrics(\n    resourceId: string,\n    statKeys: string[],\n    begin?: number,\n    end?: number,\n    rollUpType?: string,\n    instance?: string\n  ): Promise&lt;StatsResponse&gt;;\n}\n</code></pre>"},{"location":"plugins/vcf-operations/frontend/about/#error-handling","title":"Error Handling","text":"<p>Comprehensive error handling with user-friendly messages:</p> <ul> <li>Connection Errors: Network connectivity issues</li> <li>Authentication Errors: Invalid credentials or permissions</li> <li>Resource Not Found: Missing resources with helpful suggestions</li> <li>Invalid Metrics: Unsupported metric keys with alternatives</li> <li>Time Range Errors: Invalid time ranges with automatic correction</li> </ul>"},{"location":"plugins/vcf-operations/frontend/about/#performance-optimizations","title":"Performance Optimizations","text":""},{"location":"plugins/vcf-operations/frontend/about/#efficient-data-loading","title":"Efficient Data Loading","text":"<ul> <li>Automatic Loading: Metrics load when selected, eliminating manual refresh</li> <li>Debounced Requests: Prevents excessive API calls during rapid selections</li> <li>Caching Strategy: Intelligent caching of resource metadata</li> <li>Progressive Loading: Charts render as data becomes available</li> </ul>"},{"location":"plugins/vcf-operations/frontend/about/#memory-management","title":"Memory Management","text":"<ul> <li>Component Optimization: Efficient React component lifecycle management</li> <li>Chart Cleanup: Proper cleanup of chart instances and event listeners</li> <li>State Management: Optimized state updates and re-renders</li> </ul>"},{"location":"plugins/vcf-operations/frontend/about/#network-efficiency","title":"Network Efficiency","text":"<ul> <li>Batch Requests: Multiple metrics requested in single API calls</li> <li>Request Cancellation: Cleanup of obsolete requests when selections change</li> <li>Compression: Efficient data transfer with response compression</li> </ul>"},{"location":"plugins/vcf-operations/frontend/about/#accessibility-features","title":"Accessibility Features","text":""},{"location":"plugins/vcf-operations/frontend/about/#keyboard-navigation","title":"Keyboard Navigation","text":"<ul> <li>Tab Navigation: Full keyboard navigation support</li> <li>Focus Management: Clear focus indicators and logical tab order</li> <li>Keyboard Shortcuts: Efficient navigation with keyboard shortcuts</li> </ul>"},{"location":"plugins/vcf-operations/frontend/about/#screen-reader-support","title":"Screen Reader Support","text":"<ul> <li>ARIA Labels: Comprehensive ARIA labeling for screen readers</li> <li>Semantic HTML: Proper HTML structure for accessibility</li> <li>Alt Text: Descriptive alternative text for visual elements</li> </ul>"},{"location":"plugins/vcf-operations/frontend/about/#visual-accessibility","title":"Visual Accessibility","text":"<ul> <li>High Contrast: Compatible with high contrast themes</li> <li>Color Blind Support: Color schemes accessible to color blind users</li> <li>Scalable Text: Respects user font size preferences</li> </ul> <p>The VCF Operations Frontend plugin provides a comprehensive, user-friendly interface for monitoring VCF infrastructure, enabling teams to quickly identify performance issues and optimize resource utilization through intuitive visualizations and intelligent automation.</p>"},{"location":"plugins/vcf-operations/frontend/configure/","title":"Configuring VCF Operations Frontend Plugin","text":"<p>This guide covers how to configure and customize the VCF Operations Frontend plugin for your organization's needs.</p>"},{"location":"plugins/vcf-operations/frontend/configure/#new-frontend-system-configuration-alpha","title":"New Frontend System Configuration (Alpha)","text":"<p>When using the new frontend system through the <code>/alpha</code> export, the plugin is configured automatically with sensible defaults. The configuration options described below are still available and can be customized through the app configuration.</p>"},{"location":"plugins/vcf-operations/frontend/configure/#basic-configuration","title":"Basic Configuration","text":"<p>The frontend plugin automatically inherits configuration from the backend plugin, but you can customize the user experience through various options.</p>"},{"location":"plugins/vcf-operations/frontend/configure/#permission-configuration","title":"Permission Configuration","text":""},{"location":"plugins/vcf-operations/frontend/configure/#basic-permission-control","title":"Basic Permission Control","text":"<p>Configure permissions in your <code>app-config.yaml</code>:</p> <pre><code>permission:\n  enabled: true\n  rules:\n    - allow: [vcf-operations.metrics.view]\n      resourceType: entity\n      conditions:\n        anyOf:\n          - rule: HAS_TAG\n            params:\n              tag: 'vcf-monitored'\n</code></pre>"},{"location":"plugins/vcf-operations/frontend/configure/#role-based-access-control","title":"Role-Based Access Control","text":"<p>Configure different access levels:</p> <pre><code>permission:\n  enabled: true\n  rules:\n    # Infrastructure team - full access\n    - allow: [vcf-operations.metrics.view]\n      resourceType: entity\n      conditions:\n        allOf:\n          - rule: HAS_ANNOTATION\n            params:\n              annotation: 'backstage.io/managed-by-location'\n          - rule: IS_ENTITY_OWNER\n            params:\n              claims: ['group:infrastructure']\n\n    # Developers - limited access to their resources\n    - allow: [vcf-operations.metrics.view]\n      resourceType: entity\n      conditions:\n        anyOf:\n          - rule: IS_ENTITY_OWNER\n          - rule: HAS_SPEC\n            params:\n              key: 'owner'\n              value: 'user:$user'\n</code></pre>"},{"location":"plugins/vcf-operations/frontend/configure/#environment-based-permissions","title":"Environment-Based Permissions","text":"<p>Different permissions for different environments:</p> <pre><code>permission:\n  enabled: true\n  rules:\n    # Production - restricted access\n    - allow: [vcf-operations.metrics.view]\n      resourceType: entity\n      conditions:\n        allOf:\n          - rule: HAS_TAG\n            params:\n              tag: 'environment:production'\n          - rule: IS_ENTITY_OWNER\n            params:\n              claims: ['group:platform-team']\n\n    # Development - open access\n    - allow: [vcf-operations.metrics.view]\n      resourceType: entity\n      conditions:\n        anyOf:\n          - rule: HAS_TAG\n            params:\n              tag: 'environment:development'\n</code></pre>"},{"location":"plugins/vcf-operations/frontend/configure/#entity-configuration","title":"Entity Configuration","text":""},{"location":"plugins/vcf-operations/frontend/configure/#virtual-machine-configuration","title":"Virtual Machine Configuration","text":"<p>Configure entity metadata for VM monitoring:</p> <pre><code># catalog-info.yaml\napiVersion: backstage.io/v1alpha1\nkind: Component\nmetadata:\n  name: web-server-vm\n  title: Web Server (Standalone)\n  tags:\n    - kind:virtualmachine\n    - standalone-resource\n    - vcf-monitored\n  annotations:\n    backstage.io/managed-by-location: 'url:https://github.com/company/infrastructure'\n  links:\n    - url: https://vcfa.company.com/automation/#/machines/remote-console/vra/cluster/web-server\n      title: Open Remote Console\nspec:\n  type: virtual-machine\n  owner: team:infrastructure\n  lifecycle: production\n</code></pre>"},{"location":"plugins/vcf-operations/frontend/configure/#non-standalone-vm-configuration","title":"Non-Standalone VM Configuration","text":"<p>For VMs managed through VCF Automation:</p> <pre><code>apiVersion: backstage.io/v1alpha1\nkind: Component\nmetadata:\n  name: app-server\n  title: Application Server\n  tags:\n    - kind:virtualmachine\n    - vcf-monitored\n  links:\n    - url: https://vcfa.company.com/automation/#/build-and-deploy/all-resources/deployments/abc123\n      title: Open in VCF Automation\n    - url: https://vcfa.company.com/automation/#/machines/remote-console/vra/cluster-01/app-server-vm\n      title: Open Remote Console  # This link is used for resource discovery\nspec:\n  type: virtual-machine\n  owner: team:development\n</code></pre>"},{"location":"plugins/vcf-operations/frontend/configure/#supervisor-namespace-configuration","title":"Supervisor Namespace Configuration","text":"<p>For CCI namespace monitoring:</p> <pre><code>apiVersion: backstage.io/v1alpha1\nkind: Component\nmetadata:\n  name: k8s-namespace\n  title: Kubernetes Namespace\n  tags:\n    - vcf-monitored\n  annotations:\n    terasky.backstage.io/vcf-automation-cci-namespace-endpoint: 'https://vcfa.company.com/proxy/k8s/namespaces/urn:vcloud:namespace:abc123-def456'\nspec:\n  type: namespace\n  owner: team:platform\n</code></pre>"},{"location":"plugins/vcf-operations/frontend/configure/#vcf-automation-project-configuration","title":"VCF Automation Project Configuration","text":"<p>For project-level monitoring:</p> <pre><code>apiVersion: backstage.io/v1alpha1\nkind: Domain\nmetadata:\n  name: web-services-project\n  title: Web Services Project\n  tags:\n    - vcf-monitored\nspec:\n  type: vcf-automation-project\n  owner: team:web-services\n</code></pre> <p>The VCF Operations Frontend plugin provides extensive configuration options to adapt to your organization's monitoring needs and user experience requirements.</p>"},{"location":"plugins/vcf-operations/frontend/install/","title":"Installing VCF Operations Frontend Plugin","text":"<p>This guide walks you through installing the VCF Operations Frontend plugin in your Backstage application.</p>"},{"location":"plugins/vcf-operations/frontend/install/#prerequisites","title":"Prerequisites","text":"<ul> <li>VCF Operations Backend plugin installed and configured</li> </ul>"},{"location":"plugins/vcf-operations/frontend/install/#installation-steps","title":"Installation Steps","text":""},{"location":"plugins/vcf-operations/frontend/install/#1-install-the-package","title":"1. Install the Package","text":"<p>Add the frontend plugin to your Backstage application:</p> <pre><code># From your Backstage root directory\nyarn --cwd packages/app add @terasky/backstage-plugin-vcf-operations\n</code></pre>"},{"location":"plugins/vcf-operations/frontend/install/#2-add-to-entity-pages","title":"2. Add to Entity Pages","text":"<p>Add VCF Operations tabs to relevant entity pages in <code>packages/app/src/components/catalog/EntityPage.tsx</code>:</p>"},{"location":"plugins/vcf-operations/frontend/install/#for-virtual-machine-entities","title":"For Virtual Machine Entities","text":"<pre><code>import { VCFOperationsExplorerComponent } from '@terasky/backstage-plugin-vcf-operations';\nimport { isKind } from '@backstage/plugin-catalog';\n\n// Add to VM entity pages\nconst vmEntityPage = (\n  &lt;EntityPageLayout&gt;\n    &lt;EntityPageLayout.Route path=\"/\" title=\"Overview\"&gt;\n      &lt;EntityOrphanWarning /&gt;\n      &lt;Grid container spacing={3} alignItems=\"stretch\"&gt;\n        {/* ... other overview content */}\n      &lt;/Grid&gt;\n    &lt;/EntityPageLayout.Route&gt;\n\n    {/* Add VCF Operations tab */}\n    &lt;EntityPageLayout.Route path=\"/vcf-operations\" title=\"Metrics\"&gt;\n      &lt;VCFOperationsExplorerComponent /&gt;\n    &lt;/EntityPageLayout.Route&gt;\n\n    {/* ... other tabs */}\n  &lt;/EntityPageLayout&gt;\n);\n\n// Update entity page routing\nconst entityPage = (\n  &lt;EntitySwitch&gt;\n    {/* ... other cases */}\n    &lt;EntitySwitch.Case if={isKind('component')} children={componentPage} /&gt;\n    &lt;EntitySwitch.Case if={isKind('system')} children={systemPage} /&gt;\n\n    {/* Add VM support */}\n    &lt;EntitySwitch.Case \n      if={entity =&gt; entity.metadata.tags?.includes('kind:virtualmachine')}\n      children={vmEntityPage} \n    /&gt;\n\n    &lt;EntitySwitch.Case children={defaultEntityPage} /&gt;\n  &lt;/EntitySwitch&gt;\n);\n</code></pre>"},{"location":"plugins/vcf-operations/frontend/install/#for-project-and-namespace-entities","title":"For Project and Namespace Entities","text":"<pre><code>// For VCF Automation projects\nconst projectEntityPage = (\n  &lt;EntityPageLayout&gt;\n    {/* ... other tabs */}\n    &lt;EntityPageLayout.Route path=\"/vcf-operations\" title=\"Operations Metrics\"&gt;\n      &lt;VCFOperationsExplorerComponent /&gt;\n    &lt;/EntityPageLayout.Route&gt;\n  &lt;/EntityPageLayout&gt;\n);\n\n// Update routing for domains\n&lt;EntitySwitch.Case \n  if={entity =&gt; entity.kind === 'Domain' &amp;&amp; entity.spec?.type === 'vcf-automation-project'}\n  children={projectEntityPage} \n/&gt;\n</code></pre>"},{"location":"plugins/vcf-operations/frontend/install/#verification","title":"Verification","text":""},{"location":"plugins/vcf-operations/frontend/install/#1-start-the-frontend","title":"1. Start the Frontend","text":"<p>Start your Backstage frontend to ensure the plugin loads correctly:</p> <pre><code>yarn start\n</code></pre>"},{"location":"plugins/vcf-operations/frontend/install/#2-check-plugin-registration","title":"2. Check Plugin Registration","text":"<p>Verify the plugin appears in your Backstage instance:</p> <ol> <li>Navigate to an entity with VCF Operations support</li> <li>Look for the \"Metrics\" or \"VCF Operations\" tab</li> <li>Check that the tab loads without errors</li> </ol>"},{"location":"plugins/vcf-operations/frontend/install/#3-test-functionality","title":"3. Test Functionality","text":"<p>Test the core functionality:</p> <ol> <li>Select different metrics categories</li> <li>Try different time ranges and aggregation options</li> <li>Verify auto-refresh functionality</li> <li>Test manual refresh button</li> </ol>"},{"location":"plugins/vcf-operations/frontend/install/#common-installation-issues","title":"Common Installation Issues","text":""},{"location":"plugins/vcf-operations/frontend/install/#permission-errors","title":"Permission Errors","text":"<p>If you see permission denied errors:</p> <ol> <li>Verify backend plugin is installed and configured</li> <li>Check permission configuration in app-config.yaml</li> <li>Ensure user has required permissions</li> </ol>"},{"location":"plugins/vcf-operations/frontend/install/#component-not-found-errors","title":"Component Not Found Errors","text":"<p>If components don't load:</p> <pre><code># Verify plugin packages are installed\nyarn list @terasky/backstage-plugin-vcf-operations\nyarn list @terasky/backstage-plugin-vcf-operations-common\n\n# Reinstall if necessary\nyarn cache clean\nyarn install\n</code></pre>"},{"location":"plugins/vcf-operations/frontend/install/#theme-integration-issues","title":"Theme Integration Issues","text":"<p>If styling appears broken:</p> <ol> <li>Ensure Material-UI version compatibility</li> <li>Check for theme conflicts</li> <li>Verify CSS import order</li> <li>Test with default Backstage theme</li> </ol>"},{"location":"plugins/vcf-operations/frontend/install/#new-frontend-system-support-alpha","title":"New Frontend System Support (Alpha)","text":"<p>The plugin now supports the new frontend system available in the <code>/alpha</code> export. To use this:</p> <pre><code>import { createApp } from '@backstage/frontend-defaults';\nimport { vcfOperationsPlugin } from '@terasky/backstage-plugin-vcf-operations/alpha';\n\nexport default createApp({\n  features: [\n    ...\n    vcfOperationsPlugin,\n    ...\n  ],\n});\n</code></pre> <p>This replaces the need for manual route configuration in <code>EntityPage.tsx</code> and other files. The plugin will be automatically integrated into the appropriate entity pages.</p>"},{"location":"plugins/vcf-operations/frontend/install/#next-steps","title":"Next Steps","text":"<p>After successful installation:</p> <ol> <li>Configure the Frontend - Set up component options and permissions</li> <li>Test Integration - Verify functionality with your VCF Operations environment</li> <li>Customize Styling - Adapt the interface to match your organization's branding</li> <li>Train Users - Provide documentation and training for end users</li> </ol>"},{"location":"plugins/vcf-operations/frontend/install/#getting-help","title":"Getting Help","text":"<p>If you encounter issues during installation:</p> <ol> <li>Verify all prerequisites are met</li> <li>Review browser console for detailed error messages</li> <li>Ensure backend plugin is properly configured</li> <li>Test with a minimal configuration first</li> </ol> <p>The VCF Operations Frontend plugin provides a powerful interface for infrastructure monitoring - once installed and configured, your teams can start monitoring VCF Operations metrics directly within Backstage!</p>"}]}